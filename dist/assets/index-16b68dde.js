(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Us(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vm={exports:{}},Vs={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ch=Object.getOwnPropertySymbols,k1=Object.prototype.hasOwnProperty,C1=Object.prototype.propertyIsEnumerable;function T1(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function b1(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Hm=b1()?Object.assign:function(t,e){for(var n,r=T1(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)k1.call(n,o)&&(r[o]=n[o]);if(ch){i=ch(n);for(var u=0;u<i.length;u++)C1.call(n,i[u])&&(r[i[u]]=n[i[u]])}}return r},qm={exports:{}},ue={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=Hm,di=60103,Km=60106;ue.Fragment=60107;ue.StrictMode=60108;ue.Profiler=60114;var Wm=60109,Gm=60110,Qm=60112;ue.Suspense=60113;var Xm=60115,Ym=60116;if(typeof Symbol=="function"&&Symbol.for){var Nt=Symbol.for;di=Nt("react.element"),Km=Nt("react.portal"),ue.Fragment=Nt("react.fragment"),ue.StrictMode=Nt("react.strict_mode"),ue.Profiler=Nt("react.profiler"),Wm=Nt("react.provider"),Gm=Nt("react.context"),Qm=Nt("react.forward_ref"),ue.Suspense=Nt("react.suspense"),Xm=Nt("react.memo"),Ym=Nt("react.lazy")}var dh=typeof Symbol=="function"&&Symbol.iterator;function I1(t){return t===null||typeof t!="object"?null:(t=dh&&t[dh]||t["@@iterator"],typeof t=="function"?t:null)}function Hs(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zm={};function fi(t,e,n){this.props=t,this.context=e,this.refs=Zm,this.updater=n||Jm}fi.prototype.isReactComponent={};fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Hs(85));this.updater.enqueueSetState(this,t,e,"setState")};fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eg(){}eg.prototype=fi.prototype;function pd(t,e,n){this.props=t,this.context=e,this.refs=Zm,this.updater=n||Jm}var md=pd.prototype=new eg;md.constructor=pd;hd(md,fi.prototype);md.isPureReactComponent=!0;var gd={current:null},tg=Object.prototype.hasOwnProperty,ng={key:!0,ref:!0,__self:!0,__source:!0};function rg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tg.call(e,r)&&!ng.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:di,type:t,key:s,ref:o,props:i,_owner:gd.current}}function A1(t,e){return{$$typeof:di,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vd(t){return typeof t=="object"&&t!==null&&t.$$typeof===di}function P1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fh=/\/+/g;function Zu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?P1(""+t.key):e.toString(36)}function Ho(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case di:case Km:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Zu(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(fh,"$&/")+"/"),Ho(i,e,n,"",function(c){return c})):i!=null&&(vd(i)&&(i=A1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+Zu(s,u);o+=Ho(s,e,n,l,i)}else if(l=I1(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+Zu(s,u++),o+=Ho(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(Hs(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function wo(t,e,n){if(t==null)return t;var r=[],i=0;return Ho(t,r,"","",function(s){return e.call(n,s,i++)}),r}function N1(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var ig={current:null};function pn(){var t=ig.current;if(t===null)throw Error(Hs(321));return t}var D1={ReactCurrentDispatcher:ig,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:gd,IsSomeRendererActing:{current:!1},assign:hd};ue.Children={map:wo,forEach:function(t,e,n){wo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wo(t,function(){e++}),e},toArray:function(t){return wo(t,function(e){return e})||[]},only:function(t){if(!vd(t))throw Error(Hs(143));return t}};ue.Component=fi;ue.PureComponent=pd;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D1;ue.cloneElement=function(t,e,n){if(t==null)throw Error(Hs(267,t));var r=hd({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)tg.call(e,l)&&!ng.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:di,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Gm,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Wm,_context:t},t.Consumer=t};ue.createElement=rg;ue.createFactory=function(t){var e=rg.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Qm,render:t}};ue.isValidElement=vd;ue.lazy=function(t){return{$$typeof:Ym,_payload:{_status:-1,_result:t},_init:N1}};ue.memo=function(t,e){return{$$typeof:Xm,type:t,compare:e===void 0?null:e}};ue.useCallback=function(t,e){return pn().useCallback(t,e)};ue.useContext=function(t,e){return pn().useContext(t,e)};ue.useDebugValue=function(){};ue.useEffect=function(t,e){return pn().useEffect(t,e)};ue.useImperativeHandle=function(t,e,n){return pn().useImperativeHandle(t,e,n)};ue.useLayoutEffect=function(t,e){return pn().useLayoutEffect(t,e)};ue.useMemo=function(t,e){return pn().useMemo(t,e)};ue.useReducer=function(t,e,n){return pn().useReducer(t,e,n)};ue.useRef=function(t){return pn().useRef(t)};ue.useState=function(t){return pn().useState(t)};ue.version="17.0.2";qm.exports=ue;var At=qm.exports;const Ft=Us(At);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1=At,sg=60103;Vs.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var hh=Symbol.for;sg=hh("react.element"),Vs.Fragment=hh("react.fragment")}var O1=M1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$1=Object.prototype.hasOwnProperty,L1={key:!0,ref:!0,__self:!0,__source:!0};function og(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$1.call(e,r)&&!L1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sg,type:t,key:s,ref:o,props:i,_owner:O1.current}}Vs.jsx=og;Vs.jsxs=og;Vm.exports=Vs;var Oe=Vm.exports,ag={exports:{}},Pt={},ug={exports:{}},lg={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,c=null,h=function(){if(l!==null)try{var P=t.unstable_now();l(!0,P),l=null}catch(H){throw setTimeout(h,0),H}};e=function(P){l!==null?setTimeout(e,0,P):(l=P,setTimeout(h,0))},n=function(P,H){c=setTimeout(P,H)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,v=window.clearTimeout;if(typeof console<"u"){var b=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof b!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var I=!1,C=null,y=-1,m=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<P?Math.floor(1e3/P):5};var T=new MessageChannel,a=T.port2;T.port1.onmessage=function(){if(C!==null){var P=t.unstable_now();g=P+m;try{C(!0,P)?a.postMessage(null):(I=!1,C=null)}catch(H){throw a.postMessage(null),H}}else I=!1},e=function(P){C=P,I||(I=!0,a.postMessage(null))},n=function(P,H){y=_(function(){P(t.unstable_now())},H)},r=function(){v(y),y=-1}}function f(P,H){var K=P.length;P.push(H);e:for(;;){var re=K-1>>>1,ie=P[re];if(ie!==void 0&&0<w(ie,H))P[re]=H,P[K]=ie,K=re;else break e}}function d(P){return P=P[0],P===void 0?null:P}function p(P){var H=P[0];if(H!==void 0){var K=P.pop();if(K!==H){P[0]=K;e:for(var re=0,ie=P.length;re<ie;){var pe=2*(re+1)-1,Ee=P[pe],j=pe+1,$=P[j];if(Ee!==void 0&&0>w(Ee,K))$!==void 0&&0>w($,Ee)?(P[re]=$,P[j]=K,re=j):(P[re]=Ee,P[pe]=K,re=pe);else if($!==void 0&&0>w($,K))P[re]=$,P[j]=K,re=j;else break e}}return H}return null}function w(P,H){var K=P.sortIndex-H.sortIndex;return K!==0?K:P.id-H.id}var E=[],S=[],A=1,L=null,N=3,M=!1,O=!1,k=!1;function D(P){for(var H=d(S);H!==null;){if(H.callback===null)p(S);else if(H.startTime<=P)p(S),H.sortIndex=H.expirationTime,f(E,H);else break;H=d(S)}}function B(P){if(k=!1,D(P),!O)if(d(E)!==null)O=!0,e(V);else{var H=d(S);H!==null&&n(B,H.startTime-P)}}function V(P,H){O=!1,k&&(k=!1,r()),M=!0;var K=N;try{for(D(H),L=d(E);L!==null&&(!(L.expirationTime>H)||P&&!t.unstable_shouldYield());){var re=L.callback;if(typeof re=="function"){L.callback=null,N=L.priorityLevel;var ie=re(L.expirationTime<=H);H=t.unstable_now(),typeof ie=="function"?L.callback=ie:L===d(E)&&p(E),D(H)}else p(E);L=d(E)}if(L!==null)var pe=!0;else{var Ee=d(S);Ee!==null&&n(B,Ee.startTime-H),pe=!1}return pe}finally{L=null,N=K,M=!1}}var se=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){O||M||(O=!0,e(V))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return d(E)},t.unstable_next=function(P){switch(N){case 1:case 2:case 3:var H=3;break;default:H=N}var K=N;N=H;try{return P()}finally{N=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=se,t.unstable_runWithPriority=function(P,H){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var K=N;N=P;try{return H()}finally{N=K}},t.unstable_scheduleCallback=function(P,H,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,P){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=K+ie,P={id:A++,callback:H,priorityLevel:P,startTime:K,expirationTime:ie,sortIndex:-1},K>re?(P.sortIndex=K,f(S,P),d(E)===null&&P===d(S)&&(k?r():k=!0,n(B,K-re))):(P.sortIndex=ie,f(E,P),O||M||(O=!0,e(V))),P},t.unstable_wrapCallback=function(P){var H=N;return function(){var K=N;N=H;try{return P.apply(this,arguments)}finally{N=K}}}})(lg);ug.exports=lg;var R1=ug.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=At,_e=Hm,je=R1;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ga)throw Error(z(227));var cg=new Set,ps={};function pr(t,e){Yr(t,e),Yr(t+"Capture",e)}function Yr(t,e){for(ps[t]=e,t=0;t<e.length;t++)cg.add(e[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ph=Object.prototype.hasOwnProperty,mh={},gh={};function z1(t){return ph.call(gh,t)?!0:ph.call(mh,t)?!1:x1.test(t)?gh[t]=!0:(mh[t]=!0,!1)}function j1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F1(t,e,n,r){if(e===null||typeof e>"u"||j1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var yd=/[\-:]([a-z])/g;function wd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yd,wd);We[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yd,wd);We[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yd,wd);We[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function _d(t,e,n,r){var i=We.hasOwnProperty(e)?We[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(F1(e,n,i,r)&&(n=null),r||i===null?z1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mr=Ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bi=60103,Xn=60106,vn=60107,Ed=60108,Yi=60114,Sd=60109,kd=60110,Qa=60112,Ji=60113,sa=60120,Xa=60115,Cd=60116,Td=60121,bd=60128,dg=60129,Id=60130,Gl=60131;if(typeof Symbol=="function"&&Symbol.for){var xe=Symbol.for;Bi=xe("react.element"),Xn=xe("react.portal"),vn=xe("react.fragment"),Ed=xe("react.strict_mode"),Yi=xe("react.profiler"),Sd=xe("react.provider"),kd=xe("react.context"),Qa=xe("react.forward_ref"),Ji=xe("react.suspense"),sa=xe("react.suspense_list"),Xa=xe("react.memo"),Cd=xe("react.lazy"),Td=xe("react.block"),xe("react.scope"),bd=xe("react.opaque.id"),dg=xe("react.debug_trace_mode"),Id=xe("react.offscreen"),Gl=xe("react.legacy_hidden")}var vh=typeof Symbol=="function"&&Symbol.iterator;function Ti(t){return t===null||typeof t!="object"?null:(t=vh&&t[vh]||t["@@iterator"],typeof t=="function"?t:null)}var el;function Ui(t){if(el===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);el=e&&e[1]||""}return`
`+el+t}var tl=!1;function _o(t,e){if(!t||tl)return"";tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=u);break}}}finally{tl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ui(t):""}function B1(t){switch(t.tag){case 5:return Ui(t.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 2:case 15:return t=_o(t.type,!1),t;case 11:return t=_o(t.type.render,!1),t;case 22:return t=_o(t.type._render,!1),t;case 1:return t=_o(t.type,!0),t;default:return""}}function Rr(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vn:return"Fragment";case Xn:return"Portal";case Yi:return"Profiler";case Ed:return"StrictMode";case Ji:return"Suspense";case sa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kd:return(t.displayName||"Context")+".Consumer";case Sd:return(t._context.displayName||"Context")+".Provider";case Qa:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Xa:return Rr(t.type);case Td:return Rr(t._render);case Cd:e=t._payload,t=t._init;try{return Rr(t(e))}catch{}}return null}function $n(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function fg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U1(t){var e=fg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eo(t){t._valueTracker||(t._valueTracker=U1(t))}function hg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ql(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$n(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pg(t,e){e=e.checked,e!=null&&_d(t,"checked",e,!1)}function Xl(t,e){pg(t,e);var n=$n(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yl(t,e.type,$n(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yl(t,e,n){(e!=="number"||oa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function V1(t){var e="";return Ga.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Jl(t,e){return t=_e({children:void 0},e),(e=V1(e.children))&&(t.children=e),t}function xr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$n(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _h(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$n(n)}}function mg(t,e){var n=$n(e.value),r=$n(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Eh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var ec={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function gg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var So,vg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==ec.svg||"innerHTML"in t)t.innerHTML=e;else{for(So=So||document.createElement("div"),So.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=So.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ms(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H1=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(t){H1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zi[e]=Zi[t]})});function yg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zi.hasOwnProperty(t)&&Zi[t]?(""+e).trim():e+"px"}function wg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var q1=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nc(t,e){if(e){if(q1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function rc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ad(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ic=null,zr=null,jr=null;function Sh(t){if(t=Ks(t)){if(typeof ic!="function")throw Error(z(280));var e=t.stateNode;e&&(e=nu(e),ic(t.stateNode,t.type,e))}}function _g(t){zr?jr?jr.push(t):jr=[t]:zr=t}function Eg(){if(zr){var t=zr,e=jr;if(jr=zr=null,Sh(t),e)for(t=0;t<e.length;t++)Sh(e[t])}}function Pd(t,e){return t(e)}function Sg(t,e,n,r,i){return t(e,n,r,i)}function Nd(){}var kg=Pd,Yn=!1,nl=!1;function Dd(){(zr!==null||jr!==null)&&(Nd(),Eg())}function K1(t,e,n){if(nl)return t(e,n);nl=!0;try{return kg(t,e,n)}finally{nl=!1,Dd()}}function gs(t,e){var n=t.stateNode;if(n===null)return null;var r=nu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var sc=!1;if(ln)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){sc=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{sc=!1}function W1(t,e,n,r,i,s,o,u,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var es=!1,aa=null,ua=!1,oc=null,G1={onError:function(t){es=!0,aa=t}};function Q1(t,e,n,r,i,s,o,u,l){es=!1,aa=null,W1.apply(G1,arguments)}function X1(t,e,n,r,i,s,o,u,l){if(Q1.apply(this,arguments),es){if(es){var c=aa;es=!1,aa=null}else throw Error(z(198));ua||(ua=!0,oc=c)}}function gr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kh(t){if(gr(t)!==t)throw Error(z(188))}function Y1(t){var e=t.alternate;if(!e){if(e=gr(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return kh(i),t;if(s===r)return kh(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Tg(t){if(t=Y1(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ch(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var bg,Md,Ig,Ag,ac=!1,Ut=[],Sn=null,kn=null,Cn=null,vs=new Map,ys=new Map,Ii=[],Th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function bh(t,e){switch(t){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":vs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(e.pointerId)}}function Ai(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=uc(e,n,r,i,s),e!==null&&(e=Ks(e),e!==null&&Md(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function J1(t,e,n,r,i){switch(e){case"focusin":return Sn=Ai(Sn,t,e,n,r,i),!0;case"dragenter":return kn=Ai(kn,t,e,n,r,i),!0;case"mouseover":return Cn=Ai(Cn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vs.set(s,Ai(vs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ys.set(s,Ai(ys.get(s)||null,t,e,n,r,i)),!0}return!1}function Z1(t){var e=Jn(t.target);if(e!==null){var n=gr(e);if(n!==null){if(e=n.tag,e===13){if(e=Cg(n),e!==null){t.blockedOn=e,Ag(t.lanePriority,function(){je.unstable_runWithPriority(t.priority,function(){Ig(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Ks(n),e!==null&&Md(e),t.blockedOn=n,!1;e.shift()}return!0}function Ih(t,e,n){qo(t)&&n.delete(e)}function ew(){for(ac=!1;0<Ut.length;){var t=Ut[0];if(t.blockedOn!==null){t=Ks(t.blockedOn),t!==null&&bg(t);break}for(var e=t.targetContainers;0<e.length;){var n=Rd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&Ut.shift()}Sn!==null&&qo(Sn)&&(Sn=null),kn!==null&&qo(kn)&&(kn=null),Cn!==null&&qo(Cn)&&(Cn=null),vs.forEach(Ih),ys.forEach(Ih)}function Pi(t,e){t.blockedOn===e&&(t.blockedOn=null,ac||(ac=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,ew)))}function Pg(t){function e(i){return Pi(i,t)}if(0<Ut.length){Pi(Ut[0],t);for(var n=1;n<Ut.length;n++){var r=Ut[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sn!==null&&Pi(Sn,t),kn!==null&&Pi(kn,t),Cn!==null&&Pi(Cn,t),vs.forEach(e),ys.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)Z1(n),n.blockedOn===null&&Ii.shift()}function ko(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ir={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},rl={},Ng={};ln&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Ya(t){if(rl[t])return rl[t];if(!Ir[t])return t;var e=Ir[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ng)return rl[t]=e[n];return t}var Dg=Ya("animationend"),Mg=Ya("animationiteration"),Og=Ya("animationstart"),$g=Ya("transitionend"),Lg=new Map,Od=new Map,tw=["abort","abort",Dg,"animationEnd",Mg,"animationIteration",Og,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$g,"transitionEnd","waiting","waiting"];function $d(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Od.set(r,e),Lg.set(r,i),pr(i,[r])}}var nw=je.unstable_now;nw();var he=8;function kr(t){if(1&t)return he=15,1;if(2&t)return he=14,2;if(4&t)return he=13,4;var e=24&t;return e!==0?(he=12,e):t&32?(he=11,32):(e=192&t,e!==0?(he=10,e):t&256?(he=9,256):(e=3584&t,e!==0?(he=8,e):t&4096?(he=7,4096):(e=4186112&t,e!==0?(he=6,e):(e=62914560&t,e!==0?(he=5,e):t&67108864?(he=4,67108864):t&134217728?(he=3,134217728):(e=805306368&t,e!==0?(he=2,e):1073741824&t?(he=1,1073741824):(he=8,t))))))}function rw(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function iw(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(z(358,t))}}function ws(t,e){var n=t.pendingLanes;if(n===0)return he=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,u=t.pingedLanes;if(s!==0)r=s,i=he=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=kr(l),i=he):(u&=s,u!==0&&(r=kr(u),i=he))}else s=n&~o,s!==0?(r=kr(s),i=he):u!==0&&(r=kr(u),i=he);if(r===0)return 0;if(r=31-Ln(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&o)){if(kr(e),i<=he)return e;he=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),i=1<<n,r|=t[n],e&=~i;return r}function Rg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function la(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Cr(24&~e),t===0?la(10,e):t;case 10:return t=Cr(192&~e),t===0?la(8,e):t;case 8:return t=Cr(3584&~e),t===0&&(t=Cr(4186112&~e),t===0&&(t=512)),t;case 2:return e=Cr(805306368&~e),e===0&&(e=268435456),e}throw Error(z(358,t))}function Cr(t){return t&-t}function il(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ja(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Ln(e),t[e]=n}var Ln=Math.clz32?Math.clz32:aw,sw=Math.log,ow=Math.LN2;function aw(t){return t===0?32:31-(sw(t)/ow|0)|0}var uw=je.unstable_UserBlockingPriority,lw=je.unstable_runWithPriority,Ko=!0;function cw(t,e,n,r){Yn||Nd();var i=Ld,s=Yn;Yn=!0;try{Sg(i,t,e,n,r)}finally{(Yn=s)||Dd()}}function dw(t,e,n,r){lw(uw,Ld.bind(null,t,e,n,r))}function Ld(t,e,n,r){if(Ko){var i;if((i=(e&4)===0)&&0<Ut.length&&-1<Th.indexOf(t))t=uc(null,t,e,n,r),Ut.push(t);else{var s=Rd(t,e,n,r);if(s===null)i&&bh(t,r);else{if(i){if(-1<Th.indexOf(t)){t=uc(s,t,e,n,r),Ut.push(t);return}if(J1(s,t,e,n,r))return;bh(t,r)}Qg(t,e,r,null,n)}}}}function Rd(t,e,n,r){var i=Ad(r);if(i=Jn(i),i!==null){var s=gr(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Cg(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Qg(t,e,r,i,n),null}var yn=null,xd=null,Wo=null;function xg(){if(Wo)return Wo;var t,e=xd,n=e.length,r,i="value"in yn?yn.value:yn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Wo=i.slice(t,1<r?1-r:void 0)}function Go(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Co(){return!0}function Ah(){return!1}function wt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Co:Ah,this.isPropagationStopped=Ah,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),e}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=wt(hi),qs=_e({},hi,{view:0,detail:0}),fw=wt(qs),sl,ol,Ni,Za=_e({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(sl=t.screenX-Ni.screenX,ol=t.screenY-Ni.screenY):ol=sl=0,Ni=t),sl)},movementY:function(t){return"movementY"in t?t.movementY:ol}}),Ph=wt(Za),hw=_e({},Za,{dataTransfer:0}),pw=wt(hw),mw=_e({},qs,{relatedTarget:0}),al=wt(mw),gw=_e({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),vw=wt(gw),yw=_e({},hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ww=wt(yw),_w=_e({},hi,{data:0}),Nh=wt(_w),Ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kw[t])?!!e[t]:!1}function jd(){return Cw}var Tw=_e({},qs,{key:function(t){if(t.key){var e=Ew[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jd,charCode:function(t){return t.type==="keypress"?Go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bw=wt(Tw),Iw=_e({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=wt(Iw),Aw=_e({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jd}),Pw=wt(Aw),Nw=_e({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dw=wt(Nw),Mw=_e({},Za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ow=wt(Mw),$w=[9,13,27,32],Fd=ln&&"CompositionEvent"in window,ts=null;ln&&"documentMode"in document&&(ts=document.documentMode);var Lw=ln&&"TextEvent"in window&&!ts,zg=ln&&(!Fd||ts&&8<ts&&11>=ts),Mh=String.fromCharCode(32),Oh=!1;function jg(t,e){switch(t){case"keyup":return $w.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ar=!1;function Rw(t,e){switch(t){case"compositionend":return Fg(e);case"keypress":return e.which!==32?null:(Oh=!0,Mh);case"textInput":return t=e.data,t===Mh&&Oh?null:t;default:return null}}function xw(t,e){if(Ar)return t==="compositionend"||!Fd&&jg(t,e)?(t=xg(),Wo=xd=yn=null,Ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zg&&e.locale!=="ko"?null:e.data;default:return null}}var zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zw[t.type]:e==="textarea"}function Bg(t,e,n,r){_g(r),e=ca(e,"onChange"),0<e.length&&(n=new zd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ns=null,_s=null;function jw(t){Kg(t,0)}function eu(t){var e=Nr(t);if(hg(e))return t}function Fw(t,e){if(t==="change")return e}var Ug=!1;if(ln){var ul;if(ln){var ll="oninput"in document;if(!ll){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),ll=typeof Lh.oninput=="function"}ul=ll}else ul=!1;Ug=ul&&(!document.documentMode||9<document.documentMode)}function Rh(){ns&&(ns.detachEvent("onpropertychange",Vg),_s=ns=null)}function Vg(t){if(t.propertyName==="value"&&eu(_s)){var e=[];if(Bg(e,_s,t,Ad(t)),t=jw,Yn)t(e);else{Yn=!0;try{Pd(t,e)}finally{Yn=!1,Dd()}}}}function Bw(t,e,n){t==="focusin"?(Rh(),ns=e,_s=n,ns.attachEvent("onpropertychange",Vg)):t==="focusout"&&Rh()}function Uw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(_s)}function Vw(t,e){if(t==="click")return eu(e)}function Hw(t,e){if(t==="input"||t==="change")return eu(e)}function qw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Et=typeof Object.is=="function"?Object.is:qw,Kw=Object.prototype.hasOwnProperty;function Es(t,e){if(Et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Kw.call(e,n[r])||!Et(t[n[r]],e[n[r]]))return!1;return!0}function xh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zh(t,e){var n=xh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xh(n)}}function Hg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jh(){for(var t=window,e=oa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=oa(t.document)}return e}function lc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Ww=ln&&"documentMode"in document&&11>=document.documentMode,Pr=null,cc=null,rs=null,dc=!1;function Fh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dc||Pr==null||Pr!==oa(r)||(r=Pr,"selectionStart"in r&&lc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rs&&Es(rs,r)||(rs=r,r=ca(cc,"onSelect"),0<r.length&&(e=new zd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pr)))}$d("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);$d("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);$d(tw,2);for(var Bh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),cl=0;cl<Bh.length;cl++)Od.set(Bh[cl],0);Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function Uh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,X1(r,e,void 0,t),t.currentTarget=null}function Kg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,c=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;Uh(i,u,c),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,c=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;Uh(i,u,c),s=l}}}if(ua)throw t=oc,ua=!1,oc=null,t}function me(t,e){var n=Yg(e),r=t+"__bubble";n.has(r)||(Gg(e,t,2,!1),n.add(r))}var Vh="_reactListening"+Math.random().toString(36).slice(2);function Wg(t){t[Vh]||(t[Vh]=!0,cg.forEach(function(e){qg.has(e)||Hh(e,!1,t,null),Hh(e,!0,t,null)}))}function Hh(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&qg.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=Yg(s),u=t+"__"+(e?"capture":"bubble");o.has(u)||(e&&(i|=4),Gg(s,t,i,e),o.add(u))}function Gg(t,e,n,r){var i=Od.get(e);switch(i===void 0?2:i){case 0:i=cw;break;case 1:i=dw;break;default:i=Ld}n=i.bind(null,e,n,t),i=void 0,!sc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Jn(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}K1(function(){var c=s,h=Ad(n),_=[];e:{var v=Lg.get(t);if(v!==void 0){var b=zd,I=t;switch(t){case"keypress":if(Go(n)===0)break e;case"keydown":case"keyup":b=bw;break;case"focusin":I="focus",b=al;break;case"focusout":I="blur",b=al;break;case"beforeblur":case"afterblur":b=al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=pw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Pw;break;case Dg:case Mg:case Og:b=vw;break;case $g:b=Dw;break;case"scroll":b=fw;break;case"wheel":b=Ow;break;case"copy":case"cut":case"paste":b=ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Dh}var C=(e&4)!==0,y=!C&&t==="scroll",m=C?v!==null?v+"Capture":null:v;C=[];for(var g=c,T;g!==null;){T=g;var a=T.stateNode;if(T.tag===5&&a!==null&&(T=a,m!==null&&(a=gs(g,m),a!=null&&C.push(Ss(g,a,T)))),y)break;g=g.return}0<C.length&&(v=new b(v,I,null,n,h),_.push({event:v,listeners:C}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",v&&!(e&16)&&(I=n.relatedTarget||n.fromElement)&&(Jn(I)||I[pi]))break e;if((b||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,b?(I=n.relatedTarget||n.toElement,b=c,I=I?Jn(I):null,I!==null&&(y=gr(I),I!==y||I.tag!==5&&I.tag!==6)&&(I=null)):(b=null,I=c),b!==I)){if(C=Ph,a="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(C=Dh,a="onPointerLeave",m="onPointerEnter",g="pointer"),y=b==null?v:Nr(b),T=I==null?v:Nr(I),v=new C(a,g+"leave",b,n,h),v.target=y,v.relatedTarget=T,a=null,Jn(h)===c&&(C=new C(m,g+"enter",I,n,h),C.target=T,C.relatedTarget=y,a=C),y=a,b&&I)t:{for(C=b,m=I,g=0,T=C;T;T=Er(T))g++;for(T=0,a=m;a;a=Er(a))T++;for(;0<g-T;)C=Er(C),g--;for(;0<T-g;)m=Er(m),T--;for(;g--;){if(C===m||m!==null&&C===m.alternate)break t;C=Er(C),m=Er(m)}C=null}else C=null;b!==null&&qh(_,v,b,C,!1),I!==null&&y!==null&&qh(_,y,I,C,!0)}}e:{if(v=c?Nr(c):window,b=v.nodeName&&v.nodeName.toLowerCase(),b==="select"||b==="input"&&v.type==="file")var f=Fw;else if($h(v))if(Ug)f=Hw;else{f=Uw;var d=Bw}else(b=v.nodeName)&&b.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(f=Vw);if(f&&(f=f(t,c))){Bg(_,f,n,h);break e}d&&d(t,v,c),t==="focusout"&&(d=v._wrapperState)&&d.controlled&&v.type==="number"&&Yl(v,"number",v.value)}switch(d=c?Nr(c):window,t){case"focusin":($h(d)||d.contentEditable==="true")&&(Pr=d,cc=c,rs=null);break;case"focusout":rs=cc=Pr=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,Fh(_,n,h);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":Fh(_,n,h)}var p;if(Fd)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ar?jg(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(zg&&n.locale!=="ko"&&(Ar||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ar&&(p=xg()):(yn=h,xd="value"in yn?yn.value:yn.textContent,Ar=!0)),d=ca(c,w),0<d.length&&(w=new Nh(w,t,null,n,h),_.push({event:w,listeners:d}),p?w.data=p:(p=Fg(n),p!==null&&(w.data=p)))),(p=Lw?Rw(t,n):xw(t,n))&&(c=ca(c,"onBeforeInput"),0<c.length&&(h=new Nh("onBeforeInput","beforeinput",null,n,h),_.push({event:h,listeners:c}),h.data=p))}Kg(_,e)})}function Ss(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ca(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gs(t,n),s!=null&&r.unshift(Ss(t,s,i)),s=gs(t,e),s!=null&&r.push(Ss(t,s,i))),t=t.return}return r}function Er(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,c=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&c!==null&&(u=c,i?(l=gs(n,s),l!=null&&o.unshift(Ss(n,l,u))):i||(l=gs(n,s),l!=null&&o.push(Ss(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function da(){}var dl=null,fl=null;function Xg(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function fc(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kh=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0;function Bd(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Wh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hl=0;function Qw(t){return{$$typeof:bd,toString:t,valueOf:t}}var tu=Math.random().toString(36).slice(2),wn="__reactFiber$"+tu,fa="__reactProps$"+tu,pi="__reactContainer$"+tu,Gh="__reactEvents$"+tu;function Jn(t){var e=t[wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wh(t);t!==null;){if(n=t[wn])return n;t=Wh(t)}return e}t=n,n=t.parentNode}return null}function Ks(t){return t=t[wn]||t[pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function nu(t){return t[fa]||null}function Yg(t){var e=t[Gh];return e===void 0&&(e=t[Gh]=new Set),e}var hc=[],Dr=-1;function Un(t){return{current:t}}function ge(t){0>Dr||(t.current=hc[Dr],hc[Dr]=null,Dr--)}function Te(t,e){Dr++,hc[Dr]=t.current,t.current=e}var Rn={},st=Un(Rn),ft=Un(!1),ar=Rn;function Jr(t,e){var n=t.type.contextTypes;if(!n)return Rn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ht(t){return t=t.childContextTypes,t!=null}function ha(){ge(ft),ge(st)}function Qh(t,e,n){if(st.current!==Rn)throw Error(z(168));Te(st,e),Te(ft,n)}function Jg(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,Rr(e)||"Unknown",i));return _e({},n,r)}function Qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rn,ar=st.current,Te(st,t),Te(ft,ft.current),!0}function Xh(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Jg(t,e,ar),r.__reactInternalMemoizedMergedChildContext=t,ge(ft),ge(st),Te(st,t)):ge(ft),Te(ft,n)}var Ud=null,ir=null,Xw=je.unstable_runWithPriority,Vd=je.unstable_scheduleCallback,pc=je.unstable_cancelCallback,Yw=je.unstable_shouldYield,Yh=je.unstable_requestPaint,mc=je.unstable_now,Jw=je.unstable_getCurrentPriorityLevel,ru=je.unstable_ImmediatePriority,Zg=je.unstable_UserBlockingPriority,ev=je.unstable_NormalPriority,tv=je.unstable_LowPriority,nv=je.unstable_IdlePriority,pl={},Zw=Yh!==void 0?Yh:function(){},tn=null,Xo=null,ml=!1,Jh=mc(),et=1e4>Jh?mc:function(){return mc()-Jh};function Zr(){switch(Jw()){case ru:return 99;case Zg:return 98;case ev:return 97;case tv:return 96;case nv:return 95;default:throw Error(z(332))}}function rv(t){switch(t){case 99:return ru;case 98:return Zg;case 97:return ev;case 96:return tv;case 95:return nv;default:throw Error(z(332))}}function ur(t,e){return t=rv(t),Xw(t,e)}function ks(t,e,n){return t=rv(t),Vd(t,e,n)}function Jt(){if(Xo!==null){var t=Xo;Xo=null,pc(t)}iv()}function iv(){if(!ml&&tn!==null){ml=!0;var t=0;try{var e=tn;ur(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),tn=null}catch(n){throw tn!==null&&(tn=tn.slice(t+1)),Vd(ru,Jt),n}finally{ml=!1}}}var e3=mr.ReactCurrentBatchConfig;function Lt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pa=Un(null),ma=null,Mr=null,ga=null;function Hd(){ga=Mr=ma=null}function qd(t){var e=pa.current;ge(pa),t.type._context._currentValue=e}function sv(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Br(t,e){ma=t,ga=Mr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rt=!0),t.firstContext=null)}function bt(t,e){if(ga!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(ga=t,e=1073741823),e={context:t,observedBits:e,next:null},Mr===null){if(ma===null)throw Error(z(308));Mr=e,ma.dependencies={lanes:0,firstContext:e,responders:null}}else Mr=Mr.next=e;return t._currentValue}var gn=!1;function Kd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ov(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Zh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cs(t,e,n,r){var i=t.updateQueue;gn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;if(h!==null){h=h.updateQueue;var _=h.lastBaseUpdate;_!==o&&(_===null?h.firstBaseUpdate=c:_.next=c,h.lastBaseUpdate=l)}}if(s!==null){_=i.baseState,o=0,h=c=l=null;do{u=s.lane;var v=s.eventTime;if((r&u)===u){h!==null&&(h=h.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=t,I=s;switch(u=e,v=n,I.tag){case 1:if(b=I.payload,typeof b=="function"){_=b.call(v,_,u);break e}_=b;break e;case 3:b.flags=b.flags&-4097|64;case 0:if(b=I.payload,u=typeof b=="function"?b.call(v,_,u):b,u==null)break e;_=_e({},_,u);break e;case 2:gn=!0}}s.callback!==null&&(t.flags|=32,u=i.effects,u===null?i.effects=[s]:u.push(s))}else v={eventTime:v,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=v,l=_):h=h.next=v,o|=u;if(s=s.next,s===null){if(u=i.shared.pending,u===null)break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);h===null&&(l=_),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,Gs|=o,t.lanes=o,t.memoizedState=_}}function ep(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var av=new Ga.Component().refs;function va(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var iu={isMounted:function(t){return(t=t._reactInternals)?gr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=In(t),s=Tn(r,i);s.payload=e,n!=null&&(s.callback=n),bn(t,s),An(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=In(t),s=Tn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),bn(t,s),An(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=In(t),i=Tn(n,r);i.tag=2,e!=null&&(i.callback=e),bn(t,i),An(t,r,n)}};function tp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Es(n,r)||!Es(i,s):!0}function uv(t,e,n){var r=!1,i=Rn,s=e.contextType;return typeof s=="object"&&s!==null?s=bt(s):(i=ht(e)?ar:st.current,r=e.contextTypes,s=(r=r!=null)?Jr(t,i):Rn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function np(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&iu.enqueueReplaceState(e,e.state,null)}function gc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=av,Kd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bt(s):(s=ht(e)?ar:st.current,i.context=Jr(t,s)),Cs(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(va(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&iu.enqueueReplaceState(i,i.state,null),Cs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var To=Array.isArray;function Di(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===av&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function bo(t,e){if(t.type!=="textarea")throw Error(z(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function lv(t){function e(y,m){if(t){var g=y.lastEffect;g!==null?(g.nextEffect=m,y.lastEffect=m):y.firstEffect=y.lastEffect=m,m.nextEffect=null,m.flags=8}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=zn(y,m),y.index=0,y.sibling=null,y}function s(y,m,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags=2,m):g):(y.flags=2,m)):m}function o(y){return t&&y.alternate===null&&(y.flags=2),y}function u(y,m,g,T){return m===null||m.tag!==6?(m=_l(g,y.mode,T),m.return=y,m):(m=i(m,g),m.return=y,m)}function l(y,m,g,T){return m!==null&&m.elementType===g.type?(T=i(m,g.props),T.ref=Di(y,m,g),T.return=y,T):(T=ea(g.type,g.key,g.props,null,y.mode,T),T.ref=Di(y,m,g),T.return=y,T)}function c(y,m,g,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=El(g,y.mode,T),m.return=y,m):(m=i(m,g.children||[]),m.return=y,m)}function h(y,m,g,T,a){return m===null||m.tag!==7?(m=qr(g,y.mode,T,a),m.return=y,m):(m=i(m,g),m.return=y,m)}function _(y,m,g){if(typeof m=="string"||typeof m=="number")return m=_l(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Bi:return g=ea(m.type,m.key,m.props,null,y.mode,g),g.ref=Di(y,null,m),g.return=y,g;case Xn:return m=El(m,y.mode,g),m.return=y,m}if(To(m)||Ti(m))return m=qr(m,y.mode,g,null),m.return=y,m;bo(y,m)}return null}function v(y,m,g,T){var a=m!==null?m.key:null;if(typeof g=="string"||typeof g=="number")return a!==null?null:u(y,m,""+g,T);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bi:return g.key===a?g.type===vn?h(y,m,g.props.children,T,a):l(y,m,g,T):null;case Xn:return g.key===a?c(y,m,g,T):null}if(To(g)||Ti(g))return a!==null?null:h(y,m,g,T,null);bo(y,g)}return null}function b(y,m,g,T,a){if(typeof T=="string"||typeof T=="number")return y=y.get(g)||null,u(m,y,""+T,a);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Bi:return y=y.get(T.key===null?g:T.key)||null,T.type===vn?h(m,y,T.props.children,a,T.key):l(m,y,T,a);case Xn:return y=y.get(T.key===null?g:T.key)||null,c(m,y,T,a)}if(To(T)||Ti(T))return y=y.get(g)||null,h(m,y,T,a,null);bo(m,T)}return null}function I(y,m,g,T){for(var a=null,f=null,d=m,p=m=0,w=null;d!==null&&p<g.length;p++){d.index>p?(w=d,d=null):w=d.sibling;var E=v(y,d,g[p],T);if(E===null){d===null&&(d=w);break}t&&d&&E.alternate===null&&e(y,d),m=s(E,m,p),f===null?a=E:f.sibling=E,f=E,d=w}if(p===g.length)return n(y,d),a;if(d===null){for(;p<g.length;p++)d=_(y,g[p],T),d!==null&&(m=s(d,m,p),f===null?a=d:f.sibling=d,f=d);return a}for(d=r(y,d);p<g.length;p++)w=b(d,y,p,g[p],T),w!==null&&(t&&w.alternate!==null&&d.delete(w.key===null?p:w.key),m=s(w,m,p),f===null?a=w:f.sibling=w,f=w);return t&&d.forEach(function(S){return e(y,S)}),a}function C(y,m,g,T){var a=Ti(g);if(typeof a!="function")throw Error(z(150));if(g=a.call(g),g==null)throw Error(z(151));for(var f=a=null,d=m,p=m=0,w=null,E=g.next();d!==null&&!E.done;p++,E=g.next()){d.index>p?(w=d,d=null):w=d.sibling;var S=v(y,d,E.value,T);if(S===null){d===null&&(d=w);break}t&&d&&S.alternate===null&&e(y,d),m=s(S,m,p),f===null?a=S:f.sibling=S,f=S,d=w}if(E.done)return n(y,d),a;if(d===null){for(;!E.done;p++,E=g.next())E=_(y,E.value,T),E!==null&&(m=s(E,m,p),f===null?a=E:f.sibling=E,f=E);return a}for(d=r(y,d);!E.done;p++,E=g.next())E=b(d,y,p,E.value,T),E!==null&&(t&&E.alternate!==null&&d.delete(E.key===null?p:E.key),m=s(E,m,p),f===null?a=E:f.sibling=E,f=E);return t&&d.forEach(function(A){return e(y,A)}),a}return function(y,m,g,T){var a=typeof g=="object"&&g!==null&&g.type===vn&&g.key===null;a&&(g=g.props.children);var f=typeof g=="object"&&g!==null;if(f)switch(g.$$typeof){case Bi:e:{for(f=g.key,a=m;a!==null;){if(a.key===f){switch(a.tag){case 7:if(g.type===vn){n(y,a.sibling),m=i(a,g.props.children),m.return=y,y=m;break e}break;default:if(a.elementType===g.type){n(y,a.sibling),m=i(a,g.props),m.ref=Di(y,a,g),m.return=y,y=m;break e}}n(y,a);break}else e(y,a);a=a.sibling}g.type===vn?(m=qr(g.props.children,y.mode,T,g.key),m.return=y,y=m):(T=ea(g.type,g.key,g.props,null,y.mode,T),T.ref=Di(y,m,g),T.return=y,y=T)}return o(y);case Xn:e:{for(a=g.key;m!==null;){if(m.key===a)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(y,m.sibling),m=i(m,g.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=El(g,y.mode,T),m.return=y,y=m}return o(y)}if(typeof g=="string"||typeof g=="number")return g=""+g,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,g),m.return=y,y=m):(n(y,m),m=_l(g,y.mode,T),m.return=y,y=m),o(y);if(To(g))return I(y,m,g,T);if(Ti(g))return C(y,m,g,T);if(f&&bo(y,g),typeof g>"u"&&!a)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(z(152,Rr(y.type)||"Component"))}return n(y,m)}}var ya=lv(!0),cv=lv(!1),Ws={},Kt=Un(Ws),Ts=Un(Ws),bs=Un(Ws);function Zn(t){if(t===Ws)throw Error(z(174));return t}function vc(t,e){switch(Te(bs,e),Te(Ts,t),Te(Kt,Ws),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tc(e,t)}ge(Kt),Te(Kt,e)}function ei(){ge(Kt),ge(Ts),ge(bs)}function rp(t){Zn(bs.current);var e=Zn(Kt.current),n=tc(e,t.type);e!==n&&(Te(Ts,t),Te(Kt,n))}function Wd(t){Ts.current===t&&(ge(Kt),ge(Ts))}var Ce=Un(0);function wa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rn=null,_n=null,Wt=!1;function dv(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function ip(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function yc(t){if(Wt){var e=_n;if(e){var n=e;if(!ip(t,e)){if(e=Fr(n.nextSibling),!e||!ip(t,e)){t.flags=t.flags&-1025|2,Wt=!1,rn=t;return}dv(rn,n)}rn=t,_n=Fr(e.firstChild)}else t.flags=t.flags&-1025|2,Wt=!1,rn=t}}function sp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Io(t){if(t!==rn)return!1;if(!Wt)return sp(t),Wt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!fc(e,t.memoizedProps))for(e=_n;e;)dv(t,e),e=Fr(e.nextSibling);if(sp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=rn?Fr(t.stateNode.nextSibling):null;return!0}function gl(){_n=rn=null,Wt=!1}var Ur=[];function Gd(){for(var t=0;t<Ur.length;t++)Ur[t]._workInProgressVersionPrimary=null;Ur.length=0}var is=mr.ReactCurrentDispatcher,Tt=mr.ReactCurrentBatchConfig,Is=0,Pe=null,Xe=null,Ue=null,_a=!1,ss=!1;function ct(){throw Error(z(321))}function Qd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Et(t[n],e[n]))return!1;return!0}function Xd(t,e,n,r,i,s){if(Is=s,Pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,is.current=t===null||t.memoizedState===null?n3:r3,t=n(r,i),ss){s=0;do{if(ss=!1,!(25>s))throw Error(z(301));s+=1,Ue=Xe=null,e.updateQueue=null,is.current=i3,t=n(r,i)}while(ss)}if(is.current=Ca,e=Xe!==null&&Xe.next!==null,Is=0,Ue=Xe=Pe=null,_a=!1,e)throw Error(z(300));return t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Pe.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function vr(){if(Xe===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=Ue===null?Pe.memoizedState:Ue.next;if(e!==null)Ue=e,Xe=t;else{if(t===null)throw Error(z(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ue===null?Pe.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Vt(t,e){return typeof e=="function"?e(t):e}function Mi(t){var e=vr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=o=s=null,l=i;do{var c=l.lane;if((Is&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};u===null?(o=u=h,s=r):u=u.next=h,Pe.lanes|=c,Gs|=c}l=l.next}while(l!==null&&l!==i);u===null?s=r:u.next=o,Et(r,e.memoizedState)||(Rt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Oi(t){var e=vr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Et(s,e.memoizedState)||(Rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function op(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Is&t)===t)&&(e._workInProgressVersionPrimary=r,Ur.push(e))),t)return n(e._source);throw Ur.push(e),Error(z(350))}function fv(t,e,n,r){var i=ut;if(i===null)throw Error(z(349));var s=e._getVersion,o=s(e._source),u=is.current,l=u.useState(function(){return op(i,e,n)}),c=l[1],h=l[0];l=Ue;var _=t.memoizedState,v=_.refs,b=v.getSnapshot,I=_.source;_=_.subscribe;var C=Pe;return t.memoizedState={refs:v,source:e,subscribe:r},u.useEffect(function(){v.getSnapshot=n,v.setSnapshot=c;var y=s(e._source);if(!Et(o,y)){y=n(e._source),Et(h,y)||(c(y),y=In(C),i.mutableReadLanes|=y&i.pendingLanes),y=i.mutableReadLanes,i.entangledLanes|=y;for(var m=i.entanglements,g=y;0<g;){var T=31-Ln(g),a=1<<T;m[T]|=y,g&=~a}}},[n,e,r]),u.useEffect(function(){return r(e._source,function(){var y=v.getSnapshot,m=v.setSnapshot;try{m(y(e._source));var g=In(C);i.mutableReadLanes|=g&i.pendingLanes}catch(T){m(function(){throw T})}})},[e,r]),Et(b,n)&&Et(I,e)&&Et(_,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Vt,lastRenderedState:h},t.dispatch=c=Zd.bind(null,Pe,t),l.queue=t,l.baseQueue=null,h=op(i,e,n),l.memoizedState=l.baseState=h),h}function hv(t,e,n){var r=vr();return fv(r,t,e,n)}function $i(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Vt,lastRenderedState:t},t=t.dispatch=Zd.bind(null,Pe,t),[e.memoizedState,t]}function Ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pe.updateQueue,e===null?(e={lastEffect:null},Pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ap(t){var e=er();return t={current:t},e.memoizedState=t}function Sa(){return vr().memoizedState}function wc(t,e,n,r){var i=er();Pe.flags|=t,i.memoizedState=Ea(1|e,n,void 0,r===void 0?null:r)}function Yd(t,e,n,r){var i=vr();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,r!==null&&Qd(r,o.deps)){Ea(e,n,s,r);return}}Pe.flags|=t,i.memoizedState=Ea(1|e,n,s,r)}function up(t,e){return wc(516,4,t,e)}function ka(t,e){return Yd(516,4,t,e)}function pv(t,e){return Yd(4,2,t,e)}function mv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gv(t,e,n){return n=n!=null?n.concat([t]):null,Yd(4,2,mv.bind(null,e,t),n)}function Jd(){}function vv(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yv(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function t3(t,e){var n=Zr();ur(98>n?98:n,function(){t(!0)}),ur(97<n?97:n,function(){var r=Tt.transition;Tt.transition=1;try{t(!1),e()}finally{Tt.transition=r}})}function Zd(t,e,n){var r=gt(),i=In(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Pe||o!==null&&o===Pe)ss=_a=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,l=o(u,n);if(s.eagerReducer=o,s.eagerState=l,Et(l,u))return}catch{}finally{}An(t,i,r)}}var Ca={readContext:bt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useOpaqueIdentifier:ct,unstable_isNewReconciler:!1},n3={readContext:bt,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:bt,useEffect:up,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wc(4,2,mv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wc(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Zd.bind(null,Pe,t),[r.memoizedState,t]},useRef:ap,useState:$i,useDebugValue:Jd,useDeferredValue:function(t){var e=$i(t),n=e[0],r=e[1];return up(function(){var i=Tt.transition;Tt.transition=1;try{r(t)}finally{Tt.transition=i}},[t]),n},useTransition:function(){var t=$i(!1),e=t[0];return t=t3.bind(null,t[1]),ap(t),[t,e]},useMutableSource:function(t,e,n){var r=er();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},fv(r,t,e,n)},useOpaqueIdentifier:function(){if(Wt){var t=!1,e=Qw(function(){throw t||(t=!0,n("r:"+(hl++).toString(36))),Error(z(355))}),n=$i(e)[1];return!(Pe.mode&2)&&(Pe.flags|=516,Ea(5,function(){n("r:"+(hl++).toString(36))},void 0,null)),e}return e="r:"+(hl++).toString(36),$i(e),e},unstable_isNewReconciler:!1},r3={readContext:bt,useCallback:vv,useContext:bt,useEffect:ka,useImperativeHandle:gv,useLayoutEffect:pv,useMemo:yv,useReducer:Mi,useRef:Sa,useState:function(){return Mi(Vt)},useDebugValue:Jd,useDeferredValue:function(t){var e=Mi(Vt),n=e[0],r=e[1];return ka(function(){var i=Tt.transition;Tt.transition=1;try{r(t)}finally{Tt.transition=i}},[t]),n},useTransition:function(){var t=Mi(Vt)[0];return[Sa().current,t]},useMutableSource:hv,useOpaqueIdentifier:function(){return Mi(Vt)[0]},unstable_isNewReconciler:!1},i3={readContext:bt,useCallback:vv,useContext:bt,useEffect:ka,useImperativeHandle:gv,useLayoutEffect:pv,useMemo:yv,useReducer:Oi,useRef:Sa,useState:function(){return Oi(Vt)},useDebugValue:Jd,useDeferredValue:function(t){var e=Oi(Vt),n=e[0],r=e[1];return ka(function(){var i=Tt.transition;Tt.transition=1;try{r(t)}finally{Tt.transition=i}},[t]),n},useTransition:function(){var t=Oi(Vt)[0];return[Sa().current,t]},useMutableSource:hv,useOpaqueIdentifier:function(){return Oi(Vt)[0]},unstable_isNewReconciler:!1},s3=mr.ReactCurrentOwner,Rt=!1;function dt(t,e,n,r){e.child=t===null?cv(e,null,n,r):ya(e,t.child,n,r)}function lp(t,e,n,r,i){n=n.render;var s=e.ref;return Br(e,i),r=Xd(t,e,n,r,s,i),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,sn(t,e,i)):(e.flags|=1,dt(t,e,r,i),e.child)}function cp(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!of(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,wv(t,e,o,r,i,s)):(t=ea(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:Es,n(i,r)&&t.ref===e.ref)?sn(t,e,s):(e.flags|=1,t=zn(o,r),t.ref=e.ref,t.return=e,e.child=t)}function wv(t,e,n,r,i,s){if(t!==null&&Es(t.memoizedProps,r)&&t.ref===e.ref)if(Rt=!1,(s&i)!==0)t.flags&16384&&(Rt=!0);else return e.lanes=t.lanes,sn(t,e,s);return _c(t,e,n,r,s)}function vl(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Po(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},Po(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Po(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Po(e,r);return dt(t,e,i,n),e.child}function _v(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function _c(t,e,n,r,i){var s=ht(n)?ar:st.current;return s=Jr(e,s),Br(e,i),n=Xd(t,e,n,r,s,i),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,sn(t,e,i)):(e.flags|=1,dt(t,e,n,i),e.child)}function dp(t,e,n,r,i){if(ht(n)){var s=!0;Qo(e)}else s=!1;if(Br(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),uv(e,n,r),gc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=bt(c):(c=ht(n)?ar:st.current,c=Jr(e,c));var h=n.getDerivedStateFromProps,_=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==c)&&np(e,o,r,c),gn=!1;var v=e.memoizedState;o.state=v,Cs(e,r,o,i),l=e.memoizedState,u!==r||v!==l||ft.current||gn?(typeof h=="function"&&(va(e,n,h,r),l=e.memoizedState),(u=gn||tp(e,n,u,r,v,l,c))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,ov(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:Lt(e.type,u),o.props=c,_=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bt(l):(l=ht(n)?ar:st.current,l=Jr(e,l));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==_||v!==l)&&np(e,o,r,l),gn=!1,v=e.memoizedState,o.state=v,Cs(e,r,o,i);var I=e.memoizedState;u!==_||v!==I||ft.current||gn?(typeof b=="function"&&(va(e,n,b,r),I=e.memoizedState),(c=gn||tp(e,n,c,r,v,I,l))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),r=!1)}return Ec(t,e,n,r,s,i)}function Ec(t,e,n,r,i,s){_v(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Xh(e,n,!1),sn(t,e,s);r=e.stateNode,s3.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ya(e,t.child,null,s),e.child=ya(e,null,u,s)):dt(t,e,u,s),e.memoizedState=r.state,i&&Xh(e,n,!0),e.child}function fp(t){var e=t.stateNode;e.pendingContext?Qh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qh(t,e.context,!1),vc(t,e.containerInfo)}var Ao={dehydrated:null,retryLane:0};function hp(t,e,n){var r=e.pendingProps,i=Ce.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Te(Ce,i&1),t===null?(r.fallback!==void 0&&yc(e),t=r.children,i=r.fallback,s?(t=pp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ao,t):typeof r.unstable_expectedLoadTime=="number"?(t=pp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ao,e.lanes=33554432,t):(n=af({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=gp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Ao,r):(n=mp(t,e,r.children,n),e.memoizedState=null,n):s?(r=gp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Ao,r):(n=mp(t,e,r.children,n),e.memoizedState=null,n)}function pp(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=af(e,i,0,null),n=qr(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function mp(t,e,n,r){var i=t.child;return t=i.sibling,n=zn(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function gp(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var u={mode:"hidden",children:n};return!(s&2)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=u,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=zn(o,u),t!==null?r=zn(t,r):(r=qr(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function vp(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),sv(t.return,e)}function yl(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function yp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vp(t,n);else if(t.tag===19)vp(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(Ce,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yl(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yl(e,!0,n,null,s,e.lastEffect);break;case"together":yl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gs|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Ev,Sc,Sv,kv;Ev=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sc=function(){};Sv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zn(Kt.current);var s=null;switch(n){case"input":i=Ql(t,i),r=Ql(t,r),s=[];break;case"option":i=Jl(t,i),r=Jl(t,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=Zl(t,i),r=Zl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=da)}nc(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ps.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(l!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ps.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&me("scroll",t),s||u===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===bd?l.toString():(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};kv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Li(t,e){if(!Wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function o3(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ht(e.type)&&ha(),null;case 3:return ei(),ge(ft),ge(st),Gd(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Io(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Sc(e),null;case 5:Wd(e);var i=Zn(bs.current);if(n=e.type,t!==null&&e.stateNode!=null)Sv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(z(166));return null}if(t=Zn(Kt.current),Io(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wn]=e,r[fa]=s,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(t=0;t<Vi.length;t++)me(Vi[t],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":yh(r,s),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},me("invalid",r);break;case"textarea":_h(r,s),me("invalid",r)}nc(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):ps.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&me("scroll",r));switch(n){case"input":Eo(r),wh(r,s,!0);break;case"textarea":Eo(r),Eh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=da)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===ec.html&&(t=gg(n)),t===ec.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wn]=e,t[fa]=r,Ev(t,e,!1,!1),e.stateNode=t,o=rc(n,r),n){case"dialog":me("cancel",t),me("close",t),i=r;break;case"iframe":case"object":case"embed":me("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vi.length;i++)me(Vi[i],t);i=r;break;case"source":me("error",t),i=r;break;case"img":case"image":case"link":me("error",t),me("load",t),i=r;break;case"details":me("toggle",t),i=r;break;case"input":yh(t,r),i=Ql(t,r),me("invalid",t);break;case"option":i=Jl(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),me("invalid",t);break;case"textarea":_h(t,r),i=Zl(t,r),me("invalid",t);break;default:i=r}nc(n,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?wg(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vg(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ms(t,l):typeof l=="number"&&ms(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ps.hasOwnProperty(s)?l!=null&&s==="onScroll"&&me("scroll",t):l!=null&&_d(t,s,l,o))}switch(n){case"input":Eo(t),wh(t,r,!1);break;case"textarea":Eo(t),Eh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$n(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xr(t,!!r.multiple,s,!1):r.defaultValue!=null&&xr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=da)}Xg(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)kv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));n=Zn(bs.current),Zn(Kt.current),Io(e)?(r=e.stateNode,n=e.memoizedProps,r[wn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=e,e.stateNode=r)}return null;case 13:return ge(Ce),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Io(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Ce.current&1?He===0&&(He=3):((He===0||He===3)&&(He=4),ut===null||!(Gs&134217727)&&!(gi&134217727)||Vr(ut,tt))),(r||n)&&(e.flags|=4),null);case 4:return ei(),Sc(e),t===null&&Wg(e.stateNode.containerInfo),null;case 10:return qd(e),null;case 17:return ht(e.type)&&ha(),null;case 19:if(ge(Ce),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)Li(r,!1);else{if(He!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=wa(t),o!==null){for(e.flags|=64,Li(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(Ce,Ce.current&1|2),e.child}t=t.sibling}r.tail!==null&&et()>Ac&&(e.flags|=64,s=!0,Li(r,!1),e.lanes=33554432)}else{if(!s)if(t=wa(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Li(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Wt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*et()-r.renderingStartTime>Ac&&n!==1073741824&&(e.flags|=64,s=!0,Li(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=et(),n.sibling=null,e=Ce.current,Te(Ce,s?e&1|2:e&1),n):null;case 23:case 24:return sf(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(z(156,e.tag))}function a3(t){switch(t.tag){case 1:ht(t.type)&&ha();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(ei(),ge(ft),ge(st),Gd(),e=t.flags,e&64)throw Error(z(285));return t.flags=e&-4097|64,t;case 5:return Wd(t),null;case 13:return ge(Ce),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return ge(Ce),null;case 4:return ei(),null;case 10:return qd(t),null;case 23:case 24:return sf(),null;default:return null}}function ef(t,e){try{var n="",r=e;do n+=B1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function kc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u3=typeof WeakMap=="function"?WeakMap:Map;function Cv(t,e,n){n=Tn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ba||(ba=!0,Pc=r),kc(t,e)},n}function Tv(t,e,n){n=Tn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return kc(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this),kc(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var l3=typeof WeakSet=="function"?WeakSet:Set;function wp(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Pn(t,n)}else e.current=null}function c3(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Lt(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Bd(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(z(163))}function d3(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&($v(n,t),w3(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Lt(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&ep(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ep(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Xg(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Pg(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(z(163))}function _p(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=yg("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ep(t,e){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Ud,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)$v(e,n);else{r=e;try{i()}catch(s){Pn(r,s)}}n=n.next}while(n!==t)}break;case 1:if(wp(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Pn(e,s)}break;case 5:wp(e);break;case 4:bv(t,e)}}function Sp(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function kp(t){return t.tag===5||t.tag===3||t.tag===4}function Cp(t){e:{for(var e=t.return;e!==null;){if(kp(e))break e;e=e.return}throw Error(z(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(z(161))}n.flags&16&&(ms(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||kp(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Cc(t,n,e):Tc(t,n,e)}function Cc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=da));else if(r!==4&&(t=t.child,t!==null))for(Cc(t,e,n),t=t.sibling;t!==null;)Cc(t,e,n),t=t.sibling}function Tc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tc(t,e,n),t=t.sibling;t!==null;)Tc(t,e,n),t=t.sibling}function bv(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(z(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,u=n,l=u;;)if(Ep(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,u=n.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(Ep(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function wl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[fa]=r,t==="input"&&r.type==="radio"&&r.name!=null&&pg(n,r),rc(t,i),e=rc(t,r),i=0;i<s.length;i+=2){var o=s[i],u=s[i+1];o==="style"?wg(n,u):o==="dangerouslySetInnerHTML"?vg(n,u):o==="children"?ms(n,u):_d(n,o,u,e)}switch(t){case"input":Xl(n,r);break;case"textarea":mg(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?xr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?xr(n,!!r.multiple,r.defaultValue,!0):xr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(z(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Pg(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(rf=et(),_p(e.child,!0)),Tp(e);return;case 19:Tp(e);return;case 17:return;case 23:case 24:_p(e,e.memoizedState!==null);return}throw Error(z(163))}function Tp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new l3),e.forEach(function(r){var i=S3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function f3(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var h3=Math.ceil,Ta=mr.ReactCurrentDispatcher,tf=mr.ReactCurrentOwner,Y=0,ut=null,Le=null,tt=0,lr=0,bc=Un(0),He=0,su=null,mi=0,Gs=0,gi=0,nf=0,Ic=null,rf=0,Ac=1/0;function vi(){Ac=et()+500}var q=null,ba=!1,Pc=null,Ht=null,xn=!1,os=null,Hi=90,Nc=[],Dc=[],un=null,as=0,Mc=null,Yo=-1,nn=0,Jo=0,us=null,Zo=!1;function gt(){return Y&48?et():Yo!==-1?Yo:Yo=et()}function In(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Zr()===99?1:2;if(nn===0&&(nn=mi),e3.transition!==0){Jo!==0&&(Jo=Ic!==null?Ic.pendingLanes:0),t=nn;var e=4186112&~Jo;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Zr(),Y&4&&t===98?t=la(12,nn):(t=rw(t),t=la(t,nn)),t}function An(t,e,n){if(50<as)throw as=0,Mc=null,Error(z(185));if(t=ou(t,e),t===null)return null;Ja(t,e,n),t===ut&&(gi|=e,He===4&&Vr(t,tt));var r=Zr();e===1?Y&8&&!(Y&48)?Oc(t):(It(t,n),Y===0&&(vi(),Jt())):(!(Y&4)||r!==98&&r!==99||(un===null?un=new Set([t]):un.add(t)),It(t,n)),Ic=t}function ou(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function It(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var u=31-Ln(o),l=1<<u,c=s[u];if(c===-1){if(!(l&r)||l&i){c=e,kr(l);var h=he;s[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);o&=~l}if(r=ws(t,t===ut?tt:0),e=he,r===0)n!==null&&(n!==pl&&pc(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==pl&&pc(n)}e===15?(n=Oc.bind(null,t),tn===null?(tn=[n],Xo=Vd(ru,iv)):tn.push(n),n=pl):e===14?n=ks(99,Oc.bind(null,t)):(n=iw(e),n=ks(n,Iv.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function Iv(t){if(Yo=-1,Jo=nn=0,Y&48)throw Error(z(327));var e=t.callbackNode;if(Vn()&&t.callbackNode!==e)return null;var n=ws(t,t===ut?tt:0);if(n===0)return null;var r=n,i=Y;Y|=16;var s=Dv();(ut!==t||tt!==r)&&(vi(),Hr(t,r));do try{g3();break}catch(u){Nv(t,u)}while(1);if(Hd(),Ta.current=s,Y=i,Le!==null?r=0:(ut=null,tt=0,r=He),mi&gi)Hr(t,0);else if(r!==0){if(r===2&&(Y|=64,t.hydrate&&(t.hydrate=!1,Bd(t.containerInfo)),n=Rg(t),n!==0&&(r=qi(t,n))),r===1)throw e=su,Hr(t,0),Vr(t,n),It(t,et()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(z(345));case 2:Gn(t);break;case 3:if(Vr(t,n),(n&62914560)===n&&(r=rf+500-et(),10<r)){if(ws(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kh(Gn.bind(null,t),r);break}Gn(t);break;case 4:if(Vr(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-Ln(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*h3(n/1960))-n,10<n){t.timeoutHandle=Kh(Gn.bind(null,t),n);break}Gn(t);break;case 5:Gn(t);break;default:throw Error(z(329))}}return It(t,et()),t.callbackNode===e?Iv.bind(null,t):null}function Vr(t,e){for(e&=~nf,e&=~gi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function Oc(t){if(Y&48)throw Error(z(327));if(Vn(),t===ut&&t.expiredLanes&tt){var e=tt,n=qi(t,e);mi&gi&&(e=ws(t,e),n=qi(t,e))}else e=ws(t,0),n=qi(t,e);if(t.tag!==0&&n===2&&(Y|=64,t.hydrate&&(t.hydrate=!1,Bd(t.containerInfo)),e=Rg(t),e!==0&&(n=qi(t,e))),n===1)throw n=su,Hr(t,0),Vr(t,e),It(t,et()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gn(t),It(t,et()),null}function p3(){if(un!==null){var t=un;un=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,It(e,et())})}Jt()}function Av(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&(vi(),Jt())}}function Pv(t,e){var n=Y;Y&=-2,Y|=8;try{return t(e)}finally{Y=n,Y===0&&(vi(),Jt())}}function Po(t,e){Te(bc,lr),lr|=e,mi|=e}function sf(){lr=bc.current,ge(bc)}function Hr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gw(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&ha();break;case 3:ei(),ge(ft),ge(st),Gd();break;case 5:Wd(r);break;case 4:ei();break;case 13:ge(Ce);break;case 19:ge(Ce);break;case 10:qd(r);break;case 23:case 24:sf()}n=n.return}ut=t,Le=zn(t.current,null),tt=lr=mi=e,He=0,su=null,nf=gi=Gs=0}function Nv(t,e){do{var n=Le;try{if(Hd(),is.current=Ca,_a){for(var r=Pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_a=!1}if(Is=0,Ue=Xe=Pe=null,ss=!1,tf.current=null,n===null||n.return===null){He=1,su=e,Le=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=tt,u.flags|=2048,u.firstEffect=u.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if(!(u.mode&2)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var _=(Ce.current&1)!==0,v=o;do{var b;if(b=v.tag===13){var I=v.memoizedState;if(I!==null)b=I.dehydrated!==null;else{var C=v.memoizedProps;b=C.fallback===void 0?!1:C.unstable_avoidThisFallback!==!0?!0:!_}}if(b){var y=v.updateQueue;if(y===null){var m=new Set;m.add(c),v.updateQueue=m}else y.add(c);if(!(v.mode&2)){if(v.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var g=Tn(-1,1);g.tag=2,bn(u,g)}u.lanes|=1;break e}l=void 0,u=e;var T=s.pingCache;if(T===null?(T=s.pingCache=new u3,l=new Set,T.set(c,l)):(l=T.get(c),l===void 0&&(l=new Set,T.set(c,l))),!l.has(u)){l.add(u);var a=E3.bind(null,s,c,u);c.then(a,a)}v.flags|=4096,v.lanes=e;break e}v=v.return}while(v!==null);l=Error((Rr(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}He!==5&&(He=2),l=ef(l,u),v=o;do{switch(v.tag){case 3:s=l,v.flags|=4096,e&=-e,v.lanes|=e;var f=Cv(v,s,e);Zh(v,f);break e;case 1:s=l;var d=v.type,p=v.stateNode;if(!(v.flags&64)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ht===null||!Ht.has(p)))){v.flags|=4096,e&=-e,v.lanes|=e;var w=Tv(v,s,e);Zh(v,w);break e}}v=v.return}while(v!==null)}Ov(n)}catch(E){e=E,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(1)}function Dv(){var t=Ta.current;return Ta.current=Ca,t===null?Ca:t}function qi(t,e){var n=Y;Y|=16;var r=Dv();ut===t&&tt===e||Hr(t,e);do try{m3();break}catch(i){Nv(t,i)}while(1);if(Hd(),Y=n,Ta.current=r,Le!==null)throw Error(z(261));return ut=null,tt=0,He}function m3(){for(;Le!==null;)Mv(Le)}function g3(){for(;Le!==null&&!Yw();)Mv(Le)}function Mv(t){var e=Lv(t.alternate,t,lr);t.memoizedProps=t.pendingProps,e===null?Ov(t):Le=e,tf.current=null}function Ov(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=a3(e),n!==null){n.flags&=2047,Le=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=o3(n,e,lr),n!==null){Le=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||lr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);He===0&&(He=5)}function Gn(t){var e=Zr();return ur(99,v3.bind(null,t,e)),null}function v3(t,e){do Vn();while(os!==null);if(Y&48)throw Error(z(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,u=t.expirationTimes;0<s;){var l=31-Ln(s),c=1<<l;i[l]=0,o[l]=-1,u[l]=-1,s&=~c}if(un!==null&&!(r&24)&&un.has(t)&&un.delete(t),t===ut&&(Le=ut=null,tt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=Y,Y|=32,tf.current=null,dl=Ko,o=jh(),lc(o)){if("selectionStart"in o)u={start:o.selectionStart,end:o.selectionEnd};else e:if(u=(u=o.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&c.rangeCount!==0){u=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch{u=null;break e}var h=0,_=-1,v=-1,b=0,I=0,C=o,y=null;t:for(;;){for(var m;C!==u||s!==0&&C.nodeType!==3||(_=h+s),C!==l||c!==0&&C.nodeType!==3||(v=h+c),C.nodeType===3&&(h+=C.nodeValue.length),(m=C.firstChild)!==null;)y=C,C=m;for(;;){if(C===o)break t;if(y===u&&++b===s&&(_=h),y===l&&++I===c&&(v=h),(m=C.nextSibling)!==null)break;C=y,y=C.parentNode}C=m}u=_===-1||v===-1?null:{start:_,end:v}}else u=null;u=u||{start:0,end:0}}else u=null;fl={focusedElem:o,selectionRange:u},Ko=!1,us=null,Zo=!1,q=r;do try{y3()}catch(E){if(q===null)throw Error(z(330));Pn(q,E),q=q.nextEffect}while(q!==null);us=null,q=r;do try{for(o=t;q!==null;){var g=q.flags;if(g&16&&ms(q.stateNode,""),g&128){var T=q.alternate;if(T!==null){var a=T.ref;a!==null&&(typeof a=="function"?a(null):a.current=null)}}switch(g&1038){case 2:Cp(q),q.flags&=-3;break;case 6:Cp(q),q.flags&=-3,wl(q.alternate,q);break;case 1024:q.flags&=-1025;break;case 1028:q.flags&=-1025,wl(q.alternate,q);break;case 4:wl(q.alternate,q);break;case 8:u=q,bv(o,u);var f=u.alternate;Sp(u),f!==null&&Sp(f)}q=q.nextEffect}}catch(E){if(q===null)throw Error(z(330));Pn(q,E),q=q.nextEffect}while(q!==null);if(a=fl,T=jh(),g=a.focusedElem,o=a.selectionRange,T!==g&&g&&g.ownerDocument&&Hg(g.ownerDocument.documentElement,g)){for(o!==null&&lc(g)&&(T=o.start,a=o.end,a===void 0&&(a=T),"selectionStart"in g?(g.selectionStart=T,g.selectionEnd=Math.min(a,g.value.length)):(a=(T=g.ownerDocument||document)&&T.defaultView||window,a.getSelection&&(a=a.getSelection(),u=g.textContent.length,f=Math.min(o.start,u),o=o.end===void 0?f:Math.min(o.end,u),!a.extend&&f>o&&(u=o,o=f,f=u),u=zh(g,f),s=zh(g,o),u&&s&&(a.rangeCount!==1||a.anchorNode!==u.node||a.anchorOffset!==u.offset||a.focusNode!==s.node||a.focusOffset!==s.offset)&&(T=T.createRange(),T.setStart(u.node,u.offset),a.removeAllRanges(),f>o?(a.addRange(T),a.extend(s.node,s.offset)):(T.setEnd(s.node,s.offset),a.addRange(T)))))),T=[],a=g;a=a.parentNode;)a.nodeType===1&&T.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<T.length;g++)a=T[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}Ko=!!dl,fl=dl=null,t.current=n,q=r;do try{for(g=t;q!==null;){var d=q.flags;if(d&36&&d3(g,q.alternate,q),d&128){T=void 0;var p=q.ref;if(p!==null){var w=q.stateNode;switch(q.tag){case 5:T=w;break;default:T=w}typeof p=="function"?p(T):p.current=T}}q=q.nextEffect}}catch(E){if(q===null)throw Error(z(330));Pn(q,E),q=q.nextEffect}while(q!==null);q=null,Zw(),Y=i}else t.current=n;if(xn)xn=!1,os=t,Hi=e;else for(q=r;q!==null;)e=q.nextEffect,q.nextEffect=null,q.flags&8&&(d=q,d.sibling=null,d.stateNode=null),q=e;if(r=t.pendingLanes,r===0&&(Ht=null),r===1?t===Mc?as++:(as=0,Mc=t):as=0,n=n.stateNode,ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Ud,n,void 0,(n.current.flags&64)===64)}catch{}if(It(t,et()),ba)throw ba=!1,t=Pc,Pc=null,t;return Y&8||Jt(),null}function y3(){for(;q!==null;){var t=q.alternate;Zo||us===null||(q.flags&8?Ch(q,us)&&(Zo=!0):q.tag===13&&f3(t,q)&&Ch(q,us)&&(Zo=!0));var e=q.flags;e&256&&c3(t,q),!(e&512)||xn||(xn=!0,ks(97,function(){return Vn(),null})),q=q.nextEffect}}function Vn(){if(Hi!==90){var t=97<Hi?97:Hi;return Hi=90,ur(t,_3)}return!1}function w3(t,e){Nc.push(e,t),xn||(xn=!0,ks(97,function(){return Vn(),null}))}function $v(t,e){Dc.push(e,t),xn||(xn=!0,ks(97,function(){return Vn(),null}))}function _3(){if(os===null)return!1;var t=os;if(os=null,Y&48)throw Error(z(331));var e=Y;Y|=32;var n=Dc;Dc=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(z(330));Pn(s,l)}}for(n=Nc,Nc=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(s===null)throw Error(z(330));Pn(s,l)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return Y=e,Jt(),!0}function bp(t,e,n){e=ef(n,e),e=Cv(t,e,1),bn(t,e),e=gt(),t=ou(t,1),t!==null&&(Ja(t,1,e),It(t,e))}function Pn(t,e){if(t.tag===3)bp(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){bp(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r))){t=ef(e,t);var i=Tv(n,t,1);if(bn(n,i),i=gt(),n=ou(n,1),n!==null)Ja(n,1,i),It(n,i);else if(typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function E3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(tt&n)===n&&(He===4||He===3&&(tt&62914560)===tt&&500>et()-rf?Hr(t,0):nf|=n),It(t,e)}function S3(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(nn===0&&(nn=mi),e=Cr(62914560&~nn),e===0&&(e=4194304)):e=Zr()===99?1:2:e=1),n=gt(),t=ou(t,e),t!==null&&(Ja(t,e,n),It(t,n))}var Lv;Lv=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)Rt=!0;else if(n&r)Rt=!!(t.flags&16384);else{switch(Rt=!1,e.tag){case 3:fp(e),gl();break;case 5:rp(e);break;case 1:ht(e.type)&&Qo(e);break;case 4:vc(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Te(pa,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?hp(t,e,n):(Te(Ce,Ce.current&1),e=sn(t,e,n),e!==null?e.sibling:null);Te(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return yp(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(Ce,Ce.current),r)break;return null;case 23:case 24:return e.lanes=0,vl(t,e,n)}return sn(t,e,n)}else Rt=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Jr(e,st.current),Br(e,n),i=Xd(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,ht(r)){var s=!0;Qo(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kd(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&va(e,r,o,t),i.updater=iu,e.stateNode=i,i._reactInternals=e,gc(e,r,t,n),e=Ec(null,e,r,!0,s,n)}else e.tag=0,dt(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=C3(i),t=Lt(i,t),s){case 0:e=_c(null,e,i,t,n);break e;case 1:e=dp(null,e,i,t,n);break e;case 11:e=lp(null,e,i,t,n);break e;case 14:e=cp(null,e,i,Lt(i.type,t),r,n);break e}throw Error(z(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),_c(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),dp(t,e,r,i,n);case 3:if(fp(e),r=e.updateQueue,t===null||r===null)throw Error(z(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,ov(t,e),Cs(e,r,null,n),r=e.memoizedState.element,r===i)gl(),e=sn(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(_n=Fr(e.stateNode.containerInfo.firstChild),rn=e,s=Wt=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],Ur.push(s);for(n=cv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else dt(t,e,r,n),gl();e=e.child}return e;case 5:return rp(e),t===null&&yc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fc(r,i)?o=null:s!==null&&fc(r,s)&&(e.flags|=16),_v(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&yc(e),null;case 13:return hp(t,e,n);case 4:return vc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ya(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),lp(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var u=e.type._context;if(Te(pa,u._currentValue),u._currentValue=s,o!==null)if(u=o.value,s=Et(u,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,s):1073741823)|0,s===0){if(o.children===i.children&&!ft.current){e=sn(t,e,n);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var l=u.dependencies;if(l!==null){o=u.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&c.observedBits&s){u.tag===1&&(c=Tn(-1,n&-n),c.tag=2,bn(u,c)),u.lanes|=n,c=u.alternate,c!==null&&(c.lanes|=n),sv(u.return,n),l.lanes|=n;break}c=c.next}}else o=u.tag===10&&u.type===e.type?null:u.child;if(o!==null)o.return=u;else for(o=u;o!==null;){if(o===e){o=null;break}if(u=o.sibling,u!==null){u.return=o.return,o=u;break}o=o.return}u=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Br(e,n),i=bt(i,s.unstable_observedBits),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return i=e.type,s=Lt(i,e.pendingProps),s=Lt(i.type,s),cp(t,e,i,s,r,n);case 15:return wv(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,ht(r)?(t=!0,Qo(e)):t=!1,Br(e,n),uv(e,r,i),gc(e,r,i,n),Ec(null,e,r,!0,t,n);case 19:return yp(t,e,n);case 23:return vl(t,e,n);case 24:return vl(t,e,n)}throw Error(z(156,e.tag))};function k3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,r){return new k3(t,e,n,r)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function C3(t){if(typeof t=="function")return of(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qa)return 11;if(t===Xa)return 14}return 2}function zn(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ea(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")of(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vn:return qr(n.children,i,s,e);case dg:o=8,i|=16;break;case Ed:o=8,i|=1;break;case Yi:return t=St(12,n,e,i|8),t.elementType=Yi,t.type=Yi,t.lanes=s,t;case Ji:return t=St(13,n,e,i),t.type=Ji,t.elementType=Ji,t.lanes=s,t;case sa:return t=St(19,n,e,i),t.elementType=sa,t.lanes=s,t;case Id:return af(n,i,s,e);case Gl:return t=St(24,n,e,i),t.elementType=Gl,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sd:o=10;break e;case kd:o=9;break e;case Qa:o=11;break e;case Xa:o=14;break e;case Cd:o=16,r=null;break e;case Td:o=22;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=St(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qr(t,e,n,r){return t=St(7,t,r,e),t.lanes=n,t}function af(t,e,n,r){return t=St(23,t,r,e),t.elementType=Id,t.lanes=n,t}function _l(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function El(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T3(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.mutableSourceEagerHydrationData=null}function b3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ia(t,e,n,r){var i=e.current,s=gt(),o=In(i);e:if(n){n=n._reactInternals;t:{if(gr(n)!==n||n.tag!==1)throw Error(z(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ht(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(z(171))}if(n.tag===1){var l=n.type;if(ht(l)){n=Jg(n,l,u);break e}}n=u}else n=Rn;return e.context===null?e.context=n:e.pendingContext=n,e=Tn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),bn(i,e),An(i,o,s),o}function Sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ip(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uf(t,e){Ip(t,e),(t=t.alternate)&&Ip(t,e)}function I3(){return null}function lf(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new T3(t,e,n!=null&&n.hydrate===!0),e=St(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Kd(e),t[pi]=n.current,Wg(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}lf.prototype.render=function(t){Ia(t,this._internalRoot,null,null)};lf.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ia(null,t,null,function(){e[pi]=null})};function Qs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function A3(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new lf(t,0,e?{hydrate:!0}:void 0)}function au(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var u=i;i=function(){var c=Sl(o);u.call(c)}}Ia(e,o,t,i)}else{if(s=n._reactRootContainer=A3(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var c=Sl(o);l.call(c)}}Pv(function(){Ia(e,o,t,i)})}return Sl(o)}bg=function(t){if(t.tag===13){var e=gt();An(t,4,e),uf(t,4)}};Md=function(t){if(t.tag===13){var e=gt();An(t,67108864,e),uf(t,67108864)}};Ig=function(t){if(t.tag===13){var e=gt(),n=In(t);An(t,n,e),uf(t,n)}};Ag=function(t,e){return e()};ic=function(t,e,n){switch(e){case"input":if(Xl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nu(r);if(!i)throw Error(z(90));hg(r),Xl(r,i)}}}break;case"textarea":mg(t,n);break;case"select":e=n.value,e!=null&&xr(t,!!n.multiple,e,!1)}};Pd=Av;Sg=function(t,e,n,r,i){var s=Y;Y|=4;try{return ur(98,t.bind(null,e,n,r,i))}finally{Y=s,Y===0&&(vi(),Jt())}};Nd=function(){!(Y&49)&&(p3(),Vn())};kg=function(t,e){var n=Y;Y|=2;try{return t(e)}finally{Y=n,Y===0&&(vi(),Jt())}};function Rv(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qs(e))throw Error(z(200));return b3(t,e,null,n)}var P3={Events:[Ks,Nr,nu,_g,Eg,Vn,{current:!1}]},Ri={findFiberByHostInstance:Jn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},N3={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tg(t),t===null?null:t.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||I3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{Ud=No.inject(N3),ir=No}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P3;Pt.createPortal=Rv;Pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):Error(z(268,Object.keys(t)));return t=Tg(e),t=t===null?null:t.stateNode,t};Pt.flushSync=function(t,e){var n=Y;if(n&48)return t(e);Y|=1;try{if(t)return ur(99,t.bind(null,e))}finally{Y=n,Jt()}};Pt.hydrate=function(t,e,n){if(!Qs(e))throw Error(z(200));return au(null,t,e,!0,n)};Pt.render=function(t,e,n){if(!Qs(e))throw Error(z(200));return au(null,t,e,!1,n)};Pt.unmountComponentAtNode=function(t){if(!Qs(t))throw Error(z(40));return t._reactRootContainer?(Pv(function(){au(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0):!1};Pt.unstable_batchedUpdates=Av;Pt.unstable_createPortal=function(t,e){return Rv(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qs(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return au(t,e,n,!1,r)};Pt.version="17.0.2";function xv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xv)}catch(t){console.error(t)}}xv(),ag.exports=Pt;var D3=ag.exports;const M3=Us(D3);function O3(t){const e=t.notes.map((n,r)=>Oe.jsx("div",{children:Oe.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[Oe.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]}),Oe.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(n.id),children:Oe.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return Oe.jsxs("section",{className:"pane sidebar",children:[Oe.jsxs("div",{className:"sidebar--header",children:[Oe.jsx("h3",{children:"Notes"}),Oe.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var kl={},Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.getBreaksNeededForEmptyLineAfter=Me.getBreaksNeededForEmptyLineBefore=Me.selectWord=Me.getSurroundingWord=void 0;function zv(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}Me.getSurroundingWord=zv;function $3(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?zv(e,n.start):n}Me.selectWord=$3;function L3(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}Me.getBreaksNeededForEmptyLineBefore=L3;function R3(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}Me.getBreaksNeededForEmptyLineAfter=R3;var Cl={},Xs={},mn={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(mn,"__esModule",{value:!0});mn.classNames=void 0;function x3(t){return typeof t=="string"}function z3(t){return Array.isArray(t)&&t.length>0}function j3(t){return typeof t=="object"}function jv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(x3(i))n.push(i);else if(z3(i)){var s=jv.apply(null,i);s&&n.push(s)}else if(j3(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}mn.classNames=jv;Object.defineProperty(Xs,"__esModule",{value:!0});Xs.ToolbarButtonGroup=void 0;var F3=At,B3=mn,U3=function(t){return F3.createElement("ul",{className:B3.classNames("mde-header-group",{hidden:t.hidden})},t.children)};Xs.ToolbarButtonGroup=U3;var Ys={},Or=te&&te.__assign||function(){return Or=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Or.apply(this,arguments)};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.ToolbarButton=void 0;var Ap=At,V3={tabIndex:-1},H3=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,u=Or(Or({},V3),r||{}),l=e||"button";return Ap.createElement("li",{className:"mde-header-item"},Ap.createElement(l,Or(Or({"data-name":o},u),{onClick:i,disabled:s,type:"button"}),n))};Ys.ToolbarButton=H3;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.MdeFontAwesomeIcon=void 0;var q3=At,K3=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return q3.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};Js.MdeFontAwesomeIcon=K3;var uu={},W3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(uu,"__esModule",{value:!0});uu.Preview=void 0;var Do=At,G3=mn,Q3=function(t){W3(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,u=n.heightUnits,l=this.state,c=l.preview,h=l.loading,_=h?s:c,v;typeof _=="string"?v=Do.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:_||"<p>&nbsp;</p>"},ref:o}):v=Do.createElement("div",{className:"mde-preview-content"},_);var b=i&&u?i+10+u:i+10;return Do.createElement("div",{className:G3.classNames("mde-preview",r,{loading:h}),style:{minHeight:b},"data-testid":"mde-preview"},v)},e}(Do.Component);uu.Preview=Q3;var lu={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.getCaretCoordinates=void 0;var X3=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],Fv=typeof window<"u",Y3=Fv&&window.mozInnerScreenX!=null;function J3(t,e){if(!Fv)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",X3.forEach(function(u){r[u]=i[u]}),Y3?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}cu.getCaretCoordinates=J3;var Zs={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(Zs,"__esModule",{value:!0});Zs.insertText=void 0;function Z3(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(e_(t)){var o=document.createTextNode(e),u=t.firstChild;if(!u)t.appendChild(o);else{for(var l=0,c=null,h=null,_=document.createRange();u&&(c===null||h===null);){var v=u.nodeValue.length;i>=l&&i<=l+v&&_.setStart(c=u,i-l),s>=l&&s<=l+v&&_.setEnd(h=u,s-l),l+=v,u=u.nextSibling}i!==s&&_.deleteContents(),_.insertNode(o)}}else{var b=t.value;t.value=b.slice(0,i)+e+b.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var I=document.createEvent("UIEvent");I.initEvent("input",!0,!1),t.dispatchEvent(I)}}Zs.insertText=Z3;function e_(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var du={};Object.defineProperty(du,"__esModule",{value:!0});du.mod=void 0;function t_(t,e){return(t%e+e)%e}du.mod=t_;var eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.SuggestionsDropdown=void 0;var Pp=At,n_=mn,r_=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,u=t.textAreaRef,l=function(C){C.preventDefault();var y=parseInt(C.currentTarget.attributes["data-index"].value);i(y)},c=function(C){return C.preventDefault()},h=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),_=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),v=r.left-u.current.scrollLeft,b=r.top-u.current.scrollTop,I={};return s&&b+u.current.getBoundingClientRect().top>_/2?I.bottom=u.current.offsetHeight-b:I.top=b,s&&v+u.current.getBoundingClientRect().left>h/2?I.right=u.current.offsetWidth-v:I.left=v,Pp.createElement("ul",{className:n_.classNames("mde-suggestions",e),style:I},n.map(function(C,y){return Pp.createElement("li",{onClick:l,onMouseDown:c,key:y,"aria-selected":o===y?"true":"false","data-index":""+y},C.preview)}))};eo.SuggestionsDropdown=r_;var i_=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=te&&te.__assign||function(){return mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mt.apply(this,arguments)};Object.defineProperty(lu,"__esModule",{value:!0});lu.TextArea=void 0;var Mo=At,s_=mn,o_=cu,a_=Zs,u_=du,l_=eo,c_=function(t){i_(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(u){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!u||!u.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:mt(mt({},r.state.mention),{status:"active",suggestions:u,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=o_.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),a_.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,u=i.shiftKey,l=i.currentTarget,c=l.selectionStart,h=r.state.mention;switch(h.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&c<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(h.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!u){i.preventDefault();var _=o==="ArrowUp"?-1:1;r.setState({mention:mt(mt({},h),{focusIndex:u_.mod(h.focusIndex+_,h.suggestions.length)})})}else o==="Enter"&&h.status==="active"&&h.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(h.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,u=r.props,l=u.suggestionTriggerCharacters,c=u.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var h=c.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(h),o.status!=="loading"&&r.setState({mention:mt(mt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var _=c.charAt(r.getTextArea().selectionStart-1),v=l.includes(c.charAt(r.getTextArea().selectionStart-1));v&&r.loadEmptySuggestion(i.currentTarget,_)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,u=s.value,l=r.state.mention,c=i.key;switch(l.status){case"loading":case"active":if(c===" "){r.setState({mention:mt(mt({},r.state.mention),{status:"inactive"})});return}var h=u.substr(l.startPosition,r.getTextArea().selectionStart-l.startPosition)+c;r.startLoadingSuggestions(h),l.status!=="loading"&&r.setState({mention:mt(mt({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(u.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,u=r.height,l=r.heightUnits,c=r.value,h=r.suggestionTriggerCharacters,_=r.loadSuggestions,v=r.suggestionsDropdownClasses,b=r.textAreaComponent,I=r.onPaste,C=r.onDrop,y=h&&h.length&&_,m=this.state.mention,g=b||"textarea",T=u&&l?u+l:u;return Mo.createElement("div",{className:"mde-textarea-wrapper"},Mo.createElement(g,mt({className:s_.classNames("mde-text",i),style:{height:T},ref:this.props.refObject,readOnly:s,value:c,"data-testid":"text-area"},o,{onChange:function(a){var f;(f=o==null?void 0:o.onChange)===null||f===void 0||f.call(o,a),n.handleOnChange(a)},onBlur:function(a){var f;(f=o==null?void 0:o.onBlur)===null||f===void 0||f.call(o,a),y&&n.handleBlur()},onKeyDown:function(a){var f;(f=o==null?void 0:o.onKeyDown)===null||f===void 0||f.call(o,a),n.handleKeyDown(a)},onKeyUp:function(a){var f;(f=o==null?void 0:o.onKeyUp)===null||f===void 0||f.call(o,a),y&&n.handleKeyUp(a)},onKeyPress:function(a){var f;(f=o==null?void 0:o.onKeyPress)===null||f===void 0||f.call(o,a),y&&n.handleKeyPress(a)},onPaste:function(a){var f;(f=o==null?void 0:o.onPaste)===null||f===void 0||f.call(o,a),I(a)},onDragOver:function(a){a.preventDefault(),a.stopPropagation()},onDrop:function(a){var f;(f=o==null?void 0:o.onDrop)===null||f===void 0||f.call(o,a),C(a),a.preventDefault()}})),m.status==="active"&&m.suggestions.length&&Mo.createElement(l_.SuggestionsDropdown,{classes:v,caret:m.caret,suggestions:m.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:m.focusIndex,textAreaRef:this.props.refObject}))},e}(Mo.Component);lu.TextArea=c_;var fu={},d_=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$r=te&&te.__assign||function(){return $r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$r.apply(this,arguments)};Object.defineProperty(fu,"__esModule",{value:!0});fu.Toolbar=void 0;var Wn=At,Tl=mn,f_=Xs,h_=Ys,p_=function(t){d_(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,u=i.buttons,l=i.onCommand,c=i.readOnly,h=i.disablePreview,_=i.writeButtonProps,v=i.previewButtonProps,b=i.buttonProps;if((!u||u.length===0)&&!o)return null;var I=Wn.createElement("div",{className:"mde-tabs"},Wn.createElement("button",$r({type:"button",className:Tl.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},_),r.write),Wn.createElement("button",$r({type:"button",className:Tl.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},v),r.preview));return Wn.createElement("div",{className:Tl.classNames("mde-header",s)},!h&&I,u.map(function(C,y){return Wn.createElement(f_.ToolbarButtonGroup,{key:y,hidden:n.props.tab==="preview"},C.map(function(m,g){return Wn.createElement(h_.ToolbarButton,{key:g,name:m.commandName,buttonContent:m.buttonContent,buttonProps:$r($r({},b||{}),m.buttonProps),onClick:function(){return l(m.commandName)},readOnly:c,buttonComponentClass:m.buttonComponentClass})}))}))},e}(Wn.Component);fu.Toolbar=p_;var xi={},Gt={},hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.headerCommand=void 0;var m_=Me;function g_(t,e,n){var r=m_.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}hu.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;g_(e,n,"### ")}};var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.boldCommand=void 0;var v_=Me;pu.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=v_.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.italicCommand=void 0;var y_=Me;mu.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=y_.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.strikeThroughCommand=void 0;var w_=Me;gu.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=w_.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.linkCommand=void 0;var __=Me;vu.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=__.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var yu={};Object.defineProperty(yu,"__esModule",{value:!0});yu.quoteCommand=void 0;var bl=Me;yu.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=bl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=bl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),u=bl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),l=Array(u+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+l);var c=i.selection.start+s+2,h=c+i.selectedText.length;n.setSelectionRange({start:c,end:h})}};var wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.codeCommand=void 0;var Il=Me;wu.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=Il.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var u=Il.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(u+1).join(`
`),c=Il.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),h=Array(c+1).join(`
`);n.replaceSelection(l+"```\n"+i.selectedText+"\n```"+h);var _=i.selection.start+u+4,v=_+i.selectedText.length;n.setSelectionRange({start:_,end:v})}};var Bv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=Me;function n(i,s){var o=i.split(/\n/),u=0,l=o.map(function(c,h){if(typeof s=="string")return u+=s.length,s+c;if(typeof s=="function"){var _=s(c,h);return u+=_.length,s(c,h)+c}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:l,insertionLength:u}}t.insertBeforeEachLine=n;var r=function(i,s,o){var u=e.selectWord({text:i.text,selection:i.selection}),l=s.setSelectionRange(u),c=e.getBreaksNeededForEmptyLineBefore(l.text,l.selection.start),h=Array(c+1).join(`
`),_=e.getBreaksNeededForEmptyLineAfter(l.text,l.selection.end),v=Array(_+1).join(`
`),b=n(l.selectedText,o);s.replaceSelection(""+h+b.modifiedText+v);var I=l.selectedText.indexOf(`
`)===-1?b.insertionLength:0,C=l.selection.start+c+I,y=C+b.modifiedText.length-I;s.setSelectionRange({start:C,end:y})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return l+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return"- [ ] "})}}})(Bv);var _u={};Object.defineProperty(_u,"__esModule",{value:!0});_u.imageCommand=void 0;var E_=Me;_u.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(E_.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var Eu={},Su={},S_=te&&te.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(_){o(_)}}function l(h){try{c(r.throw(h))}catch(_){o(_)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},k_=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Su,"__esModule",{value:!0});Su.readFileAsync=void 0;function C_(t){return S_(this,void 0,void 0,function(){return k_(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}Su.readFileAsync=C_;var T_=te&&te.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(_){o(_)}}function l(h){try{c(r.throw(h))}catch(_){o(_)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},b_=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.saveImageCommand=void 0;var I_=Su,A_=Me;function Np(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function P_(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function N_(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(c){return/^\.\w+/.test(c)}).map(function(c){return c.split(".")[1]})),u=new Set(s.filter(function(c){return/^[-\w.]+\/[-\w.]+$/.test(c)})),l=new Set(s.filter(function(c){return/(audio|video|image)\/\*/.test(c)}).map(function(c){return c.split("/")[0]}));i=i.filter(function(c){return o.has(c.name.split(".")[1])||u.has(c.type)||l.has(c.type.split("/")[0])})}return i}Eu.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return T_(this,void 0,void 0,function(){var i,s,o,u,l,c,h,_,v,b,I,C,y,m,g,T,a,f,d,p,w,E,S,A;return b_(this,function(L){switch(L.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,u=o.saveImage,l=o.multiple,c=o.accept,h=D_(n)?Np(s.clipboardData.items):M_(n)?Np(s.dataTransfer.items):P_(s.target.files),_=N_(h,{multiple:l,accept:c}),v=[];for(b in _)v.push(b);I=0,L.label=1;case 1:return I<v.length?(C=v[I],y=e.getState(),m=A_.getBreaksNeededForEmptyLineBefore(y.text,y.selection.start),g=Array(m+1).join(`
`),T=g+"!["+r.uploadingImage+"]()",e.replaceSelection(T),a=h[C],[4,I_.readFileAsync(a)]):[3,5];case 2:return f=L.sent(),d=u(f,a),[4,d.next()];case 3:p=L.sent().value,w=e.getState(),E=w.text.substr(y.selection.start,T.length),E===T&&(e.setSelectionRange({start:y.selection.start,end:y.selection.start+T.length}),S=p?g+"![image]("+p+")":"",A=S.length-T.length,e.replaceSelection(S),e.setSelectionRange({start:w.selection.start+A,end:w.selection.end+A})),L.label=4;case 4:return I++,[3,1];case 5:return[2]}})})}};function D_(t){return t.event.clipboardData!==void 0}function M_(t){return t.event.dataTransfer!==void 0}Object.defineProperty(Gt,"__esModule",{value:!0});Gt.getDefaultSaveImageCommandName=Gt.getDefaultCommandMap=Gt.getDefaultToolbarCommands=void 0;var O_=hu,$_=pu,L_=mu,R_=gu,x_=vu,z_=yu,j_=wu,Al=Bv,F_=_u,B_=Eu;function U_(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}Gt.getDefaultToolbarCommands=U_;function V_(){return{header:O_.headerCommand,bold:$_.boldCommand,italic:L_.italicCommand,strikethrough:R_.strikeThroughCommand,link:x_.linkCommand,quote:z_.quoteCommand,code:j_.codeCommand,image:F_.imageCommand,"unordered-list":Al.unorderedListCommand,"ordered-list":Al.orderedListCommand,"checked-list":Al.checkedListCommand,"save-image":B_.saveImageCommand}}Gt.getDefaultCommandMap=V_;function H_(){return"save-image"}Gt.getDefaultSaveImageCommandName=H_;var ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.enL18n=void 0;ku.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var cf={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.SvgIcon=void 0;var be=At,q_=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),K_=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),W_=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),G_=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),Q_=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),X_=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),Y_=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),J_=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),Z_=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),e2=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),t2=be.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},be.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),n2=function(t){var e=t.icon;switch(e){case"header":return e2;case"bold":return t2;case"italic":return Z_;case"strikethrough":return J_;case"link":return Y_;case"quote":return X_;case"code":return Q_;case"image":return G_;case"unordered-list":return W_;case"ordered-list":return K_;case"checked-list":return q_;default:return null}};Cu.SvgIcon=n2;(function(t){var e=te&&te.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=te&&te.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Js,t),n(Cu,t)})(cf);var Zt={},Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.extractKeyActivatedCommands=void 0;function r2(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}Tu.extractKeyActivatedCommands=r2;var Dp;function i2(){if(Dp)return Zt;Dp=1;var t=te&&te.__assign||function(){return t=Object.assign||function(h){for(var _,v=1,b=arguments.length;v<b;v++){_=arguments[v];for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&(h[I]=_[I])}return h},t.apply(this,arguments)},e=te&&te.__awaiter||function(h,_,v,b){function I(C){return C instanceof v?C:new v(function(y){y(C)})}return new(v||(v=Promise))(function(C,y){function m(a){try{T(b.next(a))}catch(f){y(f)}}function g(a){try{T(b.throw(a))}catch(f){y(f)}}function T(a){a.done?C(a.value):I(a.value).then(m,g)}T((b=b.apply(h,_||[])).next())})},n=te&&te.__generator||function(h,_){var v={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},b,I,C,y;return y={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function m(T){return function(a){return g([T,a])}}function g(T){if(b)throw new TypeError("Generator is already executing.");for(;v;)try{if(b=1,I&&(C=T[0]&2?I.return:T[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,T[1])).done)return C;switch(I=0,C&&(T=[T[0]&2,C.value]),T[0]){case 0:case 1:C=T;break;case 4:return v.label++,{value:T[1],done:!1};case 5:v.label++,I=T[1],T=[0];continue;case 7:T=v.ops.pop(),v.trys.pop();continue;default:if(C=v.trys,!(C=C.length>0&&C[C.length-1])&&(T[0]===6||T[0]===2)){v=0;continue}if(T[0]===3&&(!C||T[1]>C[0]&&T[1]<C[3])){v.label=T[1];break}if(T[0]===6&&v.label<C[1]){v.label=C[1],C=T;break}if(C&&v.label<C[2]){v.label=C[2],v.ops.push(T);break}C[2]&&v.ops.pop(),v.trys.pop();continue}T=_.call(h,v)}catch(a){T=[6,a],I=0}finally{b=C=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.CommandOrchestrator=Zt.getStateFromTextArea=Zt.TextAreaTextApi=void 0;var r=Vv(),i=Zs,s=Tu,o=Gt,u=function(){function h(_){this.textAreaRef=_}return h.prototype.replaceSelection=function(_){var v=this.textAreaRef.current;return i.insertText(v,_),l(v)},h.prototype.setSelectionRange=function(_){var v=this.textAreaRef.current;return v.focus(),v.selectionStart=_.start,v.selectionEnd=_.end,l(v)},h.prototype.getState=function(){var _=this.textAreaRef.current;return l(_)},h}();Zt.TextAreaTextApi=u;function l(h){return{selection:{start:h.selectionStart,end:h.selectionEnd},text:h.value,selectedText:h.value.slice(h.selectionStart,h.selectionEnd)}}Zt.getStateFromTextArea=l;var c=function(){function h(_,v,b,I){var C=this;if(this.getCommand=function(y){var m=C.commandMap[y];if(!m)throw new Error("Cannot execute command. Command not found: "+y);return m},this.handlePossibleKeyCommand=function(y){for(var m=0,g=C.keyActivatedCommands;m<g.length;m++){var T=g[m];if(C.getCommand(T).handleKeyCommand(y))return C.executeCommand(T).then(function(a){}),!0}return!1},I&&!I.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),_||{}),this.pasteOptions=I,this.keyActivatedCommands=s.extractKeyActivatedCommands(_),this.textAreaRef=v,this.textApi=new u(v),this.l18n=b}return h.prototype.executeCommand=function(_,v){return e(this,void 0,void 0,function(){var b,I;return n(this,function(C){switch(C.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,b=this.commandMap[_],I=b.execute({initialState:l(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:v}),[4,I]);case 1:return C.sent(),this.isExecuting=!1,[2]}})})},h.prototype.executePasteCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.executeDropCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.executeSelectImageCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.getCommandByName=function(_){return this.commandMap[_]},h}();return Zt.CommandOrchestrator=c,Zt}var Mp;function s2(){if(Mp)return xi;Mp=1;var t=te&&te.__extends||function(){var b=function(I,C){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(y[g]=m[g])},b(I,C)};return function(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");b(I,C);function y(){this.constructor=I}I.prototype=C===null?Object.create(C):(y.prototype=C.prototype,new y)}}(),e=te&&te.__assign||function(){return e=Object.assign||function(b){for(var I,C=1,y=arguments.length;C<y;C++){I=arguments[C];for(var m in I)Object.prototype.hasOwnProperty.call(I,m)&&(b[m]=I[m])}return b},e.apply(this,arguments)},n=te&&te.__awaiter||function(b,I,C,y){function m(g){return g instanceof C?g:new C(function(T){T(g)})}return new(C||(C=Promise))(function(g,T){function a(p){try{d(y.next(p))}catch(w){T(w)}}function f(p){try{d(y.throw(p))}catch(w){T(w)}}function d(p){p.done?g(p.value):m(p.value).then(a,f)}d((y=y.apply(b,I||[])).next())})},r=te&&te.__generator||function(b,I){var C={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},y,m,g,T;return T={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function a(d){return function(p){return f([d,p])}}function f(d){if(y)throw new TypeError("Generator is already executing.");for(;C;)try{if(y=1,m&&(g=d[0]&2?m.return:d[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,d[1])).done)return g;switch(m=0,g&&(d=[d[0]&2,g.value]),d[0]){case 0:case 1:g=d;break;case 4:return C.label++,{value:d[1],done:!1};case 5:C.label++,m=d[1],d=[0];continue;case 7:d=C.ops.pop(),C.trys.pop();continue;default:if(g=C.trys,!(g=g.length>0&&g[g.length-1])&&(d[0]===6||d[0]===2)){C=0;continue}if(d[0]===3&&(!g||d[1]>g[0]&&d[1]<g[3])){C.label=d[1];break}if(d[0]===6&&C.label<g[1]){C.label=g[1],g=d;break}if(g&&C.label<g[2]){C.label=g[2],C.ops.push(d);break}g[2]&&C.ops.pop(),C.trys.pop();continue}d=I.call(b,C)}catch(p){d=[6,p],m=0}finally{y=g=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(xi,"__esModule",{value:!0}),xi.ReactMde=void 0;var i=At,s=Uv(),o=Gt,u=ku,l=cf,c=mn,h=i2(),_={accept:"image/*",multiple:!1},v=function(b){t(I,b);function I(C){var y,m=b.call(this,C)||this;m.handleTextChange=function(T){var a=m.props.onChange;a(T)},m.handlePaste=function(T){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(T)];case 1:return f.sent(),[2]}})})},m.handleDrop=function(T){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(T)];case 1:return f.sent(),[2]}})})},m.handleImageSelection=function(T){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(T)];case 1:return f.sent(),[2]}})})},m.handleTabChange=function(T){var a=m.props.onTabChange;a(T)},m.handleCommand=function(T){return n(m,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,this.commandOrchestrator.executeCommand(T)];case 1:return a.sent(),[2]}})})},m.finalRefs=e({},C.refs||{}),m.finalRefs.textarea||(m.finalRefs.textarea=i.createRef()),m.finalRefs.preview||(m.finalRefs.preview=i.createRef()),m.commandOrchestrator=new h.CommandOrchestrator(m.props.commands,m.finalRefs.textarea,m.props.l18n,m.props.paste?e(e({},_),m.props.paste):void 0);var g=Math.min(C.maxEditorHeight,C.minEditorHeight);return m.state={editorHeight:(y=C.initialEditorHeight)!==null&&y!==void 0?y:g},m}return I.prototype.render=function(){var C=this,y,m,g=this.props,T=g.getIcon,a=g.toolbarCommands,f=g.classes,d=g.loadingPreview,p=g.readOnly,w=g.disablePreview,E=g.value,S=g.l18n,A=g.minPreviewHeight,L=g.heightUnits,N=g.childProps,M=g.selectedTab,O=g.generateMarkdownPreview,k=g.loadSuggestions,D=g.suggestionTriggerCharacters,B=g.textAreaComponent,V=N||{},se=a.map(function(P){return P.map(function(H){var K=C.commandOrchestrator.getCommand(H);return{commandName:H,buttonContent:K.icon?K.icon(T):T(H),buttonProps:K.buttonProps,buttonComponentClass:K.buttonComponentClass}})});return i.createElement("div",{className:c.classNames("react-mde","react-mde-tabbed-layout",f==null?void 0:f.reactMde)},i.createElement(s.Toolbar,{classes:f==null?void 0:f.toolbar,buttons:se,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:M,readOnly:p,disablePreview:w,l18n:S,buttonProps:V.commandButtons,writeButtonProps:V.writeButton,previewButtonProps:V.previewButton}),i.createElement("div",{className:c.classNames({invisible:M!=="write"})},i.createElement(s.TextArea,{classes:f==null?void 0:f.textArea,suggestionsDropdownClasses:f==null?void 0:f.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:p,textAreaComponent:B,textAreaProps:N&&N.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:E,suggestionTriggerCharacters:D,loadSuggestions:k,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:c.classNames("image-tip")},i.createElement("input",{className:c.classNames("image-input"),type:"file",accept:(y=this.props.paste.accept)!==null&&y!==void 0?y:_.accept,multiple:(m=this.props.paste.multiple)!==null&&m!==void 0?m:_.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,S.pasteDropSelect))),M!=="write"&&i.createElement(s.Preview,{classes:f==null?void 0:f.preview,refObject:this.finalRefs.preview,loadingPreview:d,minHeight:A,heightUnits:L,generateMarkdownPreview:O,markdown:E}))},I.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(C){return i.createElement(l.SvgIcon,{icon:C})},readOnly:!1,l18n:u.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},I}(i.Component);return xi.ReactMde=v,xi}var Op;function Uv(){return Op||(Op=1,function(t){var e=te&&te.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=te&&te.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Xs,t),n(Ys,t),n(Js,t),n(uu,t),n(lu,t),n(fu,t),n(s2(),t),n(eo,t)}(Cl)),Cl}var $p;function Vv(){return $p||($p=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=Me;t.MarkdownUtil=e;var n=Uv();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=cf;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=Gt;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(kl)),kl}var o2=Vv();const a2=Us(o2);var Hv={exports:{}};(function(t){(function(){function e(a){var f={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(a===!1)return JSON.parse(JSON.stringify(f));var d={};for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p].defaultValue);return d}function n(){var a=e(!0),f={};for(var d in a)a.hasOwnProperty(d)&&(f[d]=!0);return f}var r={},i={},s={},o=e(!0),u="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(a,f){return o[a]=f,this},r.getOption=function(a){return o[a]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(a){if(!l.hasOwnProperty(a))throw Error(a+" flavor was not found");r.resetOptions();var f=l[a];u=a;for(var d in f)f.hasOwnProperty(d)&&(o[d]=f[d])},r.getFlavor=function(){return u},r.getFlavorOptions=function(a){if(l.hasOwnProperty(a))return l[a]},r.getDefaultOptions=function(a){return e(a)},r.subParser=function(a,f){if(r.helper.isString(a))if(typeof f<"u")i[a]=f;else{if(i.hasOwnProperty(a))return i[a];throw Error("SubParser named "+a+" not registered!")}},r.extension=function(a,f){if(!r.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=r.helper.stdExtName(a),r.helper.isUndefined(f)){if(!s.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return s[a]}else{typeof f=="function"&&(f=f()),r.helper.isArray(f)||(f=[f]);var d=c(f,a);if(d.valid)s[a]=f;else throw Error(d.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(a){delete s[a]},r.resetExtensions=function(){s={}};function c(a,f){var d=f?"Error in "+f+" extension->":"Error in unnamed extension",p={valid:!0,error:""};r.helper.isArray(a)||(a=[a]);for(var w=0;w<a.length;++w){var E=d+" sub-extension "+w+": ",S=a[w];if(typeof S!="object")return p.valid=!1,p.error=E+"must be an object, but "+typeof S+" given",p;if(!r.helper.isString(S.type))return p.valid=!1,p.error=E+'property "type" must be a string, but '+typeof S.type+" given",p;var A=S.type=S.type.toLowerCase();if(A==="language"&&(A=S.type="lang"),A==="html"&&(A=S.type="output"),A!=="lang"&&A!=="output"&&A!=="listener")return p.valid=!1,p.error=E+"type "+A+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',p;if(A==="listener"){if(r.helper.isUndefined(S.listeners))return p.valid=!1,p.error=E+'. Extensions of type "listener" must have a property called "listeners"',p}else if(r.helper.isUndefined(S.filter)&&r.helper.isUndefined(S.regex))return p.valid=!1,p.error=E+A+' extensions must define either a "regex" property or a "filter" method',p;if(S.listeners){if(typeof S.listeners!="object")return p.valid=!1,p.error=E+'"listeners" property must be an object but '+typeof S.listeners+" given",p;for(var L in S.listeners)if(S.listeners.hasOwnProperty(L)&&typeof S.listeners[L]!="function")return p.valid=!1,p.error=E+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+L+" must be a function but "+typeof S.listeners[L]+" given",p}if(S.filter){if(typeof S.filter!="function")return p.valid=!1,p.error=E+'"filter" must be a function, but '+typeof S.filter+" given",p}else if(S.regex){if(r.helper.isString(S.regex)&&(S.regex=new RegExp(S.regex,"g")),!(S.regex instanceof RegExp))return p.valid=!1,p.error=E+'"regex" property must either be a string or a RegExp object, but '+typeof S.regex+" given",p;if(r.helper.isUndefined(S.replace))return p.valid=!1,p.error=E+'"regex" extensions must implement a replace string or function',p}}return p}r.validateExtension=function(a){var f=c(a,null);return f.valid?!0:(console.warn(f.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(a){return typeof a=="string"||a instanceof String},r.helper.isFunction=function(a){var f={};return a&&f.toString.call(a)==="[object Function]"},r.helper.isArray=function(a){return Array.isArray(a)},r.helper.isUndefined=function(a){return typeof a>"u"},r.helper.forEach=function(a,f){if(r.helper.isUndefined(a))throw new Error("obj param is required");if(r.helper.isUndefined(f))throw new Error("callback param is required");if(!r.helper.isFunction(f))throw new Error("callback param must be a function/closure");if(typeof a.forEach=="function")a.forEach(f);else if(r.helper.isArray(a))for(var d=0;d<a.length;d++)f(a[d],d,a);else if(typeof a=="object")for(var p in a)a.hasOwnProperty(p)&&f(a[p],p,a);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(a){return a.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function h(a,f){var d=f.charCodeAt(0);return"E"+d+"E"}r.helper.escapeCharactersCallback=h,r.helper.escapeCharacters=function(a,f,d){var p="(["+f.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(p="\\\\"+p);var w=new RegExp(p,"g");return a=a.replace(w,h),a},r.helper.unescapeHTMLEntities=function(a){return a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var _=function(a,f,d,p){var w=p||"",E=w.indexOf("g")>-1,S=new RegExp(f+"|"+d,"g"+w.replace(/g/g,"")),A=new RegExp(f,w.replace(/g/g,"")),L=[],N,M,O,k,D;do for(N=0;O=S.exec(a);)if(A.test(O[0]))N++||(M=S.lastIndex,k=M-O[0].length);else if(N&&!--N){D=O.index+O[0].length;var B={left:{start:k,end:M},match:{start:M,end:O.index},right:{start:O.index,end:D},wholeMatch:{start:k,end:D}};if(L.push(B),!E)return L}while(N&&(S.lastIndex=M));return L};r.helper.matchRecursiveRegExp=function(a,f,d,p){for(var w=_(a,f,d,p),E=[],S=0;S<w.length;++S)E.push([a.slice(w[S].wholeMatch.start,w[S].wholeMatch.end),a.slice(w[S].match.start,w[S].match.end),a.slice(w[S].left.start,w[S].left.end),a.slice(w[S].right.start,w[S].right.end)]);return E},r.helper.replaceRecursiveRegExp=function(a,f,d,p,w){if(!r.helper.isFunction(f)){var E=f;f=function(){return E}}var S=_(a,d,p,w),A=a,L=S.length;if(L>0){var N=[];S[0].wholeMatch.start!==0&&N.push(a.slice(0,S[0].wholeMatch.start));for(var M=0;M<L;++M)N.push(f(a.slice(S[M].wholeMatch.start,S[M].wholeMatch.end),a.slice(S[M].match.start,S[M].match.end),a.slice(S[M].left.start,S[M].left.end),a.slice(S[M].right.start,S[M].right.end))),M<L-1&&N.push(a.slice(S[M].wholeMatch.end,S[M+1].wholeMatch.start));S[L-1].wholeMatch.end<a.length&&N.push(a.slice(S[L-1].wholeMatch.end)),A=N.join("")}return A},r.helper.regexIndexOf=function(a,f,d){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(f instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var p=a.substring(d||0).search(f);return p>=0?p+(d||0):p},r.helper.splitAtIndex=function(a,f){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[a.substring(0,f),a.substring(f)]},r.helper.encodeEmailAddress=function(a){var f=[function(d){return"&#"+d.charCodeAt(0)+";"},function(d){return"&#x"+d.charCodeAt(0).toString(16)+";"},function(d){return d}];return a=a.replace(/./g,function(d){if(d==="@")d=f[Math.floor(Math.random()*2)](d);else{var p=Math.random();d=p>.9?f[2](d):p>.45?f[1](d):f[0](d)}return d}),a},r.helper.padEnd=function(f,d,p){return d=d>>0,p=String(p||" "),f.length>d?String(f):(d=d-f.length,d>p.length&&(p+=p.repeat(d/p.length)),String(f)+p.slice(0,d))},typeof console>"u"&&(console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(a){var f={},d=[],p=[],w={},E=u,S={parsed:{},raw:"",format:""};A();function A(){a=a||{};for(var k in o)o.hasOwnProperty(k)&&(f[k]=o[k]);if(typeof a=="object")for(var D in a)a.hasOwnProperty(D)&&(f[D]=a[D]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");f.extensions&&r.helper.forEach(f.extensions,L)}function L(k,D){if(D=D||null,r.helper.isString(k))if(k=r.helper.stdExtName(k),D=k,r.extensions[k]){console.warn("DEPRECATION WARNING: "+k+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),N(r.extensions[k],k);return}else if(!r.helper.isUndefined(s[k]))k=s[k];else throw Error('Extension "'+k+'" could not be loaded. It was either not found or is not a valid extension.');typeof k=="function"&&(k=k()),r.helper.isArray(k)||(k=[k]);var B=c(k,D);if(!B.valid)throw Error(B.error);for(var V=0;V<k.length;++V){switch(k[V].type){case"lang":d.push(k[V]);break;case"output":p.push(k[V]);break}if(k[V].hasOwnProperty("listeners"))for(var se in k[V].listeners)k[V].listeners.hasOwnProperty(se)&&M(se,k[V].listeners[se])}}function N(k,D){typeof k=="function"&&(k=k(new r.Converter)),r.helper.isArray(k)||(k=[k]);var B=c(k,D);if(!B.valid)throw Error(B.error);for(var V=0;V<k.length;++V)switch(k[V].type){case"lang":d.push(k[V]);break;case"output":p.push(k[V]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function M(k,D){if(!r.helper.isString(k))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof k+" given");if(typeof D!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof D+" given");w.hasOwnProperty(k)||(w[k]=[]),w[k].push(D)}function O(k){var D=k.match(/^\s*/)[0].length,B=new RegExp("^\\s{0,"+D+"}","gm");return k.replace(B,"")}this._dispatch=function(D,B,V,se){if(w.hasOwnProperty(D))for(var P=0;P<w[D].length;++P){var H=w[D][P](D,B,this,V,se);H&&typeof H<"u"&&(B=H)}return B},this.listen=function(k,D){return M(k,D),this},this.makeHtml=function(k){if(!k)return k;var D={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:d,outputModifiers:p,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return k=k.replace(//g,"T"),k=k.replace(/\$/g,"D"),k=k.replace(/\r\n/g,`
`),k=k.replace(/\r/g,`
`),k=k.replace(/\u00A0/g,"&nbsp;"),f.smartIndentationFix&&(k=O(k)),k=`

`+k+`

`,k=r.subParser("detab")(k,f,D),k=k.replace(/^[ \t]+$/mg,""),r.helper.forEach(d,function(B){k=r.subParser("runExtension")(B,k,f,D)}),k=r.subParser("metadata")(k,f,D),k=r.subParser("hashPreCodeTags")(k,f,D),k=r.subParser("githubCodeBlocks")(k,f,D),k=r.subParser("hashHTMLBlocks")(k,f,D),k=r.subParser("hashCodeTags")(k,f,D),k=r.subParser("stripLinkDefinitions")(k,f,D),k=r.subParser("blockGamut")(k,f,D),k=r.subParser("unhashHTMLSpans")(k,f,D),k=r.subParser("unescapeSpecialChars")(k,f,D),k=k.replace(/D/g,"$$"),k=k.replace(/T/g,""),k=r.subParser("completeHTMLDocument")(k,f,D),r.helper.forEach(p,function(B){k=r.subParser("runExtension")(B,k,f,D)}),S=D.metadata,k},this.makeMarkdown=this.makeMd=function(k,D){if(k=k.replace(/\r\n/g,`
`),k=k.replace(/\r/g,`
`),k=k.replace(/>[ \t]+</,">NBSP;<"),!D)if(window&&window.document)D=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var B=D.createElement("div");B.innerHTML=k;var V={preList:re(B)};K(B);for(var se=B.childNodes,P="",H=0;H<se.length;H++)P+=r.subParser("makeMarkdown.node")(se[H],V);function K(ie){for(var pe=0;pe<ie.childNodes.length;++pe){var Ee=ie.childNodes[pe];Ee.nodeType===3?/\S/.test(Ee.nodeValue)?(Ee.nodeValue=Ee.nodeValue.split(`
`).join(" "),Ee.nodeValue=Ee.nodeValue.replace(/(\s)+/g,"$1")):(ie.removeChild(Ee),--pe):Ee.nodeType===1&&K(Ee)}}function re(ie){for(var pe=ie.querySelectorAll("pre"),Ee=[],j=0;j<pe.length;++j)if(pe[j].childElementCount===1&&pe[j].firstChild.tagName.toLowerCase()==="code"){var $=pe[j].firstChild.innerHTML.trim(),F=pe[j].firstChild.getAttribute("data-language")||"";if(F==="")for(var G=pe[j].firstChild.className.split(" "),Ae=0;Ae<G.length;++Ae){var Se=G[Ae].match(/^language-(.+)$/);if(Se!==null){F=Se[1];break}}$=r.helper.unescapeHTMLEntities($),Ee.push($),pe[j].outerHTML='<precode language="'+F+'" precodenum="'+j.toString()+'"></precode>'}else Ee.push(pe[j].innerHTML),pe[j].innerHTML="",pe[j].setAttribute("prenum",j.toString());return Ee}return P},this.setOption=function(k,D){f[k]=D},this.getOption=function(k){return f[k]},this.getOptions=function(){return f},this.addExtension=function(k,D){D=D||null,L(k,D)},this.useExtension=function(k){L(k)},this.setFlavor=function(k){if(!l.hasOwnProperty(k))throw Error(k+" flavor was not found");var D=l[k];E=k;for(var B in D)D.hasOwnProperty(B)&&(f[B]=D[B])},this.getFlavor=function(){return E},this.removeExtension=function(k){r.helper.isArray(k)||(k=[k]);for(var D=0;D<k.length;++D){for(var B=k[D],V=0;V<d.length;++V)d[V]===B&&d[V].splice(V,1);for(var se=0;se<p.length;++V)p[se]===B&&p[se].splice(V,1)}},this.getAllExtensions=function(){return{language:d,output:p}},this.getMetadata=function(k){return k?S.raw:S.parsed},this.getMetadataFormat=function(){return S.format},this._setMetadataPair=function(k,D){S.parsed[k]=D},this._setMetadataFormat=function(k){S.format=k},this._setMetadataRaw=function(k){S.raw=k}},r.subParser("anchors",function(a,f,d){a=d.converter._dispatch("anchors.before",a,f,d);var p=function(w,E,S,A,L,N,M){if(r.helper.isUndefined(M)&&(M=""),S=S.toLowerCase(),w.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)A="";else if(!A)if(S||(S=E.toLowerCase().replace(/ ?\n/g," ")),A="#"+S,!r.helper.isUndefined(d.gUrls[S]))A=d.gUrls[S],r.helper.isUndefined(d.gTitles[S])||(M=d.gTitles[S]);else return w;A=A.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var O='<a href="'+A+'"';return M!==""&&M!==null&&(M=M.replace(/"/g,"&quot;"),M=M.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),O+=' title="'+M+'"'),f.openLinksInNewWindow&&!/^#/.test(A)&&(O+=' rel="noopener noreferrer" target="E95Eblank"'),O+=">"+E+"</a>",O};return a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[([^\[\]]+)]()()()()()/g,p),f.ghMentions&&(a=a.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(w,E,S,A,L){if(S==="\\")return E+A;if(!r.helper.isString(f.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var N=f.ghMentionsLink.replace(/\{u}/g,L),M="";return f.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="E95Eblank"'),E+'<a href="'+N+'"'+M+">"+A+"</a>"})),a=d.converter._dispatch("anchors.after",a,f,d),a});var v=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,b=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,I=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,C=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,y=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,m=function(a){return function(f,d,p,w,E,S,A){p=p.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var L=p,N="",M="",O=d||"",k=A||"";return/^www\./i.test(p)&&(p=p.replace(/^www\./i,"http://www.")),a.excludeTrailingPunctuationFromURLs&&S&&(N=S),a.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="E95Eblank"'),O+'<a href="'+p+'"'+M+">"+L+"</a>"+N+k}},g=function(a,f){return function(d,p,w){var E="mailto:";return p=p||"",w=r.subParser("unescapeSpecialChars")(w,a,f),a.encodeEmails?(E=r.helper.encodeEmailAddress(E+w),w=r.helper.encodeEmailAddress(w)):E=E+w,p+'<a href="'+E+'">'+w+"</a>"}};r.subParser("autoLinks",function(a,f,d){return a=d.converter._dispatch("autoLinks.before",a,f,d),a=a.replace(I,m(f)),a=a.replace(y,g(f,d)),a=d.converter._dispatch("autoLinks.after",a,f,d),a}),r.subParser("simplifiedAutoLinks",function(a,f,d){return f.simplifiedAutoLink&&(a=d.converter._dispatch("simplifiedAutoLinks.before",a,f,d),f.excludeTrailingPunctuationFromURLs?a=a.replace(b,m(f)):a=a.replace(v,m(f)),a=a.replace(C,g(f,d)),a=d.converter._dispatch("simplifiedAutoLinks.after",a,f,d)),a}),r.subParser("blockGamut",function(a,f,d){return a=d.converter._dispatch("blockGamut.before",a,f,d),a=r.subParser("blockQuotes")(a,f,d),a=r.subParser("headers")(a,f,d),a=r.subParser("horizontalRule")(a,f,d),a=r.subParser("lists")(a,f,d),a=r.subParser("codeBlocks")(a,f,d),a=r.subParser("tables")(a,f,d),a=r.subParser("hashHTMLBlocks")(a,f,d),a=r.subParser("paragraphs")(a,f,d),a=d.converter._dispatch("blockGamut.after",a,f,d),a}),r.subParser("blockQuotes",function(a,f,d){a=d.converter._dispatch("blockQuotes.before",a,f,d),a=a+`

`;var p=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return f.splitAdjacentBlockquotes&&(p=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),a=a.replace(p,function(w){return w=w.replace(/^[ \t]*>[ \t]?/gm,""),w=w.replace(/0/g,""),w=w.replace(/^[ \t]+$/gm,""),w=r.subParser("githubCodeBlocks")(w,f,d),w=r.subParser("blockGamut")(w,f,d),w=w.replace(/(^|\n)/g,"$1  "),w=w.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(E,S){var A=S;return A=A.replace(/^  /mg,"0"),A=A.replace(/0/g,""),A}),r.subParser("hashBlock")(`<blockquote>
`+w+`
</blockquote>`,f,d)}),a=d.converter._dispatch("blockQuotes.after",a,f,d),a}),r.subParser("codeBlocks",function(a,f,d){a=d.converter._dispatch("codeBlocks.before",a,f,d),a+="0";var p=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return a=a.replace(p,function(w,E,S){var A=E,L=S,N=`
`;return A=r.subParser("outdent")(A,f,d),A=r.subParser("encodeCode")(A,f,d),A=r.subParser("detab")(A,f,d),A=A.replace(/^\n+/g,""),A=A.replace(/\n+$/g,""),f.omitExtraWLInCodeBlocks&&(N=""),A="<pre><code>"+A+N+"</code></pre>",r.subParser("hashBlock")(A,f,d)+L}),a=a.replace(/0/,""),a=d.converter._dispatch("codeBlocks.after",a,f,d),a}),r.subParser("codeSpans",function(a,f,d){return a=d.converter._dispatch("codeSpans.before",a,f,d),typeof a>"u"&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(p,w,E,S){var A=S;return A=A.replace(/^([ \t]*)/g,""),A=A.replace(/[ \t]*$/g,""),A=r.subParser("encodeCode")(A,f,d),A=w+"<code>"+A+"</code>",A=r.subParser("hashHTMLSpans")(A,f,d),A}),a=d.converter._dispatch("codeSpans.after",a,f,d),a}),r.subParser("completeHTMLDocument",function(a,f,d){if(!f.completeHTMLDocument)return a;a=d.converter._dispatch("completeHTMLDocument.before",a,f,d);var p="html",w=`<!DOCTYPE HTML>
`,E="",S=`<meta charset="utf-8">
`,A="",L="";typeof d.metadata.parsed.doctype<"u"&&(w="<!DOCTYPE "+d.metadata.parsed.doctype+`>
`,p=d.metadata.parsed.doctype.toString().toLowerCase(),(p==="html"||p==="html5")&&(S='<meta charset="utf-8">'));for(var N in d.metadata.parsed)if(d.metadata.parsed.hasOwnProperty(N))switch(N.toLowerCase()){case"doctype":break;case"title":E="<title>"+d.metadata.parsed.title+`</title>
`;break;case"charset":p==="html"||p==="html5"?S='<meta charset="'+d.metadata.parsed.charset+`">
`:S='<meta name="charset" content="'+d.metadata.parsed.charset+`">
`;break;case"language":case"lang":A=' lang="'+d.metadata.parsed[N]+'"',L+='<meta name="'+N+'" content="'+d.metadata.parsed[N]+`">
`;break;default:L+='<meta name="'+N+'" content="'+d.metadata.parsed[N]+`">
`}return a=w+"<html"+A+`>
<head>
`+E+S+L+`</head>
<body>
`+a.trim()+`
</body>
</html>`,a=d.converter._dispatch("completeHTMLDocument.after",a,f,d),a}),r.subParser("detab",function(a,f,d){return a=d.converter._dispatch("detab.before",a,f,d),a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"AB"),a=a.replace(/B(.+?)A/g,function(p,w){for(var E=w,S=4-E.length%4,A=0;A<S;A++)E+=" ";return E}),a=a.replace(/A/g,"    "),a=a.replace(/B/g,""),a=d.converter._dispatch("detab.after",a,f,d),a}),r.subParser("ellipsis",function(a,f,d){return a=d.converter._dispatch("ellipsis.before",a,f,d),a=a.replace(/\.\.\./g,""),a=d.converter._dispatch("ellipsis.after",a,f,d),a}),r.subParser("emoji",function(a,f,d){if(!f.emoji)return a;a=d.converter._dispatch("emoji.before",a,f,d);var p=/:([\S]+?):/g;return a=a.replace(p,function(w,E){return r.helper.emojis.hasOwnProperty(E)?r.helper.emojis[E]:w}),a=d.converter._dispatch("emoji.after",a,f,d),a}),r.subParser("encodeAmpsAndAngles",function(a,f,d){return a=d.converter._dispatch("encodeAmpsAndAngles.before",a,f,d),a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?$!])/gi,"&lt;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=d.converter._dispatch("encodeAmpsAndAngles.after",a,f,d),a}),r.subParser("encodeBackslashEscapes",function(a,f,d){return a=d.converter._dispatch("encodeBackslashEscapes.before",a,f,d),a=a.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("encodeBackslashEscapes.after",a,f,d),a}),r.subParser("encodeCode",function(a,f,d){return a=d.converter._dispatch("encodeCode.before",a,f,d),a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("encodeCode.after",a,f,d),a}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(a,f,d){a=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",a,f,d);var p=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,w=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return a=a.replace(p,function(E){return E.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=a.replace(w,function(E){return E.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",a,f,d),a}),r.subParser("githubCodeBlocks",function(a,f,d){return f.ghCodeBlocks?(a=d.converter._dispatch("githubCodeBlocks.before",a,f,d),a+="0",a=a.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(p,w,E,S){var A=f.omitExtraWLInCodeBlocks?"":`
`;return S=r.subParser("encodeCode")(S,f,d),S=r.subParser("detab")(S,f,d),S=S.replace(/^\n+/g,""),S=S.replace(/\n+$/g,""),S="<pre><code"+(E?' class="'+E+" language-"+E+'"':"")+">"+S+A+"</code></pre>",S=r.subParser("hashBlock")(S,f,d),`

G`+(d.ghCodeBlocks.push({text:p,codeblock:S})-1)+`G

`}),a=a.replace(/0/,""),d.converter._dispatch("githubCodeBlocks.after",a,f,d)):a}),r.subParser("hashBlock",function(a,f,d){return a=d.converter._dispatch("hashBlock.before",a,f,d),a=a.replace(/(^\n+|\n+$)/g,""),a=`

K`+(d.gHtmlBlocks.push(a)-1)+`K

`,a=d.converter._dispatch("hashBlock.after",a,f,d),a}),r.subParser("hashCodeTags",function(a,f,d){a=d.converter._dispatch("hashCodeTags.before",a,f,d);var p=function(w,E,S,A){var L=S+r.subParser("encodeCode")(E,f,d)+A;return"C"+(d.gHtmlSpans.push(L)-1)+"C"};return a=r.helper.replaceRecursiveRegExp(a,p,"<code\\b[^>]*>","</code>","gim"),a=d.converter._dispatch("hashCodeTags.after",a,f,d),a}),r.subParser("hashElement",function(a,f,d){return function(p,w){var E=w;return E=E.replace(/\n\n/g,`
`),E=E.replace(/^\n/,""),E=E.replace(/\n+$/g,""),E=`

K`+(d.gHtmlBlocks.push(E)-1)+`K

`,E}}),r.subParser("hashHTMLBlocks",function(a,f,d){a=d.converter._dispatch("hashHTMLBlocks.before",a,f,d);var p=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],w=function(k,D,B,V){var se=k;return B.search(/\bmarkdown\b/)!==-1&&(se=B+d.converter.makeHtml(D)+V),`

K`+(d.gHtmlBlocks.push(se)-1)+`K

`};f.backslashEscapesHTMLTags&&(a=a.replace(/\\<(\/?[^>]+?)>/g,function(k,D){return"&lt;"+D+"&gt;"}));for(var E=0;E<p.length;++E)for(var S,A=new RegExp("^ {0,3}(<"+p[E]+"\\b[^>]*>)","im"),L="<"+p[E]+"\\b[^>]*>",N="</"+p[E]+">";(S=r.helper.regexIndexOf(a,A))!==-1;){var M=r.helper.splitAtIndex(a,S),O=r.helper.replaceRecursiveRegExp(M[1],w,L,N,"im");if(O===M[1])break;a=M[0].concat(O)}return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,d)),a=r.helper.replaceRecursiveRegExp(a,function(k){return`

K`+(d.gHtmlBlocks.push(k)-1)+`K

`},"^ {0,3}<!--","-->","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,d)),a=d.converter._dispatch("hashHTMLBlocks.after",a,f,d),a}),r.subParser("hashHTMLSpans",function(a,f,d){a=d.converter._dispatch("hashHTMLSpans.before",a,f,d);function p(w){return"C"+(d.gHtmlSpans.push(w)-1)+"C"}return a=a.replace(/<[^>]+?\/>/gi,function(w){return p(w)}),a=a.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<[^>]+?>/gi,function(w){return p(w)}),a=d.converter._dispatch("hashHTMLSpans.after",a,f,d),a}),r.subParser("unhashHTMLSpans",function(a,f,d){a=d.converter._dispatch("unhashHTMLSpans.before",a,f,d);for(var p=0;p<d.gHtmlSpans.length;++p){for(var w=d.gHtmlSpans[p],E=0;/C(\d+)C/.test(w);){var S=RegExp.$1;if(w=w.replace("C"+S+"C",d.gHtmlSpans[S]),E===10){console.error("maximum nesting of 10 spans reached!!!");break}++E}a=a.replace("C"+p+"C",w)}return a=d.converter._dispatch("unhashHTMLSpans.after",a,f,d),a}),r.subParser("hashPreCodeTags",function(a,f,d){a=d.converter._dispatch("hashPreCodeTags.before",a,f,d);var p=function(w,E,S,A){var L=S+r.subParser("encodeCode")(E,f,d)+A;return`

G`+(d.ghCodeBlocks.push({text:w,codeblock:L})-1)+`G

`};return a=r.helper.replaceRecursiveRegExp(a,p,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),a=d.converter._dispatch("hashPreCodeTags.after",a,f,d),a}),r.subParser("headers",function(a,f,d){a=d.converter._dispatch("headers.before",a,f,d);var p=isNaN(parseInt(f.headerLevelStart))?1:parseInt(f.headerLevelStart),w=f.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,E=f.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;a=a.replace(w,function(L,N){var M=r.subParser("spanGamut")(N,f,d),O=f.noHeaderId?"":' id="'+A(N)+'"',k=p,D="<h"+k+O+">"+M+"</h"+k+">";return r.subParser("hashBlock")(D,f,d)}),a=a.replace(E,function(L,N){var M=r.subParser("spanGamut")(N,f,d),O=f.noHeaderId?"":' id="'+A(N)+'"',k=p+1,D="<h"+k+O+">"+M+"</h"+k+">";return r.subParser("hashBlock")(D,f,d)});var S=f.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;a=a.replace(S,function(L,N,M){var O=M;f.customizedHeaderId&&(O=M.replace(/\s?\{([^{]+?)}\s*$/,""));var k=r.subParser("spanGamut")(O,f,d),D=f.noHeaderId?"":' id="'+A(M)+'"',B=p-1+N.length,V="<h"+B+D+">"+k+"</h"+B+">";return r.subParser("hashBlock")(V,f,d)});function A(L){var N,M;if(f.customizedHeaderId){var O=L.match(/\{([^{]+?)}\s*$/);O&&O[1]&&(L=O[1])}return N=L,r.helper.isString(f.prefixHeaderId)?M=f.prefixHeaderId:f.prefixHeaderId===!0?M="section-":M="",f.rawPrefixHeaderId||(N=M+N),f.ghCompatibleHeaderId?N=N.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():f.rawHeaderId?N=N.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():N=N.replace(/[^\w]/g,"").toLowerCase(),f.rawPrefixHeaderId&&(N=M+N),d.hashLinkCounts[N]?N=N+"-"+d.hashLinkCounts[N]++:d.hashLinkCounts[N]=1,N}return a=d.converter._dispatch("headers.after",a,f,d),a}),r.subParser("horizontalRule",function(a,f,d){a=d.converter._dispatch("horizontalRule.before",a,f,d);var p=r.subParser("hashBlock")("<hr />",f,d);return a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,p),a=d.converter._dispatch("horizontalRule.after",a,f,d),a}),r.subParser("images",function(a,f,d){a=d.converter._dispatch("images.before",a,f,d);var p=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,w=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,E=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,S=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,A=/!\[([^\[\]]+)]()()()()()/g;function L(M,O,k,D,B,V,se,P){return D=D.replace(/\s/g,""),N(M,O,k,D,B,V,se,P)}function N(M,O,k,D,B,V,se,P){var H=d.gUrls,K=d.gTitles,re=d.gDimensions;if(k=k.toLowerCase(),P||(P=""),M.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)D="";else if(D===""||D===null)if((k===""||k===null)&&(k=O.toLowerCase().replace(/ ?\n/g," ")),D="#"+k,!r.helper.isUndefined(H[k]))D=H[k],r.helper.isUndefined(K[k])||(P=K[k]),r.helper.isUndefined(re[k])||(B=re[k].width,V=re[k].height);else return M;O=O.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),D=D.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ie='<img src="'+D+'" alt="'+O+'"';return P&&r.helper.isString(P)&&(P=P.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ie+=' title="'+P+'"'),B&&V&&(B=B==="*"?"auto":B,V=V==="*"?"auto":V,ie+=' width="'+B+'"',ie+=' height="'+V+'"'),ie+=" />",ie}return a=a.replace(S,N),a=a.replace(E,L),a=a.replace(w,N),a=a.replace(p,N),a=a.replace(A,N),a=d.converter._dispatch("images.after",a,f,d),a}),r.subParser("italicsAndBold",function(a,f,d){a=d.converter._dispatch("italicsAndBold.before",a,f,d);function p(w,E,S){return E+w+S}return f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(w,E){return p(E,"<strong><em>","</em></strong>")}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(w,E){return p(E,"<strong>","</strong>")}),a=a.replace(/\b_(\S[\s\S]*?)_\b/g,function(w,E){return p(E,"<em>","</em>")})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(w,E){return/\S$/.test(E)?p(E,"<strong><em>","</em></strong>"):w}),a=a.replace(/__(\S[\s\S]*?)__/g,function(w,E){return/\S$/.test(E)?p(E,"<strong>","</strong>"):w}),a=a.replace(/_([^\s_][\s\S]*?)_/g,function(w,E){return/\S$/.test(E)?p(E,"<em>","</em>"):w})),f.literalMidWordAsterisks?(a=a.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(w,E,S){return p(S,E+"<strong><em>","</em></strong>")}),a=a.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(w,E,S){return p(S,E+"<strong>","</strong>")}),a=a.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(w,E,S){return p(S,E+"<em>","</em>")})):(a=a.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(w,E){return/\S$/.test(E)?p(E,"<strong><em>","</em></strong>"):w}),a=a.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(w,E){return/\S$/.test(E)?p(E,"<strong>","</strong>"):w}),a=a.replace(/\*([^\s*][\s\S]*?)\*/g,function(w,E){return/\S$/.test(E)?p(E,"<em>","</em>"):w})),a=d.converter._dispatch("italicsAndBold.after",a,f,d),a}),r.subParser("lists",function(a,f,d){function p(S,A){d.gListLevel++,S=S.replace(/\n{2,}$/,`
`),S+="0";var L=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,N=/\n[ \t]*\n(?!0)/.test(S);return f.disableForced4SpacesIndentedSublists&&(L=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),S=S.replace(L,function(M,O,k,D,B,V,se){se=se&&se.trim()!=="";var P=r.subParser("outdent")(B,f,d),H="";return V&&f.tasklists&&(H=' class="task-list-item" style="list-style-type: none;"',P=P.replace(/^[ \t]*\[(x|X| )?]/m,function(){var K='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return se&&(K+=" checked"),K+=">",K})),P=P.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(K){return"A"+K}),O||P.search(/\n{2,}/)>-1?(P=r.subParser("githubCodeBlocks")(P,f,d),P=r.subParser("blockGamut")(P,f,d)):(P=r.subParser("lists")(P,f,d),P=P.replace(/\n$/,""),P=r.subParser("hashHTMLBlocks")(P,f,d),P=P.replace(/\n\n+/g,`

`),N?P=r.subParser("paragraphs")(P,f,d):P=r.subParser("spanGamut")(P,f,d)),P=P.replace("A",""),P="<li"+H+">"+P+`</li>
`,P}),S=S.replace(/0/g,""),d.gListLevel--,A&&(S=S.replace(/\s+$/,"")),S}function w(S,A){if(A==="ol"){var L=S.match(/^ *(\d+)\./);if(L&&L[1]!=="1")return' start="'+L[1]+'"'}return""}function E(S,A,L){var N=f.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,M=f.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,O=A==="ul"?N:M,k="";if(S.search(O)!==-1)(function B(V){var se=V.search(O),P=w(S,A);se!==-1?(k+=`

<`+A+P+`>
`+p(V.slice(0,se),!!L)+"</"+A+`>
`,A=A==="ul"?"ol":"ul",O=A==="ul"?N:M,B(V.slice(se))):k+=`

<`+A+P+`>
`+p(V,!!L)+"</"+A+`>
`})(S);else{var D=w(S,A);k=`

<`+A+D+`>
`+p(S,!!L)+"</"+A+`>
`}return k}return a=d.converter._dispatch("lists.before",a,f,d),a+="0",d.gListLevel?a=a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,A,L){var N=L.search(/[*+-]/g)>-1?"ul":"ol";return E(A,N,!0)}):a=a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,A,L,N){var M=N.search(/[*+-]/g)>-1?"ul":"ol";return E(L,M,!1)}),a=a.replace(/0/,""),a=d.converter._dispatch("lists.after",a,f,d),a}),r.subParser("metadata",function(a,f,d){if(!f.metadata)return a;a=d.converter._dispatch("metadata.before",a,f,d);function p(w){d.metadata.raw=w,w=w.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),w=w.replace(/\n {4}/g," "),w.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(E,S,A){return d.metadata.parsed[S]=A,""})}return a=a.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(w,E,S){return p(S),"M"}),a=a.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(w,E,S){return E&&(d.metadata.format=E),p(S),"M"}),a=a.replace(/M/g,""),a=d.converter._dispatch("metadata.after",a,f,d),a}),r.subParser("outdent",function(a,f,d){return a=d.converter._dispatch("outdent.before",a,f,d),a=a.replace(/^(\t|[ ]{1,4})/gm,"0"),a=a.replace(/0/g,""),a=d.converter._dispatch("outdent.after",a,f,d),a}),r.subParser("paragraphs",function(a,f,d){a=d.converter._dispatch("paragraphs.before",a,f,d),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var p=a.split(/\n{2,}/g),w=[],E=p.length,S=0;S<E;S++){var A=p[S];A.search(/(K|G)(\d+)\1/g)>=0?w.push(A):A.search(/\S/)>=0&&(A=r.subParser("spanGamut")(A,f,d),A=A.replace(/^([ \t]*)/g,"<p>"),A+="</p>",w.push(A))}for(E=w.length,S=0;S<E;S++){for(var L="",N=w[S],M=!1;/(K|G)(\d+)\1/.test(N);){var O=RegExp.$1,k=RegExp.$2;O==="K"?L=d.gHtmlBlocks[k]:M?L=r.subParser("encodeCode")(d.ghCodeBlocks[k].text,f,d):L=d.ghCodeBlocks[k].codeblock,L=L.replace(/\$/g,"$$$$"),N=N.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,L),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(N)&&(M=!0)}w[S]=N}return a=w.join(`
`),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),d.converter._dispatch("paragraphs.after",a,f,d)}),r.subParser("runExtension",function(a,f,d,p){if(a.filter)f=a.filter(f,p.converter,d);else if(a.regex){var w=a.regex;w instanceof RegExp||(w=new RegExp(w,"g")),f=f.replace(w,a.replace)}return f}),r.subParser("spanGamut",function(a,f,d){return a=d.converter._dispatch("spanGamut.before",a,f,d),a=r.subParser("codeSpans")(a,f,d),a=r.subParser("escapeSpecialCharsWithinTagAttributes")(a,f,d),a=r.subParser("encodeBackslashEscapes")(a,f,d),a=r.subParser("images")(a,f,d),a=r.subParser("anchors")(a,f,d),a=r.subParser("autoLinks")(a,f,d),a=r.subParser("simplifiedAutoLinks")(a,f,d),a=r.subParser("emoji")(a,f,d),a=r.subParser("underline")(a,f,d),a=r.subParser("italicsAndBold")(a,f,d),a=r.subParser("strikethrough")(a,f,d),a=r.subParser("ellipsis")(a,f,d),a=r.subParser("hashHTMLSpans")(a,f,d),a=r.subParser("encodeAmpsAndAngles")(a,f,d),f.simpleLineBreaks?/\n\nK/.test(a)||(a=a.replace(/\n+/g,`<br />
`)):a=a.replace(/  +\n/g,`<br />
`),a=d.converter._dispatch("spanGamut.after",a,f,d),a}),r.subParser("strikethrough",function(a,f,d){function p(w){return f.simplifiedAutoLink&&(w=r.subParser("simplifiedAutoLinks")(w,f,d)),"<del>"+w+"</del>"}return f.strikethrough&&(a=d.converter._dispatch("strikethrough.before",a,f,d),a=a.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(w,E){return p(E)}),a=d.converter._dispatch("strikethrough.after",a,f,d)),a}),r.subParser("stripLinkDefinitions",function(a,f,d){var p=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,w=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;a+="0";var E=function(S,A,L,N,M,O,k){return A=A.toLowerCase(),L.match(/^data:.+?\/.+?;base64,/)?d.gUrls[A]=L.replace(/\s/g,""):d.gUrls[A]=r.subParser("encodeAmpsAndAngles")(L,f,d),O?O+k:(k&&(d.gTitles[A]=k.replace(/"|'/g,"&quot;")),f.parseImgDimensions&&N&&M&&(d.gDimensions[A]={width:N,height:M}),"")};return a=a.replace(w,E),a=a.replace(p,E),a=a.replace(/0/,""),a}),r.subParser("tables",function(a,f,d){if(!f.tables)return a;var p=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,w=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function E(M){return/^:[ \t]*--*$/.test(M)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(M)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(M)?' style="text-align:center;"':""}function S(M,O){var k="";return M=M.trim(),(f.tablesHeaderId||f.tableHeaderId)&&(k=' id="'+M.replace(/ /g,"_").toLowerCase()+'"'),M=r.subParser("spanGamut")(M,f,d),"<th"+k+O+">"+M+`</th>
`}function A(M,O){var k=r.subParser("spanGamut")(M,f,d);return"<td"+O+">"+k+`</td>
`}function L(M,O){for(var k=`<table>
<thead>
<tr>
`,D=M.length,B=0;B<D;++B)k+=M[B];for(k+=`</tr>
</thead>
<tbody>
`,B=0;B<O.length;++B){k+=`<tr>
`;for(var V=0;V<D;++V)k+=O[B][V];k+=`</tr>
`}return k+=`</tbody>
</table>
`,k}function N(M){var O,k=M.split(`
`);for(O=0;O<k.length;++O)/^ {0,3}\|/.test(k[O])&&(k[O]=k[O].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(k[O])&&(k[O]=k[O].replace(/\|[ \t]*$/,"")),k[O]=r.subParser("codeSpans")(k[O],f,d);var D=k[0].split("|").map(function(ie){return ie.trim()}),B=k[1].split("|").map(function(ie){return ie.trim()}),V=[],se=[],P=[],H=[];for(k.shift(),k.shift(),O=0;O<k.length;++O)k[O].trim()!==""&&V.push(k[O].split("|").map(function(ie){return ie.trim()}));if(D.length<B.length)return M;for(O=0;O<B.length;++O)P.push(E(B[O]));for(O=0;O<D.length;++O)r.helper.isUndefined(P[O])&&(P[O]=""),se.push(S(D[O],P[O]));for(O=0;O<V.length;++O){for(var K=[],re=0;re<se.length;++re)r.helper.isUndefined(V[O][re]),K.push(A(V[O][re],P[re]));H.push(K)}return L(se,H)}return a=d.converter._dispatch("tables.before",a,f,d),a=a.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),a=a.replace(p,N),a=a.replace(w,N),a=d.converter._dispatch("tables.after",a,f,d),a}),r.subParser("underline",function(a,f,d){return f.underline&&(a=d.converter._dispatch("underline.before",a,f,d),f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(p,w){return"<u>"+w+"</u>"}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(p,w){return"<u>"+w+"</u>"})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p}),a=a.replace(/__(\S[\s\S]*?)__/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p})),a=a.replace(/(_)/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("underline.after",a,f,d)),a}),r.subParser("unescapeSpecialChars",function(a,f,d){return a=d.converter._dispatch("unescapeSpecialChars.before",a,f,d),a=a.replace(/E(\d+)E/g,function(p,w){var E=parseInt(w);return String.fromCharCode(E)}),a=d.converter._dispatch("unescapeSpecialChars.after",a,f,d),a}),r.subParser("makeMarkdown.blockquote",function(a,f){var d="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,E=0;E<w;++E){var S=r.subParser("makeMarkdown.node")(p[E],f);S!==""&&(d+=S)}return d=d.trim(),d="> "+d.split(`
`).join(`
> `),d}),r.subParser("makeMarkdown.codeBlock",function(a,f){var d=a.getAttribute("language"),p=a.getAttribute("precodenum");return"```"+d+`
`+f.preList[p]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(a){return"`"+a.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(a,f){var d="";if(a.hasChildNodes()){d+="*";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="*"}return d}),r.subParser("makeMarkdown.header",function(a,f,d){var p=new Array(d+1).join("#"),w="";if(a.hasChildNodes()){w=p+" ";for(var E=a.childNodes,S=E.length,A=0;A<S;++A)w+=r.subParser("makeMarkdown.node")(E[A],f)}return w}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(a){var f="";return a.hasAttribute("src")&&(f+="!["+a.getAttribute("alt")+"](",f+="<"+a.getAttribute("src")+">",a.hasAttribute("width")&&a.hasAttribute("height")&&(f+=" ="+a.getAttribute("width")+"x"+a.getAttribute("height")),a.hasAttribute("title")&&(f+=' "'+a.getAttribute("title")+'"'),f+=")"),f}),r.subParser("makeMarkdown.links",function(a,f){var d="";if(a.hasChildNodes()&&a.hasAttribute("href")){var p=a.childNodes,w=p.length;d="[";for(var E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="](",d+="<"+a.getAttribute("href")+">",a.hasAttribute("title")&&(d+=' "'+a.getAttribute("title")+'"'),d+=")"}return d}),r.subParser("makeMarkdown.list",function(a,f,d){var p="";if(!a.hasChildNodes())return"";for(var w=a.childNodes,E=w.length,S=a.getAttribute("start")||1,A=0;A<E;++A)if(!(typeof w[A].tagName>"u"||w[A].tagName.toLowerCase()!=="li")){var L="";d==="ol"?L=S.toString()+". ":L="- ",p+=L+r.subParser("makeMarkdown.listItem")(w[A],f),++S}return p+=`
<!-- -->
`,p.trim()}),r.subParser("makeMarkdown.listItem",function(a,f){for(var d="",p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);return/\n$/.test(d)?d=d.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):d+=`
`,d}),r.subParser("makeMarkdown.node",function(a,f,d){d=d||!1;var p="";if(a.nodeType===3)return r.subParser("makeMarkdown.txt")(a,f);if(a.nodeType===8)return"<!--"+a.data+`-->

`;if(a.nodeType!==1)return"";var w=a.tagName.toLowerCase();switch(w){case"h1":d||(p=r.subParser("makeMarkdown.header")(a,f,1)+`

`);break;case"h2":d||(p=r.subParser("makeMarkdown.header")(a,f,2)+`

`);break;case"h3":d||(p=r.subParser("makeMarkdown.header")(a,f,3)+`

`);break;case"h4":d||(p=r.subParser("makeMarkdown.header")(a,f,4)+`

`);break;case"h5":d||(p=r.subParser("makeMarkdown.header")(a,f,5)+`

`);break;case"h6":d||(p=r.subParser("makeMarkdown.header")(a,f,6)+`

`);break;case"p":d||(p=r.subParser("makeMarkdown.paragraph")(a,f)+`

`);break;case"blockquote":d||(p=r.subParser("makeMarkdown.blockquote")(a,f)+`

`);break;case"hr":d||(p=r.subParser("makeMarkdown.hr")(a,f)+`

`);break;case"ol":d||(p=r.subParser("makeMarkdown.list")(a,f,"ol")+`

`);break;case"ul":d||(p=r.subParser("makeMarkdown.list")(a,f,"ul")+`

`);break;case"precode":d||(p=r.subParser("makeMarkdown.codeBlock")(a,f)+`

`);break;case"pre":d||(p=r.subParser("makeMarkdown.pre")(a,f)+`

`);break;case"table":d||(p=r.subParser("makeMarkdown.table")(a,f)+`

`);break;case"code":p=r.subParser("makeMarkdown.codeSpan")(a,f);break;case"em":case"i":p=r.subParser("makeMarkdown.emphasis")(a,f);break;case"strong":case"b":p=r.subParser("makeMarkdown.strong")(a,f);break;case"del":p=r.subParser("makeMarkdown.strikethrough")(a,f);break;case"a":p=r.subParser("makeMarkdown.links")(a,f);break;case"img":p=r.subParser("makeMarkdown.image")(a,f);break;default:p=a.outerHTML+`

`}return p}),r.subParser("makeMarkdown.paragraph",function(a,f){var d="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);return d=d.trim(),d}),r.subParser("makeMarkdown.pre",function(a,f){var d=a.getAttribute("prenum");return"<pre>"+f.preList[d]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(a,f){var d="";if(a.hasChildNodes()){d+="~~";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="~~"}return d}),r.subParser("makeMarkdown.strong",function(a,f){var d="";if(a.hasChildNodes()){d+="**";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f);d+="**"}return d}),r.subParser("makeMarkdown.table",function(a,f){var d="",p=[[],[]],w=a.querySelectorAll("thead>tr>th"),E=a.querySelectorAll("tbody>tr"),S,A;for(S=0;S<w.length;++S){var L=r.subParser("makeMarkdown.tableCell")(w[S],f),N="---";if(w[S].hasAttribute("style")){var M=w[S].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(M){case"text-align:left;":N=":---";break;case"text-align:right;":N="---:";break;case"text-align:center;":N=":---:";break}}p[0][S]=L.trim(),p[1][S]=N}for(S=0;S<E.length;++S){var O=p.push([])-1,k=E[S].getElementsByTagName("td");for(A=0;A<w.length;++A){var D=" ";typeof k[A]<"u"&&(D=r.subParser("makeMarkdown.tableCell")(k[A],f)),p[O].push(D)}}var B=3;for(S=0;S<p.length;++S)for(A=0;A<p[S].length;++A){var V=p[S][A].length;V>B&&(B=V)}for(S=0;S<p.length;++S){for(A=0;A<p[S].length;++A)S===1?p[S][A].slice(-1)===":"?p[S][A]=r.helper.padEnd(p[S][A].slice(-1),B-1,"-")+":":p[S][A]=r.helper.padEnd(p[S][A],B,"-"):p[S][A]=r.helper.padEnd(p[S][A],B);d+="| "+p[S].join(" | ")+` |
`}return d.trim()}),r.subParser("makeMarkdown.tableCell",function(a,f){var d="";if(!a.hasChildNodes())return"";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(p[E],f,!0);return d.trim()}),r.subParser("makeMarkdown.txt",function(a){var f=a.nodeValue;return f=f.replace(/ +/g," "),f=f.replace(/NBSP;/g," "),f=r.helper.unescapeHTMLEntities(f),f=f.replace(/([*_~|`])/g,"\\$1"),f=f.replace(/^(\s*)>/g,"\\$1>"),f=f.replace(/^#/gm,"\\#"),f=f.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),f=f.replace(/^( {0,3}\d+)\./gm,"$1\\."),f=f.replace(/^( {0,3})([+-])/gm,"$1\\$2"),f=f.replace(/]([\s]*)\(/g,"\\]$1\\("),f=f.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),f});var T=this;t.exports?t.exports=r:T.showdown=r}).call(te)})(Hv);var u2=Hv.exports;const l2=Us(u2);function c2({tempNoteText:t,setTempNoteText:e}){const[n,r]=Ft.useState("write"),i=new l2.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return Oe.jsx("section",{className:"pane editor",children:Oe.jsx(a2,{value:t,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}var qv={exports:{}},d2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f2=d2,h2=f2;function Kv(){}function Wv(){}Wv.resetWarningCache=Kv;var p2=function(){function t(r,i,s,o,u,l){if(l!==h2){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Wv,resetWarningCache:Kv};return n.PropTypes=n,n};qv.exports=p2();var m2=qv.exports;const fe=Us(m2);var _t=typeof window<"u"?window:null,df=_t===null,As=df?void 0:_t.document,Dt="addEventListener",Mt="removeEventListener",Pl="getBoundingClientRect",zi="_a",Ot="_b",en="_c",Oo="horizontal",$t=function(){return!1},g2=df?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=As.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",Gv=function(t){return typeof t=="string"||t instanceof String},Lp=function(t){if(Gv(t)){var e=As.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},Ge=function(t,e,n){var r=t[e];return r!==void 0?r:n},$o=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},v2=function(t,e){var n=As.createElement("div");return n.className="gutter gutter-"+e,n},y2=function(t,e,n){var r={};return Gv(e)?r[t]=e:r[t]=g2+"("+e+"% - "+n+"px)",r},w2=function(t,e){var n;return n={},n[t]=e+"px",n},Rp=function(t,e){if(e===void 0&&(e={}),df)return{};var n=t,r,i,s,o,u,l;Array.from&&(n=Array.from(n));var c=Lp(n[0]),h=c.parentNode,_=getComputedStyle?getComputedStyle(h):null,v=_?_.flexDirection:null,b=Ge(e,"sizes")||n.map(function(){return 100/n.length}),I=Ge(e,"minSize",100),C=Array.isArray(I)?I:n.map(function(){return I}),y=Ge(e,"maxSize",1/0),m=Array.isArray(y)?y:n.map(function(){return y}),g=Ge(e,"expandToMin",!1),T=Ge(e,"gutterSize",10),a=Ge(e,"gutterAlign","center"),f=Ge(e,"snapOffset",30),d=Array.isArray(f)?f:n.map(function(){return f}),p=Ge(e,"dragInterval",1),w=Ge(e,"direction",Oo),E=Ge(e,"cursor",w===Oo?"col-resize":"row-resize"),S=Ge(e,"gutter",v2),A=Ge(e,"elementStyle",y2),L=Ge(e,"gutterStyle",w2);w===Oo?(r="width",i="clientX",s="left",o="right",u="clientWidth"):w==="vertical"&&(r="height",i="clientY",s="top",o="bottom",u="clientHeight");function N(j,$,F,G){var Ae=A(r,$,F,G);Object.keys(Ae).forEach(function(Se){j.style[Se]=Ae[Se]})}function M(j,$,F){var G=L(r,$,F);Object.keys(G).forEach(function(Ae){j.style[Ae]=G[Ae]})}function O(){return l.map(function(j){return j.size})}function k(j){return"touches"in j?j.touches[0][i]:j[i]}function D(j){var $=l[this.a],F=l[this.b],G=$.size+F.size;$.size=j/this.size*G,F.size=G-j/this.size*G,N($.element,$.size,this[Ot],$.i),N(F.element,F.size,this[en],F.i)}function B(j){var $,F=l[this.a],G=l[this.b];this.dragging&&($=k(j)-this.start+(this[Ot]-this.dragOffset),p>1&&($=Math.round($/p)*p),$<=F.minSize+F.snapOffset+this[Ot]?$=F.minSize+this[Ot]:$>=this.size-(G.minSize+G.snapOffset+this[en])&&($=this.size-(G.minSize+this[en])),$>=F.maxSize-F.snapOffset+this[Ot]?$=F.maxSize+this[Ot]:$<=this.size-(G.maxSize-G.snapOffset+this[en])&&($=this.size-(G.maxSize+this[en])),D.call(this,$),Ge(e,"onDrag",$t)(O()))}function V(){var j=l[this.a].element,$=l[this.b].element,F=j[Pl](),G=$[Pl]();this.size=F[r]+G[r]+this[Ot]+this[en],this.start=F[s],this.end=F[o]}function se(j){if(!getComputedStyle)return null;var $=getComputedStyle(j);if(!$)return null;var F=j[u];return F===0?null:(w===Oo?F-=parseFloat($.paddingLeft)+parseFloat($.paddingRight):F-=parseFloat($.paddingTop)+parseFloat($.paddingBottom),F)}function P(j){var $=se(h);if($===null||C.reduce(function(Se,pt){return Se+pt},0)>$)return j;var F=0,G=[],Ae=j.map(function(Se,pt){var Kn=$*Se/100,vo=$o(T,pt===0,pt===j.length-1,a),yo=C[pt]+vo;return Kn<yo?(F+=yo-Kn,G.push(0),yo):(G.push(Kn-yo),Kn)});return F===0?j:Ae.map(function(Se,pt){var Kn=Se;if(F>0&&G[pt]-F>0){var vo=Math.min(F,G[pt]-F);F-=vo,Kn=Se-vo}return Kn/$*100})}function H(){var j=this,$=l[j.a].element,F=l[j.b].element;j.dragging&&Ge(e,"onDragEnd",$t)(O()),j.dragging=!1,_t[Mt]("mouseup",j.stop),_t[Mt]("touchend",j.stop),_t[Mt]("touchcancel",j.stop),_t[Mt]("mousemove",j.move),_t[Mt]("touchmove",j.move),j.stop=null,j.move=null,$[Mt]("selectstart",$t),$[Mt]("dragstart",$t),F[Mt]("selectstart",$t),F[Mt]("dragstart",$t),$.style.userSelect="",$.style.webkitUserSelect="",$.style.MozUserSelect="",$.style.pointerEvents="",F.style.userSelect="",F.style.webkitUserSelect="",F.style.MozUserSelect="",F.style.pointerEvents="",j.gutter.style.cursor="",j.parent.style.cursor="",As.body.style.cursor=""}function K(j){if(!("button"in j&&j.button!==0)){var $=this,F=l[$.a].element,G=l[$.b].element;$.dragging||Ge(e,"onDragStart",$t)(O()),j.preventDefault(),$.dragging=!0,$.move=B.bind($),$.stop=H.bind($),_t[Dt]("mouseup",$.stop),_t[Dt]("touchend",$.stop),_t[Dt]("touchcancel",$.stop),_t[Dt]("mousemove",$.move),_t[Dt]("touchmove",$.move),F[Dt]("selectstart",$t),F[Dt]("dragstart",$t),G[Dt]("selectstart",$t),G[Dt]("dragstart",$t),F.style.userSelect="none",F.style.webkitUserSelect="none",F.style.MozUserSelect="none",F.style.pointerEvents="none",G.style.userSelect="none",G.style.webkitUserSelect="none",G.style.MozUserSelect="none",G.style.pointerEvents="none",$.gutter.style.cursor=E,$.parent.style.cursor=E,As.body.style.cursor=E,V.call($),$.dragOffset=k(j)-$.end}}b=P(b);var re=[];l=n.map(function(j,$){var F={element:Lp(j),size:b[$],minSize:C[$],maxSize:m[$],snapOffset:d[$],i:$},G;if($>0&&(G={a:$-1,b:$,dragging:!1,direction:w,parent:h},G[Ot]=$o(T,$-1===0,!1,a),G[en]=$o(T,!1,$===n.length-1,a),v==="row-reverse"||v==="column-reverse")){var Ae=G.a;G.a=G.b,G.b=Ae}if($>0){var Se=S($,w,F.element);M(Se,T,$),G[zi]=K.bind(G),Se[Dt]("mousedown",G[zi]),Se[Dt]("touchstart",G[zi]),h.insertBefore(Se,F.element),G.gutter=Se}return N(F.element,F.size,$o(T,$===0,$===n.length-1,a),$),$>0&&re.push(G),F});function ie(j){var $=j.i===re.length,F=$?re[j.i-1]:re[j.i];V.call(F);var G=$?F.size-j.minSize-F[en]:j.minSize+F[Ot];D.call(F,G)}l.forEach(function(j){var $=j.element[Pl]()[r];$<j.minSize&&(g?ie(j):j.minSize=$)});function pe(j){var $=P(j);$.forEach(function(F,G){if(G>0){var Ae=re[G-1],Se=l[Ae.a],pt=l[Ae.b];Se.size=$[G-1],pt.size=F,N(Se.element,Se.size,Ae[Ot],Se.i),N(pt.element,pt.size,Ae[en],pt.i)}})}function Ee(j,$){re.forEach(function(F){if($!==!0?F.parent.removeChild(F.gutter):(F.gutter[Mt]("mousedown",F[zi]),F.gutter[Mt]("touchstart",F[zi])),j!==!0){var G=A(r,F.a.size,F[Ot]);Object.keys(G).forEach(function(Ae){l[F.a].element.style[Ae]="",l[F.b].element.style[Ae]=""})}})}return{setSizes:pe,getSizes:O,collapse:function($){ie(l[$])},destroy:Ee,parent:h,pairs:re}};function Nl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var ff=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=Nl(r,["children","gutter"]),o=s;o.gutter=function(u,l){var c;return i?c=i(u,l):(c=document.createElement("div"),c.className="gutter gutter-"+l),c.__isSplitGutter=!0,c},this.split=Rp(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,u=s.sizes,l=s.collapsed,c=Nl(s,["children","minSize","sizes","collapsed"]),h=c,_=r.minSize,v=r.sizes,b=r.collapsed,I=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],C=I.map(function(g){return i.props[g]!==r[g]}).reduce(function(g,T){return g||T},!1);if(Array.isArray(o)&&Array.isArray(_)){var y=!1;o.forEach(function(g,T){y=y||g!==_[T]}),C=C||y}else Array.isArray(o)||Array.isArray(_)?C=!0:C=C||o!==_;if(C)h.minSize=o,h.sizes=u||this.split.getSizes(),this.split.destroy(!0,!0),h.gutter=function(g,T,a){return a.previousSibling},this.split=Rp(Array.from(this.parent.children).filter(function(g){return!g.__isSplitGutter}),h);else if(u){var m=!1;u.forEach(function(g,T){m=m||g!==v[T]}),m&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==b||C)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=Nl(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),u=o;return Ft.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},u),s)},e}(Ft.Component);ff.propTypes={sizes:fe.arrayOf(fe.number),minSize:fe.oneOfType([fe.number,fe.arrayOf(fe.number)]),maxSize:fe.oneOfType([fe.number,fe.arrayOf(fe.number)]),expandToMin:fe.bool,gutterSize:fe.number,gutterAlign:fe.string,snapOffset:fe.number,dragInterval:fe.number,direction:fe.string,cursor:fe.string,gutter:fe.func,elementStyle:fe.func,gutterStyle:fe.func,onDrag:fe.func,onDragStart:fe.func,onDragEnd:fe.func,collapsed:fe.number,children:fe.arrayOf(fe.element)};ff.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,_=(s&3)<<4|u>>4;let v=(u&15)<<2|c>>6,b=c&63;l||(b=64,o||(v=64)),r.push(n[h],n[_],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||c==null||_==null)throw new E2;const v=s<<2|u>>4;if(r.push(v),c!==64){const b=u<<4&240|c>>2;if(r.push(b),_!==64){const I=c<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S2=function(t){const e=Qv(t);return Xv.encodeByteArray(e,!0)},Aa=function(t){return S2(t).replace(/\./g,"")},k2=function(t){try{return Xv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=()=>C2().__FIREBASE_DEFAULTS__,b2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},I2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k2(t[1]);return e&&JSON.parse(e)},Yv=()=>{try{return T2()||b2()||I2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A2=t=>{var e,n;return(n=(e=Yv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},P2=t=>{const e=A2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N2=()=>{var t;return(t=Yv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Aa(JSON.stringify(n)),Aa(JSON.stringify(o)),u].join(".")}function O2(){try{return typeof indexedDB=="object"}catch{return!1}}function $2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L2,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jv.prototype.create)}}class Jv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?R2(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new yi(i,u,r)}}function R2(t,e){return t.replace(x2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const x2=/\{\$([^}]+)}/g;function $c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xp(s)&&xp(o)){if(!$c(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){return t&&t._delegate?t._delegate:t}class Ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new D2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F2(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qn){return this.instances.has(e)}getOptions(e=Qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qn){return this.component?this.component.multipleInstances?e:Qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j2(t){return t===Qn?void 0:t}function F2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const U2={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},V2=ce.INFO,H2={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},q2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=H2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zv{constructor(e){this.name=e,this._logLevel=V2,this._logHandler=q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const K2=(t,e)=>e.some(n=>t instanceof n);let zp,jp;function W2(){return zp||(zp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G2(){return jp||(jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e0=new WeakMap,Lc=new WeakMap,t0=new WeakMap,Dl=new WeakMap,hf=new WeakMap;function Q2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Nn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&e0.set(n,t)}).catch(()=>{}),hf.set(e,t),e}function X2(t){if(Lc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lc.set(t,e)}let Rc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||t0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y2(t){Rc=t(Rc)}function J2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ml(this),e,...n);return t0.set(r,e.sort?e.sort():[e]),Nn(r)}:G2().includes(t)?function(...e){return t.apply(Ml(this),e),Nn(e0.get(this))}:function(...e){return Nn(t.apply(Ml(this),e))}}function Z2(t){return typeof t=="function"?J2(t):(t instanceof IDBTransaction&&X2(t),K2(t,W2())?new Proxy(t,Rc):t)}function Nn(t){if(t instanceof IDBRequest)return Q2(t);if(Dl.has(t))return Dl.get(t);const e=Z2(t);return e!==t&&(Dl.set(t,e),hf.set(e,t)),e}const Ml=t=>hf.get(t);function e8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=Nn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Nn(o.result),l.oldVersion,l.newVersion,Nn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const t8=["get","getKey","getAll","getAllKeys","count"],n8=["put","add","delete","clear"],Ol=new Map;function Fp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ol.get(e))return Ol.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=n8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||t8.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(await Promise.all([c[n](...u),i&&l.done]))[0]};return Ol.set(e,s),s}Y2(t=>({...t,get:(e,n,r)=>Fp(e,n)||t.get(e,n,r),has:(e,n)=>!!Fp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function i8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xc="@firebase/app",Bp="0.9.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new Zv("@firebase/app"),s8="@firebase/app-compat",o8="@firebase/analytics-compat",a8="@firebase/analytics",u8="@firebase/app-check-compat",l8="@firebase/app-check",c8="@firebase/auth",d8="@firebase/auth-compat",f8="@firebase/database",h8="@firebase/database-compat",p8="@firebase/functions",m8="@firebase/functions-compat",g8="@firebase/installations",v8="@firebase/installations-compat",y8="@firebase/messaging",w8="@firebase/messaging-compat",_8="@firebase/performance",E8="@firebase/performance-compat",S8="@firebase/remote-config",k8="@firebase/remote-config-compat",C8="@firebase/storage",T8="@firebase/storage-compat",b8="@firebase/firestore",I8="@firebase/firestore-compat",A8="firebase",P8="9.21.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="[DEFAULT]",N8={[xc]:"fire-core",[s8]:"fire-core-compat",[a8]:"fire-analytics",[o8]:"fire-analytics-compat",[l8]:"fire-app-check",[u8]:"fire-app-check-compat",[c8]:"fire-auth",[d8]:"fire-auth-compat",[f8]:"fire-rtdb",[h8]:"fire-rtdb-compat",[p8]:"fire-fn",[m8]:"fire-fn-compat",[g8]:"fire-iid",[v8]:"fire-iid-compat",[y8]:"fire-fcm",[w8]:"fire-fcm-compat",[_8]:"fire-perf",[E8]:"fire-perf-compat",[S8]:"fire-rc",[k8]:"fire-rc-compat",[C8]:"fire-gcs",[T8]:"fire-gcs-compat",[b8]:"fire-fst",[I8]:"fire-fst-compat","fire-js":"fire-js",[A8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new Map,jc=new Map;function D8(t,e){try{t.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Na(t){const e=t.name;if(jc.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;jc.set(e,t);for(const n of Pa.values())D8(n,t);return!0}function M8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Dn=new Jv("app","Firebase",O8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=P8;function n0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dn.create("bad-app-name",{appName:String(i)});if(n||(n=N2()),!n)throw Dn.create("no-options");const s=Pa.get(i);if(s){if($c(n,s.options)&&$c(r,s.config))return s;throw Dn.create("duplicate-app",{appName:i})}const o=new B2(i);for(const l of jc.values())o.addComponent(l);const u=new $8(n,r,o);return Pa.set(i,u),u}function R8(t=zc){const e=Pa.get(t);if(!e&&t===zc)return n0();if(!e)throw Dn.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=N8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(u.join(" "));return}Na(new Ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="firebase-heartbeat-database",z8=1,Ns="firebase-heartbeat-store";let $l=null;function r0(){return $l||($l=e8(x8,z8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ns)}}}).catch(t=>{throw Dn.create("idb-open",{originalErrorMessage:t.message})})),$l}async function j8(t){try{return(await r0()).transaction(Ns).objectStore(Ns).get(i0(t))}catch(e){if(e instanceof yi)cr.warn(e.message);else{const n=Dn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function Up(t,e){try{const r=(await r0()).transaction(Ns,"readwrite");return await r.objectStore(Ns).put(e,i0(t)),r.done}catch(n){if(n instanceof yi)cr.warn(n.message);else{const r=Dn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(r.message)}}}function i0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=1024,B8=30*24*60*60*1e3;class U8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=B8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vp(),{heartbeatsToSend:n,unsentEntries:r}=V8(this._heartbeatsCache.heartbeats),i=Aa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Vp(){return new Date().toISOString().substring(0,10)}function V8(t,e=F8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Hp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O2()?$2().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await j8(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Up(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Up(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Hp(t){return Aa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){Na(new Ps("platform-logger",e=>new r8(e),"PRIVATE")),Na(new Ps("heartbeat",e=>new U8(e),"PRIVATE")),Kr(xc,Bp,t),Kr(xc,Bp,"esm2017"),Kr("fire-js","")}q8("");var K8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U,pf=pf||{},Z=K8||self;function Da(){}function bu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function to(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function W8(t){return Object.prototype.hasOwnProperty.call(t,Ll)&&t[Ll]||(t[Ll]=++G8)}var Ll="closure_uid_"+(1e9*Math.random()>>>0),G8=0;function Q8(t,e,n){return t.call.apply(t.bind,arguments)}function X8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nt=Q8:nt=X8,nt.apply(null,arguments)}function Lo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Be(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function Hn(){this.s=this.s,this.o=this.o}var Y8=0;Hn.prototype.s=!1;Hn.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),Y8!=0)&&W8(this)};Hn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function mf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qp(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(bu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var J8=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",Da,e),Z.removeEventListener("test",Da,e)}catch{}return t}();function Ma(t){return/^[\s\xa0]*$/.test(t)}var Kp=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Rl(t,e){return t<e?-1:t>e?1:0}function Iu(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function Bt(t){return Iu().indexOf(t)!=-1}function gf(t){return gf[" "](t),t}gf[" "]=Da;function o0(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var Z8=Bt("Opera"),ni=Bt("Trident")||Bt("MSIE"),a0=Bt("Edge"),Fc=a0||ni,u0=Bt("Gecko")&&!(Iu().toLowerCase().indexOf("webkit")!=-1&&!Bt("Edge"))&&!(Bt("Trident")||Bt("MSIE"))&&!Bt("Edge"),eE=Iu().toLowerCase().indexOf("webkit")!=-1&&!Bt("Edge");function l0(){var t=Z.document;return t?t.documentMode:void 0}var Oa;e:{var xl="",zl=function(){var t=Iu();if(u0)return/rv:([^\);]+)(\)|;)/.exec(t);if(a0)return/Edge\/([\d\.]+)/.exec(t);if(ni)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(eE)return/WebKit\/(\S+)/.exec(t);if(Z8)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(zl&&(xl=zl?zl[1]:""),ni){var jl=l0();if(jl!=null&&jl>parseFloat(xl)){Oa=String(jl);break e}}Oa=xl}var tE={};function nE(){return o0(tE,9,function(){let t=0;const e=Kp(String(Oa)).split("."),n=Kp("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Rl(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Rl(i[2].length==0,s[2].length==0)||Rl(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Bc;if(Z.document&&ni){var Wp=l0();Bc=Wp||parseInt(Oa,10)||void 0}else Bc=void 0;var rE=Bc;function Ds(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(u0){e:{try{gf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iE[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ds.$.h.call(this)}}Be(Ds,rt);var iE={2:"touch",3:"pen",4:"mouse"};Ds.prototype.h=function(){Ds.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var no="closure_listenable_"+(1e6*Math.random()|0),sE=0;function oE(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++sE,this.fa=this.ia=!1}function Au(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function vf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function c0(t){const e={};for(const n in t)e[n]=t[n];return e}const Gp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Gp.length;s++)n=Gp[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pu(t){this.src=t,this.g={},this.h=0}Pu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Vc(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new oE(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Uc(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=s0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Au(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Vc(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var yf="closure_lm_"+(1e6*Math.random()|0),Fl={};function f0(t,e,n,r,i){if(r&&r.once)return p0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)f0(t,e[s],n,r,i);return null}return n=Ef(n),t&&t[no]?t.O(e,n,to(r)?!!r.capture:!!r,i):h0(t,e,n,!1,r,i)}function h0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=to(i)?!!i.capture:!!i,u=_f(t);if(u||(t[yf]=u=new Pu(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=aE(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)J8||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(g0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aE(){function t(n){return e.call(t.src,t.listener,n)}const e=uE;return t}function p0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)p0(t,e[s],n,r,i);return null}return n=Ef(n),t&&t[no]?t.P(e,n,to(r)?!!r.capture:!!r,i):h0(t,e,n,!0,r,i)}function m0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)m0(t,e[s],n,r,i);else r=to(r)?!!r.capture:!!r,n=Ef(n),t&&t[no]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Vc(s,n,r,i),-1<n&&(Au(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=_f(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Vc(e,n,r,i)),(n=-1<t?e[t]:null)&&wf(n))}function wf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[no])Uc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(g0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_f(e))?(Uc(n,t),n.h==0&&(n.src=null,e[yf]=null)):Au(t)}}}function g0(t){return t in Fl?Fl[t]:Fl[t]="on"+t}function uE(t,e){if(t.fa)t=!0;else{e=new Ds(e,this);var n=t.listener,r=t.la||t.src;t.ia&&wf(t),t=n.call(r,e)}return t}function _f(t){return t=t[yf],t instanceof Pu?t:null}var Bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ef(t){return typeof t=="function"?t:(t[Bl]||(t[Bl]=function(e){return t.handleEvent(e)}),t[Bl])}function Fe(){Hn.call(this),this.i=new Pu(this),this.S=this,this.J=null}Be(Fe,Hn);Fe.prototype[no]=!0;Fe.prototype.removeEventListener=function(t,e,n,r){m0(this,t,e,n,r)};function Ke(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var i=e;e=new rt(r,t),d0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ro(o,r,!0,e)&&i}if(o=e.g=t,i=Ro(o,r,!0,e)&&i,i=Ro(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ro(o,r,!1,e)&&i}Fe.prototype.N=function(){if(Fe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Au(n[r]);delete t.g[e],t.h--}}this.J=null};Fe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Fe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ro(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,l=o.la||o.src;o.ia&&Uc(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Sf=Z.JSON.stringify;function lE(){var t=w0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class cE{constructor(){this.h=this.g=null}add(e,n){const r=v0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var v0=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new dE,t=>t.reset());class dE{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fE(t){Z.setTimeout(()=>{throw t},0)}function y0(t,e){Hc||hE(),qc||(Hc(),qc=!0),w0.add(t,e)}var Hc;function hE(){var t=Z.Promise.resolve(void 0);Hc=function(){t.then(pE)}}var qc=!1,w0=new cE;function pE(){for(var t;t=lE();){try{t.h.call(t.g)}catch(n){fE(n)}var e=v0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qc=!1}function Nu(t,e){Fe.call(this),this.h=t||1,this.g=e||Z,this.j=nt(this.qb,this),this.l=Date.now()}Be(Nu,Fe);U=Nu.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ke(this,"tick"),this.ga&&(kf(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){Nu.$.N.call(this),kf(this),delete this.g};function Cf(t,e,n){if(typeof t=="function")n&&(t=nt(t,n));else if(t&&typeof t.handleEvent=="function")t=nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function _0(t){t.g=Cf(()=>{t.g=null,t.i&&(t.i=!1,_0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mE extends Hn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_0(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(t){Hn.call(this),this.h=t,this.g={}}Be(Ms,Hn);var Qp=[];function E0(t,e,n,r){Array.isArray(n)||(n&&(Qp[0]=n.toString()),n=Qp);for(var i=0;i<n.length;i++){var s=f0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function S0(t){vf(t.g,function(e,n){this.g.hasOwnProperty(n)&&wf(e)},t),t.g={}}Ms.prototype.N=function(){Ms.$.N.call(this),S0(this)};Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Du(){this.g=!0}Du.prototype.Ea=function(){this.g=!1};function gE(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var c=u[l].split("=");if(1<c.length){var h=c[0];c=c[1];var _=h.split("_");o=2<=_.length&&_[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function vE(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Lr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wE(t,n)+(r?" "+r:"")})}function yE(t,e){t.info(function(){return"TIMEOUT: "+e})}Du.prototype.info=function(){};function wE(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Sf(n)}catch{return e}}var yr={},Xp=null;function Mu(){return Xp=Xp||new Fe}yr.Ta="serverreachability";function k0(t){rt.call(this,yr.Ta,t)}Be(k0,rt);function Os(t){const e=Mu();Ke(e,new k0(e))}yr.STAT_EVENT="statevent";function C0(t,e){rt.call(this,yr.STAT_EVENT,t),this.stat=e}Be(C0,rt);function at(t){const e=Mu();Ke(e,new C0(e,t))}yr.Ua="timingevent";function T0(t,e){rt.call(this,yr.Ua,t),this.size=e}Be(T0,rt);function ro(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var Ou={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},b0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Tf(){}Tf.prototype.h=null;function Yp(t){return t.h||(t.h=t.i())}function I0(){}var io={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bf(){rt.call(this,"d")}Be(bf,rt);function If(){rt.call(this,"c")}Be(If,rt);var Kc;function $u(){}Be($u,Tf);$u.prototype.g=function(){return new XMLHttpRequest};$u.prototype.i=function(){return{}};Kc=new $u;function so(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ms(this),this.P=_E,t=Fc?125:void 0,this.V=new Nu(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new A0}function A0(){this.i=null,this.g="",this.h=!1}var _E=45e3,Wc={},$a={};U=so.prototype;U.setTimeout=function(t){this.P=t};function Gc(t,e,n){t.L=1,t.v=Ru(cn(e)),t.s=n,t.S=!0,P0(t,null)}function P0(t,e){t.G=Date.now(),oo(t),t.A=cn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),x0(n.i,"t",r),t.C=0,n=t.l.I,t.h=new A0,t.g=iy(t.l,n?e:null,!t.s),0<t.O&&(t.M=new mE(nt(t.Pa,t,t.g),t.O)),E0(t.U,t.g,"readystatechange",t.nb),e=t.I?c0(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Os(),gE(t.j,t.u,t.A,t.m,t.W,t.s)}U.nb=function(t){t=t.target;const e=this.M;e&&on(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{const h=on(this.g);var e=this.g.Ia();const _=this.g.da();if(!(3>h)&&(h!=3||Fc||this.g&&(this.h.h||this.g.ja()||tm(this.g)))){this.J||h!=4||e==7||(e==8||0>=_?Os(3):Os(2)),Lu(this);var n=this.g.da();this.aa=n;t:if(N0(this)){var r=tm(this.g);t="";var i=r.length,s=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),ls(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,vE(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ma(u)){var c=u;break t}}c=null}if(n=c)Lr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qc(this,n);else{this.i=!1,this.o=3,at(12),tr(this),ls(this);break e}}this.S?(D0(this,h,o),Fc&&this.i&&h==3&&(E0(this.U,this.V,"tick",this.mb),this.V.start())):(Lr(this.j,this.m,o,null),Qc(this,o)),h==4&&tr(this),this.i&&!this.J&&(h==4?ey(this.l,this):(this.i=!1,oo(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,at(12)):(this.o=0,at(13)),tr(this),ls(this)}}}catch{}finally{}};function N0(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function D0(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=EE(t,n),i==$a){e==4&&(t.o=4,at(14),r=!1),Lr(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Wc){t.o=4,at(15),Lr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Lr(t.j,t.m,i,null),Qc(t,i);N0(t)&&i!=$a&&i!=Wc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,at(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$f(e),e.L=!0,at(11))):(Lr(t.j,t.m,n,"[Invalid Chunked Response]"),tr(t),ls(t))}U.mb=function(){if(this.g){var t=on(this.g),e=this.g.ja();this.C<e.length&&(Lu(this),D0(this,t,e),this.i&&t!=4&&oo(this))}};function EE(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?$a:(n=Number(e.substring(n,r)),isNaN(n)?Wc:(r+=1,r+n>e.length?$a:(e=e.substr(r,n),t.C=r+n,e)))}U.cancel=function(){this.J=!0,tr(this)};function oo(t){t.Y=Date.now()+t.P,M0(t,t.P)}function M0(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ro(nt(t.lb,t),e)}function Lu(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}U.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(yE(this.j,this.A),this.L!=2&&(Os(),at(17)),tr(this),this.o=2,ls(this)):M0(this,this.Y-t)};function ls(t){t.l.H==0||t.J||ey(t.l,t)}function tr(t){Lu(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,kf(t.V),S0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Qc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Xc(n.h,t))){if(!t.K&&Xc(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)xa(n),ju(n);else break e;Of(n),at(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=ro(nt(n.ib,n),6e3));if(1>=F0(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else nr(n,11)}else if((t.K||n.g==t)&&xa(n),!Ma(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.J=c[1],n.oa=c[2];const h=c[3];h!=null&&(n.qa=h,n.j.info("VER="+n.qa));const _=c[4];_!=null&&(n.Ga=_,n.j.info("SVER="+n.Ga));const v=c[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const b=t.g;if(b){const I=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var s=r.h;s.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Af(s,s.h),s.h=null))}if(r.F){const C=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,ye(r.G,r.F,C))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=ry(r,r.I?r.oa:null,r.Y),o.K){B0(r.h,o);var u=o,l=r.K;l&&u.setTimeout(l),u.B&&(Lu(u),oo(u)),r.g=o}else J0(r);0<n.i.length&&Fu(n)}else c[0]!="stop"&&c[0]!="close"||nr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?nr(n,7):Mf(n):c[0]!="noop"&&n.l&&n.l.Aa(c),n.A=0)}}Os(4)}catch{}}function SE(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(bu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function kE(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(bu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function O0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(bu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=kE(t),r=SE(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var $0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CE(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function sr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof sr){this.h=e!==void 0?e:t.h,La(this,t.j),this.s=t.s,this.g=t.g,Ra(this,t.m),this.l=t.l,e=t.i;var n=new $s;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Jp(this,n),this.o=t.o}else t&&(n=String(t).match($0))?(this.h=!!e,La(this,n[1]||"",!0),this.s=Ki(n[2]||""),this.g=Ki(n[3]||"",!0),Ra(this,n[4]),this.l=Ki(n[5]||"",!0),Jp(this,n[6]||"",!0),this.o=Ki(n[7]||"")):(this.h=!!e,this.i=new $s(null,this.h))}sr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wi(e,Zp,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Wi(e,Zp,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Wi(n,n.charAt(0)=="/"?IE:bE,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wi(n,PE)),t.join("")};function cn(t){return new sr(t)}function La(t,e,n){t.j=n?Ki(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ra(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Jp(t,e,n){e instanceof $s?(t.i=e,NE(t.i,t.h)):(n||(e=Wi(e,AE)),t.i=new $s(e,t.h))}function ye(t,e,n){t.i.set(e,n)}function Ru(t){return ye(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ki(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,TE),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function TE(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Zp=/[#\/\?@]/g,bE=/[#\?:]/g,IE=/[#\?]/g,AE=/[#\?@]/g,PE=/#/g;function $s(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qn(t){t.g||(t.g=new Map,t.h=0,t.i&&CE(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=$s.prototype;U.add=function(t,e){qn(this),this.i=null,t=wi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function L0(t,e){qn(t),e=wi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function R0(t,e){return qn(t),e=wi(t,e),t.g.has(e)}U.forEach=function(t,e){qn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.sa=function(){qn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};U.Z=function(t){qn(this);let e=[];if(typeof t=="string")R0(this,t)&&(e=e.concat(this.g.get(wi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return qn(this),this.i=null,t=wi(this,t),R0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function x0(t,e,n){L0(t,e),0<n.length&&(t.i=null,t.g.set(wi(t,e),mf(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function wi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function NE(t,e){e&&!t.j&&(qn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(L0(this,r),x0(this,i,n))},t)),t.j=e}var DE=class{constructor(t,e){this.h=t,this.g=e}};function z0(t){this.l=t||ME,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ME=10;function j0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function F0(t){return t.h?1:t.g?t.g.size:0}function Xc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Af(t,e){t.g?t.g.add(e):t.h=e}function B0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}z0.prototype.cancel=function(){if(this.i=U0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function U0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return mf(t.i)}function Pf(){}Pf.prototype.stringify=function(t){return Z.JSON.stringify(t,void 0)};Pf.prototype.parse=function(t){return Z.JSON.parse(t,void 0)};function OE(){this.g=new Pf}function $E(t,e,n){const r=n||"";try{O0(t,function(i,s){let o=i;to(i)&&(o=Sf(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function LE(t,e){const n=new Du;if(Z.Image){const r=new Image;r.onload=Lo(xo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Lo(xo,n,r,"TestLoadImage: error",!1,e),r.onabort=Lo(xo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lo(xo,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function xo(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ao(t){this.l=t.fc||null,this.j=t.ob||!1}Be(ao,Tf);ao.prototype.g=function(){return new xu(this.l,this.j)};ao.prototype.i=function(t){return function(){return t}}({});function xu(t,e){Fe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Nf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Be(xu,Fe);var Nf=0;U=xu.prototype;U.open=function(t,e){if(this.readyState!=Nf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ls(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uo(this)),this.readyState=Nf};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;V0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function V0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uo(this):Ls(this),this.readyState==3&&V0(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,uo(this))};U.Ya=function(t){this.g&&(this.response=t,uo(this))};U.ka=function(){this.g&&uo(this)};function uo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ls(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ls(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var RE=Z.JSON.parse;function Ie(t){Fe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=H0,this.L=this.M=!1}Be(Ie,Fe);var H0="",xE=/^https?$/i,zE=["POST","PUT"];U=Ie.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Kc.g(),this.C=this.u?Yp(this.u):Yp(Kc),this.g.onreadystatechange=nt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){em(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=s0(zE,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{W0(this),0<this.B&&((this.L=jE(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nt(this.ua,this)):this.A=Cf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){em(this,s)}};function jE(t){return ni&&nE()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof pf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ke(this,"timeout"),this.abort(8))};function em(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,q0(t),zu(t)}function q0(t){t.F||(t.F=!0,Ke(t,"complete"),Ke(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ke(this,"complete"),Ke(this,"abort"),zu(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zu(this,!0)),Ie.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?K0(this):this.kb())};U.kb=function(){K0(this)};function K0(t){if(t.h&&typeof pf<"u"&&(!t.C[1]||on(t)!=4||t.da()!=2)){if(t.v&&on(t)==4)Cf(t.La,0,t);else if(Ke(t,"readystatechange"),on(t)==4){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=u===0){var i=String(t.I).match($0)[1]||null;if(!i&&Z.self&&Z.self.location){var s=Z.self.location.protocol;i=s.substr(0,s.length-1)}r=!xE.test(i?i.toLowerCase():"")}n=r}if(n)Ke(t,"complete"),Ke(t,"success");else{t.m=6;try{var o=2<on(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",q0(t)}}finally{zu(t)}}}}function zu(t,e){if(t.g){W0(t);const n=t.g,r=t.C[0]?Da:null;t.g=null,t.C=null,e||Ke(t,"ready");try{n.onreadystatechange=r}catch{}}}function W0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function on(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),RE(e)}};function tm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case H0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function G0(t){let e="";return vf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Df(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=G0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ye(t,e,n))}function ji(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Q0(t){this.Ga=0,this.i=[],this.j=new Du,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ji("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ji("baseRetryDelayMs",5e3,t),this.hb=ji("retryDelaySeedMs",1e4,t),this.eb=ji("forwardChannelMaxRetries",2,t),this.xa=ji("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new z0(t&&t.concurrentRequestLimit),this.Ja=new OE,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}U=Q0.prototype;U.qa=8;U.H=1;function Mf(t){if(X0(t),t.H==3){var e=t.W++,n=cn(t.G);ye(n,"SID",t.J),ye(n,"RID",e),ye(n,"TYPE","terminate"),lo(t,n),e=new so(t,t.j,e,void 0),e.L=2,e.v=Ru(cn(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(e.v.toString(),"")),!n&&Z.Image&&(new Image().src=e.v,n=!0),n||(e.g=iy(e.l,null),e.g.ha(e.v)),e.G=Date.now(),oo(e)}ny(t)}function ju(t){t.g&&($f(t),t.g.cancel(),t.g=null)}function X0(t){ju(t),t.u&&(Z.clearTimeout(t.u),t.u=null),xa(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function Fu(t){j0(t.h)||t.m||(t.m=!0,y0(t.Na,t),t.C=0)}function FE(t,e){return F0(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ro(nt(t.Na,t,e),ty(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new so(this,this.j,t,void 0);let s=this.s;if(this.U&&(s?(s=c0(s),d0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Y0(this,i,e),n=cn(this.G),ye(n,"RID",t),ye(n,"CVER",22),this.F&&ye(n,"X-HTTP-Session-Id",this.F),lo(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(G0(s)))+"&"+e:this.o&&Df(n,this.o,s)),Af(this.h,i),this.bb&&ye(n,"TYPE","init"),this.P?(ye(n,"$req",e),ye(n,"SID","null"),i.ba=!0,Gc(i,n,null)):Gc(i,n,e),this.H=2}}else this.H==3&&(t?nm(this,t):this.i.length==0||j0(this.h)||nm(this))};function nm(t,e){var n;e?n=e.m:n=t.W++;const r=cn(t.G);ye(r,"SID",t.J),ye(r,"RID",n),ye(r,"AID",t.V),lo(t,r),t.o&&t.s&&Df(r,t.o,t.s),n=new so(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=Y0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Af(t.h,n),Gc(n,r,e)}function lo(t,e){t.ma&&vf(t.ma,function(n,r){ye(e,r,n)}),t.l&&O0({},function(n,r){ye(e,r,n)})}function Y0(t,e,n){n=Math.min(t.i.length,n);var r=t.l?nt(t.l.Va,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let c=i[l].h;const h=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),u=!1;else try{$E(h,o,"req"+c+"_")}catch{r&&r(h)}}if(u){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function J0(t){t.g||t.u||(t.ba=1,y0(t.Ma,t),t.A=0)}function Of(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ro(nt(t.Ma,t),ty(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,Z0(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=ro(nt(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,at(10),ju(this),Z0(this))};function $f(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function Z0(t){t.g=new so(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=cn(t.wa);ye(e,"RID","rpc"),ye(e,"SID",t.J),ye(e,"CI",t.M?"0":"1"),ye(e,"AID",t.V),ye(e,"TYPE","xmlhttp"),lo(t,e),t.o&&t.s&&Df(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Ru(cn(e)),n.s=null,n.S=!0,P0(n,t)}U.ib=function(){this.v!=null&&(this.v=null,ju(this),Of(this),at(19))};function xa(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function ey(t,e){var n=null;if(t.g==e){xa(t),$f(t),t.g=null;var r=2}else if(Xc(t.h,e))n=e.F,B0(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Mu(),Ke(r,new T0(r,n)),Fu(t)}else J0(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&FE(t,e)||r==2&&Of(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:nr(t,5);break;case 4:nr(t,10);break;case 3:nr(t,6);break;default:nr(t,2)}}}function ty(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function nr(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=nt(t.pb,t);n||(n=new sr("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||La(n,"https"),Ru(n)),LE(n.toString(),r)}else at(2);t.H=0,t.l&&t.l.za(e),ny(t),X0(t)}U.pb=function(t){t?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function ny(t){if(t.H=0,t.pa=[],t.l){const e=U0(t.h);(e.length!=0||t.i.length!=0)&&(qp(t.pa,e),qp(t.pa,t.i),t.h.i.length=0,mf(t.i),t.i.length=0),t.l.ya()}}function ry(t,e,n){var r=n instanceof sr?cn(n):new sr(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Ra(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new sr(null,void 0);r&&La(s,r),e&&(s.g=e),i&&Ra(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ye(r,n,e),ye(r,"VER",t.qa),lo(t,r),r}function iy(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ie(new ao({ob:!0})):new Ie(t.va),e.Oa(t.I),e}function sy(){}U=sy.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.Va=function(){};function za(){if(ni&&!(10<=Number(rE)))throw Error("Environmental error: no available transport.")}za.prototype.g=function(t,e){return new yt(t,e)};function yt(t,e){Fe.call(this),this.g=new Q0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ma(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ma(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _i(this)}Be(yt,Fe);yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;at(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=ry(t,null,t.Y),Fu(t)};yt.prototype.close=function(){Mf(this.g)};yt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Sf(t),t=n);e.i.push(new DE(e.fb++,t)),e.H==3&&Fu(e)};yt.prototype.N=function(){this.g.l=null,delete this.j,Mf(this.g),delete this.g,yt.$.N.call(this)};function oy(t){bf.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Be(oy,bf);function ay(){If.call(this),this.status=1}Be(ay,If);function _i(t){this.g=t}Be(_i,sy);_i.prototype.Ba=function(){Ke(this.g,"a")};_i.prototype.Aa=function(t){Ke(this.g,new oy(t))};_i.prototype.za=function(t){Ke(this.g,new ay)};_i.prototype.ya=function(){Ke(this.g,"b")};function BE(){this.blockSize=-1}function jt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Be(jt,BE);jt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ul(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}jt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ul(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ul(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ul(this,r),i=0;break}}this.h=i,this.i+=e};jt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function de(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var UE={};function Lf(t){return-128<=t&&128>t?o0(UE,t,function(e){return new de([e|0],0>e?-1:0)}):new de([t|0],0>t?-1:0)}function qt(t){if(isNaN(t)||!isFinite(t))return Wr;if(0>t)return qe(qt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Yc;return new de(e,0)}function uy(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return qe(uy(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qt(Math.pow(e,8)),r=Wr,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=qt(Math.pow(e,s)),r=r.R(s).add(qt(o))):(r=r.R(n),r=r.add(qt(o)))}return r}var Yc=4294967296,Wr=Lf(0),Jc=Lf(1),rm=Lf(16777216);U=de.prototype;U.ea=function(){if(kt(this))return-qe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Yc+r)*e,e*=Yc}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(an(this))return"0";if(kt(this))return"-"+qe(this).toString(t);for(var e=qt(Math.pow(t,6)),n=this,r="";;){var i=Fa(n,e).g;n=ja(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,an(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function an(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function kt(t){return t.h==-1}U.X=function(t){return t=ja(this,t),kt(t)?-1:an(t)?0:1};function qe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new de(n,~t.h).add(Jc)}U.abs=function(){return kt(this)?qe(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new de(n,n[n.length-1]&-2147483648?-1:0)};function ja(t,e){return t.add(qe(e))}U.R=function(t){if(an(this)||an(t))return Wr;if(kt(this))return kt(t)?qe(this).R(qe(t)):qe(qe(this).R(t));if(kt(t))return qe(this.R(qe(t)));if(0>this.X(rm)&&0>t.X(rm))return qt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,u=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,zo(n,2*r+2*i),n[2*r+2*i+1]+=s*l,zo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,zo(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,zo(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new de(n,0)};function zo(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fi(t,e){this.g=t,this.h=e}function Fa(t,e){if(an(e))throw Error("division by zero");if(an(t))return new Fi(Wr,Wr);if(kt(t))return e=Fa(qe(t),e),new Fi(qe(e.g),qe(e.h));if(kt(e))return e=Fa(t,qe(e)),new Fi(qe(e.g),e.h);if(30<t.g.length){if(kt(t)||kt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Jc,r=e;0>=r.X(t);)n=im(n),r=im(r);var i=Sr(n,1),s=Sr(r,1);for(r=Sr(r,2),n=Sr(n,2);!an(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Sr(r,1),n=Sr(n,1)}return e=ja(t,i.R(e)),new Fi(i,e)}for(i=Wr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=qt(n),o=s.R(e);kt(o)||0<o.X(t);)n-=r,s=qt(n),o=s.R(e);an(s)&&(s=Jc),i=i.add(s),t=ja(t,o)}return new Fi(i,t)}U.gb=function(t){return Fa(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new de(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new de(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new de(n,this.h^t.h)};function im(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new de(n,t.h)}function Sr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new de(i,t.h)}za.prototype.createWebChannel=za.prototype.g;yt.prototype.send=yt.prototype.u;yt.prototype.open=yt.prototype.m;yt.prototype.close=yt.prototype.close;Ou.NO_ERROR=0;Ou.TIMEOUT=8;Ou.HTTP_ERROR=6;b0.COMPLETE="complete";I0.EventType=io;io.OPEN="a";io.CLOSE="b";io.ERROR="c";io.MESSAGE="d";Fe.prototype.listen=Fe.prototype.O;Ie.prototype.listenOnce=Ie.prototype.P;Ie.prototype.getLastError=Ie.prototype.Sa;Ie.prototype.getLastErrorCode=Ie.prototype.Ia;Ie.prototype.getStatus=Ie.prototype.da;Ie.prototype.getResponseJson=Ie.prototype.Wa;Ie.prototype.getResponseText=Ie.prototype.ja;Ie.prototype.send=Ie.prototype.ha;Ie.prototype.setWithCredentials=Ie.prototype.Oa;jt.prototype.digest=jt.prototype.l;jt.prototype.reset=jt.prototype.reset;jt.prototype.update=jt.prototype.j;de.prototype.add=de.prototype.add;de.prototype.multiply=de.prototype.R;de.prototype.modulo=de.prototype.gb;de.prototype.compare=de.prototype.X;de.prototype.toNumber=de.prototype.ea;de.prototype.toString=de.prototype.toString;de.prototype.getBits=de.prototype.D;de.fromNumber=qt;de.fromString=uy;var VE=function(){return new za},HE=function(){return Mu()},Vl=Ou,qE=b0,KE=yr,sm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WE=ao,jo=I0,GE=Ie,QE=jt,Gr=de;const om="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ei="9.21.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Zv("@firebase/firestore");function am(){return dr.logLevel}function W(t,...e){if(dr.logLevel<=ce.DEBUG){const n=e.map(Rf);dr.debug(`Firestore (${Ei}): ${t}`,...n)}}function dn(t,...e){if(dr.logLevel<=ce.ERROR){const n=e.map(Rf);dr.error(`Firestore (${Ei}): ${t}`,...n)}}function ri(t,...e){if(dr.logLevel<=ce.WARN){const n=e.map(Rf);dr.warn(`Firestore (${Ei}): ${t}`,...n)}}function Rf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${Ei}) INTERNAL ASSERTION FAILED: `+t;throw dn(e),new Error(e)}function ve(t,e){t||J()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class YE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JE{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new ly(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new Ye(e)}}class ZE{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class eS{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new ZE(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.T=n.token,new tS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=rS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function ii(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Re(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Re(0,0))}static max(){return new ee(new Re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends Rs{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const iS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Rs{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return iS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new X(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new X(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(we.fromString(e))}static fromName(e){return new Q(we.fromString(e).popFirst(5))}static empty(){return new Q(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new we(e.slice()))}}function sS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new jn(i,Q.empty(),e)}function oS(t){return new jn(t.readTime,t.key,-1)}class jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jn(ee.min(),Q.empty(),-1)}static max(){return new jn(ee.max(),Q.empty(),-1)}}function aS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==uS)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++u,u===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new x((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function fo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}xf.ct=-1;function Bu(t){return t==null}function Ba(t){return t===0&&1/t==-1/0}function cS(t){return typeof t=="number"&&Number.isInteger(t)&&!Ba(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.comparator=e,this.root=n||Ve.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ve.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ve.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fo(this.root,e,this.comparator,!0)}}class Fo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ve{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ve.RED,this.left=i??Ve.EMPTY,this.right=s??Ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ve(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ve.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ve.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Ve.EMPTY=null,Ve.RED=!0,Ve.BLACK=!1;Ve.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ve(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lm(this.data.getIterator())}getIteratorFrom(e){return new lm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class lm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new xt([])}unionWith(e){let n=new it(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ii(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fy("Invalid base64 string: "+i):i}}(e);return new ot(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const dS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fn(t){if(ve(!!t),typeof t=="string"){let e=0;const n=dS.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fr(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jf(t){const e=t.mapValue.fields.__previous_value__;return zf(e)?jf(e):e}function xs(t){const e=Fn(t.mapValue.fields.__local_write_time__.timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r,i,s,o,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=l}}class zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zf(t)?4:hS(t)?9007199254740991:10:J()}function Xt(t,e){if(t===e)return!0;const n=hr(t);if(n!==hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xs(t).isEqual(xs(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Fn(r.timestampValue),o=Fn(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return fr(r.bytesValue).isEqual(fr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return De(r.geoPointValue.latitude)===De(i.geoPointValue.latitude)&&De(r.geoPointValue.longitude)===De(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return De(r.integerValue)===De(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=De(r.doubleValue),o=De(i.doubleValue);return s===o?Ba(s)===Ba(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ii(t.arrayValue.values||[],e.arrayValue.values||[],Xt);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(um(s)!==um(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!Xt(s[u],o[u])))return!1;return!0}(t,e);default:return J()}}function js(t,e){return(t.values||[]).find(n=>Xt(n,e))!==void 0}function si(t,e){if(t===e)return 0;const n=hr(t),r=hr(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=De(i.integerValue||i.doubleValue),u=De(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return cm(t.timestampValue,e.timestampValue);case 4:return cm(xs(t),xs(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(i,s){const o=fr(i),u=fr(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let l=0;l<o.length&&l<u.length;l++){const c=le(o[l],u[l]);if(c!==0)return c}return le(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=le(De(i.latitude),De(s.latitude));return o!==0?o:le(De(i.longitude),De(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],u=s.values||[];for(let l=0;l<o.length&&l<u.length;++l){const c=si(o[l],u[l]);if(c)return c}return le(o.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Bo.mapValue&&s===Bo.mapValue)return 0;if(i===Bo.mapValue)return 1;if(s===Bo.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const _=le(u[h],c[h]);if(_!==0)return _;const v=si(o[u[h]],l[c[h]]);if(v!==0)return v}return le(u.length,c.length)}(t.mapValue,e.mapValue);default:throw J()}}function cm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=Fn(t),r=Fn(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function oi(t){return Zc(t)}function Zc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Fn(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Zc(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${Zc(r.fields[u])}`;return s+"}"}(t.mapValue):J();var e,n}function ed(t){return!!t&&"integerValue"in t}function Ff(t){return!!t&&"arrayValue"in t}function dm(t){return!!t&&"nullValue"in t}function fm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ta(t){return!!t&&"mapValue"in t}function cs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ta(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cs(n)}setAll(e){let n=Ze.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=cs(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ta(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ta(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Si(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ct(cs(this.value))}}function hy(t){const e=[];return Si(t.fields,(n,r)=>{const i=new Ze([n]);if(ta(r)){const s=hy(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Je(e,0,ee.min(),ee.min(),ee.min(),Ct.empty(),0)}static newFoundDocument(e,n,r,i){return new Je(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new Je(e,2,n,ee.min(),ee.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new Je(e,3,n,ee.min(),ee.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.position=e,this.inclusive=n}}function hm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=si(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function pm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n="asc"){this.field=e,this.dir=n}}function pS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{}class $e extends py{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gS(e,n,r):n==="array-contains"?new wS(e,r):n==="in"?new _S(e,r):n==="not-in"?new ES(e,r):n==="array-contains-any"?new SS(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vS(e,r):new yS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(si(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(si(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Yt extends py{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Yt(e,n)}matches(e){return my(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function my(t){return t.op==="and"}function gy(t){return mS(t)&&my(t)}function mS(t){for(const e of t.filters)if(e instanceof Yt)return!1;return!0}function td(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+oi(t.value);if(gy(t))return t.filters.map(e=>td(e)).join(",");{const e=t.filters.map(n=>td(n)).join(",");return`${t.op}(${e})`}}function vy(t,e){return t instanceof $e?function(n,r){return r instanceof $e&&n.op===r.op&&n.field.isEqual(r.field)&&Xt(n.value,r.value)}(t,e):t instanceof Yt?function(n,r){return r instanceof Yt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&vy(s,r.filters[o]),!0):!1}(t,e):void J()}function yy(t){return t instanceof $e?function(e){return`${e.field.canonicalString()} ${e.op} ${oi(e.value)}`}(t):t instanceof Yt?function(e){return e.op.toString()+" {"+e.getFilters().map(yy).join(" ,")+"}"}(t):"Filter"}class gS extends $e{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class vS extends $e{constructor(e,n){super(e,"in",n),this.keys=wy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yS extends $e{constructor(e,n){super(e,"not-in",n),this.keys=wy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class wS extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ff(n)&&js(n.arrayValue,this.value)}}class _S extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&js(this.value.arrayValue,n)}}class ES extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(js(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!js(this.value.arrayValue,n)}}class SS extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ff(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>js(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ft=null}}function mm(t,e=null,n=[],r=[],i=null,s=null,o=null){return new kS(t,e,n,r,i,s,o)}function Bf(t){const e=ne(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>td(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Bu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oi(r)).join(",")),e.ft=n}return e.ft}function Uf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pm(t.startAt,e.startAt)&&pm(t.endAt,e.endAt)}function nd(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function CS(t,e,n,r,i,s,o,u){return new Uu(t,e,n,r,i,s,o,u)}function Vf(t){return new Uu(t)}function gm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function bS(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function IS(t){return t.collectionGroup!==null}function Qr(t){const e=ne(t);if(e.dt===null){e.dt=[];const n=bS(e),r=TS(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new ds(n)),e.dt.push(new ds(Ze.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ds(Ze.keyField(),s))}}}return e.dt}function fn(t){const e=ne(t);if(!e._t)if(e.limitType==="F")e._t=mm(e.path,e.collectionGroup,Qr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Qr(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ds(s.field,o))}const r=e.endAt?new Ua(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ua(e.startAt.position,e.startAt.inclusive):null;e._t=mm(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function rd(t,e,n){return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vu(t,e){return Uf(fn(t),fn(e))&&t.limitType===e.limitType}function _y(t){return`${Bf(fn(t))}|lt:${t.limitType}`}function id(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>yy(r)).join(", ")}]`),Bu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oi(r)).join(",")),`Target(${n})`}(fn(t))}; limitType=${t.limitType})`}function Hu(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Qr(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const u=hm(i,s,o);return i.inclusive?u<=0:u<0}(n.startAt,Qr(n),r)||n.endAt&&!function(i,s,o){const u=hm(i,s,o);return i.inclusive?u>=0:u>0}(n.endAt,Qr(n),r))}(t,e)}function AS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ey(t){return(e,n)=>{let r=!1;for(const i of Qr(t)){const s=PS(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PS(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,s,o){const u=s.data.field(i),l=o.data.field(i);return u!==null&&l!==null?si(u,l):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new ke(Q.comparator);function hn(){return NS}const Sy=new ke(Q.comparator);function Gi(...t){let e=Sy;for(const n of t)e=e.insert(n.key,n);return e}function ky(t){let e=Sy;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rr(){return fs()}function Cy(){return fs()}function fs(){return new ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const DS=new ke(Q.comparator),MS=new it(Q.comparator);function oe(...t){let e=MS;for(const n of t)e=e.add(n);return e}const OS=new it(le);function $S(){return OS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ba(e)?"-0":e}}function by(t){return{integerValue:""+t}}function LS(t,e){return cS(e)?by(e):Ty(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this._=void 0}}function RS(t,e,n){return t instanceof Va?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&zf(i)&&(i=jf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Fs?Ay(t,e):t instanceof Bs?Py(t,e):function(r,i){const s=Iy(r,i),o=vm(s)+vm(r.wt);return ed(s)&&ed(r.wt)?by(o):Ty(r.serializer,o)}(t,e)}function xS(t,e,n){return t instanceof Fs?Ay(t,e):t instanceof Bs?Py(t,e):n}function Iy(t,e){return t instanceof Ha?ed(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Va extends qu{}class Fs extends qu{constructor(e){super(),this.elements=e}}function Ay(t,e){const n=Ny(e);for(const r of t.elements)n.some(i=>Xt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bs extends qu{constructor(e){super(),this.elements=e}}function Py(t,e){let n=Ny(e);for(const r of t.elements)n=n.filter(i=>!Xt(i,r));return{arrayValue:{values:n}}}class Ha extends qu{constructor(e,n){super(),this.serializer=e,this.wt=n}}function vm(t){return De(t.integerValue||t.doubleValue)}function Ny(t){return Ff(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zS(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Fs&&r instanceof Fs||n instanceof Bs&&r instanceof Bs?ii(n.elements,r.elements,Xt):n instanceof Ha&&r instanceof Ha?Xt(n.wt,r.wt):n instanceof Va&&r instanceof Va}(t.transform,e.transform)}class jS{constructor(e,n){this.version=e,this.transformResults=n}}class zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zt}static exists(e){return new zt(void 0,e)}static updateTime(e){return new zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function na(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ku{}function Dy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hf(t.key,zt.none()):new ho(t.key,t.data,zt.none());{const n=t.data,r=Ct.empty();let i=new it(Ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wr(t.key,r,new xt(i.toArray()),zt.none())}}function FS(t,e,n){t instanceof ho?function(r,i,s){const o=r.value.clone(),u=wm(r.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof wr?function(r,i,s){if(!na(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=wm(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(My(r)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function hs(t,e,n,r){return t instanceof ho?function(i,s,o,u){if(!na(i.precondition,s))return o;const l=i.value.clone(),c=_m(i.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof wr?function(i,s,o,u){if(!na(i.precondition,s))return o;const l=_m(i.fieldTransforms,u,s),c=s.data;return c.setAll(My(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,s,o){return na(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function BS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Iy(r.transform,i||null);s!=null&&(n===null&&(n=Ct.empty()),n.set(r.field,s))}return n||null}function ym(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ii(n,r,(i,s)=>zS(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ho extends Ku{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wr extends Ku{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function My(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wm(t,e,n){const r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,xS(o,u,n[i]))}return r}function _m(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,RS(s,o,e))}return r}class Hf extends Ku{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class US extends Ku{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&FS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Cy();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=Dy(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&ii(this.mutations,e.mutations,(n,r)=>ym(n,r))&&ii(this.baseMutations,e.baseMutations,(n,r)=>ym(n,r))}}class qf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=DS;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,ae;function KS(t){switch(t){default:return J();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function Oy(t){if(t===void 0)return dn("GRPC error has no .code"),R.UNKNOWN;switch(t){case Ne.OK:return R.OK;case Ne.CANCELLED:return R.CANCELLED;case Ne.UNKNOWN:return R.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return R.INTERNAL;case Ne.UNAVAILABLE:return R.UNAVAILABLE;case Ne.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ne.NOT_FOUND:return R.NOT_FOUND;case Ne.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ne.ABORTED:return R.ABORTED;case Ne.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ne.DATA_LOSS:return R.DATA_LOSS;default:return J()}}(ae=Ne||(Ne={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Uo}static getOrCreateInstance(){return Uo===null&&(Uo=new Kf),Uo}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Uo=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new Gr([4294967295,4294967295],0);function Em(t){const e=WS().encode(t),n=new QE;return n.update(e),new Uint8Array(n.digest())}function Sm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gr([n,r],0),new Gr([i,s],0)]}class Wf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qi(`Invalid padding: ${n}`);if(r<0)throw new Qi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qi(`Invalid padding when bitmap length is 0: ${n}`);this.yt=8*e.length-n,this.It=Gr.fromNumber(this.yt)}Tt(e,n,r){let i=e.add(n.multiply(Gr.fromNumber(r)));return i.compare(GS)===1&&(i=new Gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}At(e){if(this.yt===0)return!1;const n=Em(e),[r,i]=Sm(n);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);if(!this.Et(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wf(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.yt===0)return;const n=Em(e),[r,i]=Sm(n);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,po.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wu(ee.min(),i,new ke(le),hn(),oe())}}class po{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new po(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r,i){this.vt=e,this.removedTargetIds=n,this.key=r,this.Pt=i}}class $y{constructor(e,n){this.targetId=e,this.bt=n}}class Ly{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class km{constructor(){this.Vt=0,this.St=Tm(),this.Dt=ot.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return this.Vt!==0}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=oe(),n=oe(),r=oe();return this.St.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new po(this.Dt,this.Ct,e,n,r)}$t(){this.xt=!1,this.St=Tm()}Ft(e,n){this.xt=!0,this.St=this.St.insert(e,n)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class QS{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=hn(),this.jt=Cm(),this.zt=new ke(le)}Wt(e){for(const n of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(n,e.Pt):this.Jt(n,e.key,e.Pt);for(const n of e.removedTargetIds)this.Jt(n,e.key,e.Pt)}Yt(e){this.forEachTarget(e,n=>{const r=this.Xt(n);switch(e.state){case 0:this.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(n);break;case 3:this.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(n)&&(this.te(n),r.Mt(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Gt.forEach((r,i)=>{this.Zt(i)&&n(i)})}ee(e){var n;const r=e.targetId,i=e.bt.count,s=this.ne(r);if(s){const o=s.target;if(nd(o))if(i===0){const u=new Q(o.path);this.Jt(r,u,Je.newNoDocument(u,ee.min()))}else ve(i===1);else{const u=this.se(r);if(u!==i){const l=this.ie(e,u);if(l!==0){this.te(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(r,c)}(n=Kf.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,h,_){var v,b,I,C,y,m;const g={localCacheCount:h,existenceFilterCount:_.count},T=_.unchangedNames;return T&&(g.bloomFilter={applied:c===0,hashCount:(v=T==null?void 0:T.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(C=(I=(b=T==null?void 0:T.bits)===null||b===void 0?void 0:b.bitmap)===null||I===void 0?void 0:I.length)!==null&&C!==void 0?C:0,padding:(m=(y=T==null?void 0:T.bits)===null||y===void 0?void 0:y.padding)!==null&&m!==void 0?m:0}),g}(l,u,e.bt))}}}}ie(e,n){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let l,c;try{l=fr(s).toUint8Array()}catch(h){if(h instanceof fy)return ri("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw h}try{c=new Wf(l,o,u)}catch(h){return ri(h instanceof Qi?"BloomFilter error: ":"Applying bloom filter failed: ",h),1}return c.yt===0?1:i!==n-this.re(e.targetId,c)?2:0}re(e,n){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Kt.oe(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.At(u)||(this.Jt(e,s,null),i++)}),i}ue(e){const n=new Map;this.Gt.forEach((s,o)=>{const u=this.ne(o);if(u){if(s.current&&nd(u.target)){const l=new Q(u.target.path);this.Qt.get(l)!==null||this.ce(o,l)||this.Jt(o,l,Je.newNoDocument(l,e))}s.kt&&(n.set(o,s.Ot()),s.$t())}});let r=oe();this.jt.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const c=this.ne(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qt.forEach((s,o)=>o.setReadTime(e));const i=new Wu(e,n,this.zt,this.Qt,r);return this.Qt=hn(),this.jt=Cm(),this.zt=new ke(le),i}Ht(e,n){if(!this.Zt(e))return;const r=this.ce(e,n.key)?2:0;this.Xt(e).Ft(n.key,r),this.Qt=this.Qt.insert(n.key,n),this.jt=this.jt.insert(n.key,this.ae(n.key).add(e))}Jt(e,n,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,n)?i.Ft(n,1):i.Bt(n),this.jt=this.jt.insert(n,this.ae(n).delete(e)),r&&(this.Qt=this.Qt.insert(n,r))}removeTarget(e){this.Gt.delete(e)}se(e){const n=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let n=this.Gt.get(e);return n||(n=new km,this.Gt.set(e,n)),n}ae(e){let n=this.jt.get(e);return n||(n=new it(le),this.jt=this.jt.insert(e,n)),n}Zt(e){const n=this.ne(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ne(e){const n=this.Gt.get(e);return n&&n.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new km),this.Kt.getRemoteKeysForTarget(e).forEach(n=>{this.Jt(e,n,null)})}ce(e,n){return this.Kt.getRemoteKeysForTarget(e).has(n)}}function Cm(){return new ke(Q.comparator)}function Tm(){return new ke(Q.comparator)}const XS=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),YS=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),JS=(()=>({and:"AND",or:"OR"}))();class ZS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sd(t,e){return t.useProto3Json||Bu(e)?e:{value:e}}function qa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ry(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ek(t,e){return qa(t,e.toTimestamp())}function Qt(t){return ve(!!t),ee.fromTimestamp(function(e){const n=Fn(e);return new Re(n.seconds,n.nanos)}(t))}function Gf(t,e){return function(n){return new we(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function xy(t){const e=we.fromString(t);return ve(By(e)),e}function od(t,e){return Gf(t.databaseId,e.path)}function Hl(t,e){const n=xy(e);if(n.get(1)!==t.databaseId.projectId)throw new X(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(zy(n))}function ad(t,e){return Gf(t.databaseId,e)}function tk(t){const e=xy(t);return e.length===4?we.emptyPath():zy(e)}function ud(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zy(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bm(t,e,n){return{name:od(t,e),fields:n.value.mapValue.fields}}function nk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(ve(c===void 0||typeof c=="string"),ot.fromBase64String(c||"")):(ve(c===void 0||c instanceof Uint8Array),ot.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(l){const c=l.code===void 0?R.UNKNOWN:Oy(l.code);return new X(c,l.message||"")}(o);n=new Ly(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hl(t,r.document.name),s=Qt(r.document.updateTime),o=r.document.createTime?Qt(r.document.createTime):ee.min(),u=new Ct({mapValue:{fields:r.document.fields}}),l=Je.newFoundDocument(i,s,o,u),c=r.targetIds||[],h=r.removedTargetIds||[];n=new ra(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hl(t,r.document),s=r.readTime?Qt(r.readTime):ee.min(),o=Je.newNoDocument(i,s),u=r.removedTargetIds||[];n=new ra([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hl(t,r.document),s=r.removedTargetIds||[];n=new ra([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new qS(i,s),u=r.targetId;n=new $y(u,o)}}return n}function rk(t,e){let n;if(e instanceof ho)n={update:bm(t,e.key,e.value)};else if(e instanceof Hf)n={delete:od(t,e.key)};else if(e instanceof wr)n={update:bm(t,e.key,e.data),updateMask:fk(e.fieldMask)};else{if(!(e instanceof US))return J();n={verify:od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Va)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Bs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ha)return{fieldPath:s.field.canonicalString(),increment:o.wt};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:ek(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(t,e.precondition)),n}function ik(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Qt(r.updateTime):Qt(i);return s.isEqual(ee.min())&&(s=Qt(i)),new jS(s,r.transformResults||[])}(n,e))):[]}function sk(t,e){return{documents:[ad(t,e.path)]}}function ok(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=ad(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ad(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Fy(Yt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:Tr(h.field),direction:lk(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=sd(t,e.limit);var u;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function ak(t){let e=tk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(h){const _=jy(h);return _ instanceof Yt&&gy(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(_){return new ds(br(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h)));let u=null;n.limit&&(u=function(h){let _;return _=typeof h=="object"?h.value:h,Bu(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(h){const _=!!h.before,v=h.values||[];return new Ua(v,_)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const _=!h.before,v=h.values||[];return new Ua(v,_)}(n.endAt)),CS(e,i,o,s,u,"F",l,c)}function uk(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jy(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=br(e.unaryFilter.field);return $e.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=br(e.unaryFilter.field);return $e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=br(e.unaryFilter.field);return $e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=br(e.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(e){return $e.create(br(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Yt.create(e.compositeFilter.filters.map(n=>jy(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return J()}}(e.compositeFilter.op))}(t):J()}function lk(t){return XS[t]}function ck(t){return YS[t]}function dk(t){return JS[t]}function Tr(t){return{fieldPath:t.canonicalString()}}function br(t){return Ze.fromServerFormat(t.fieldPath)}function Fy(t){return t instanceof $e?function(e){if(e.op==="=="){if(fm(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NAN"}};if(dm(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(fm(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NOT_NAN"}};if(dm(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tr(e.field),op:ck(e.op),value:e.value}}}(t):t instanceof Yt?function(e){const n=e.getFilters().map(r=>Fy(r));return n.length===1?n[0]:{compositeFilter:{op:dk(e.op),filters:n}}}(t):J()}function fk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function By(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,i,s=ee.min(),o=ee.min(),u=ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new En(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.le=e}}function pk(t){const e=ak({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.sn=new gk}addToCollectionParentIndex(e,n){return this.sn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(jn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class gk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new ai(0)}static kn(){return new ai(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.changes=new ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hs(r.mutation,i,xt.empty(),Re.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=rr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Gi();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=rr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=hn();const o=fs(),u=fs();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof wr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),hs(h.mutation,c,h.mutation.getFieldMask(),Re.now())):o.set(c.key,xt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var _;return u.set(c,new yk(h,(_=o.get(c))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const r=fs();let i=new ke((o,u)=>o-u),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||xt.empty();h=u.applyToLocalView(c,h),r.set(l,h);const _=(i.get(u.batchId)||oe()).add(l);i=i.insert(u.batchId,_)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),c=l.key,h=l.value,_=Cy();h.forEach(v=>{if(!s.has(v)){const b=Dy(n.get(v),r.get(v));b!==null&&_.set(v,b),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,_))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(rr());let u=-1,l=s;return o.next(c=>x.forEach(c,(h,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{l=l.insert(h,v)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,oe())).next(h=>({batchId:u,changes:ky(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Gi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Gi();return this.indexManager.getCollectionParents(e,i).next(o=>x.forEach(o,u=>{const l=function(c,h){return new Uu(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((h,_)=>{s=s.insert(h,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Je.newInvalidDocument(c)))});let o=Gi();return s.forEach((u,l)=>{const c=i.get(u);c!==void 0&&hs(c.mutation,l,xt.empty(),Re.now()),Hu(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,n){return x.resolve(this.us.get(n))}saveBundleMetadata(e,n){var r;return this.us.set(n.id,{id:(r=n).id,version:r.version,createTime:Qt(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.cs.get(n))}saveNamedQuery(e,n){return this.cs.set(n.name,function(r){return{name:r.name,query:pk(r.bundledQuery),readTime:Qt(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.overlays=new ke(Q.comparator),this.hs=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rr();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.de(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hs.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hs.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=rr(),s=n.length+1,o=new Q(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=rr(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const u=rr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>u.set(c,h)),!(u.size()>=i)););return x.resolve(u)}de(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HS(n,r));let s=this.hs.get(n);s===void 0&&(s=oe(),this.hs.set(n,s)),this.hs.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this.ls=new it(ze.fs),this.ds=new it(ze._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,n){const r=new ze(e,n);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gs(new ze(e,n))}ys(e,n){e.forEach(r=>this.removeReference(r,n))}ps(e){const n=new Q(new we([])),r=new ze(n,e),i=new ze(n,e+1),s=[];return this.ds.forEachInRange([r,i],o=>{this.gs(o),s.push(o.key)}),s}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const n=new Q(new we([])),r=new ze(n,e),i=new ze(n,e+1);let s=oe();return this.ds.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ze(e,0),r=this.ls.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.Es=n}static fs(e,n){return Q.comparator(e.key,n.key)||le(e.Es,n.Es)}static _s(e,n){return le(e.Es,n.Es)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new it(ze.fs)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VS(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Rs=this.Rs.add(new ze(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.vs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ps(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.As-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const u=this.vs(o.Es);s.push(u)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(le);return n.forEach(i=>{const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],u=>{r=r.add(u.Es)})}),x.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new ze(new Q(s),0);let u=new it(le);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(u=u.add(l.Es)),!0)},o),x.resolve(this.bs(u))}bs(e){const n=[];return e.forEach(r=>{const i=this.vs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Vs(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return x.forEach(n.mutations,i=>{const s=new ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,n){const r=new ze(n,0),i=this.Rs.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Vs(e,n){return this.Ps(e)}Ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}vs(e){const n=this.Ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.Ss=e,this.docs=new ke(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ss(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(e,n){let r=hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Je.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hn();const o=n.path,u=new Q(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||aS(oS(h),r)<=0||(i.has(h.key)||Hu(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Ds(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ck(this)}getSize(e){return x.resolve(this.size)}}class Ck extends vk{constructor(e){super(),this.rs=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.rs.getEntry(e,n)}getAllFromCache(e,n){return this.rs.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.persistence=e,this.Cs=new ki(n=>Bf(n),Uf),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Qf,this.targetCount=0,this.ks=ai.Nn()}forEachTarget(e,n){return this.Cs.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.xs&&(this.xs=n),x.resolve()}$n(e){this.Cs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ks=new ai(n),this.highestTargetId=n),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,n){return this.$n(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.$n(n),x.resolve()}removeTargetData(e,n){return this.Cs.delete(n.target),this.Ns.ps(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cs.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Cs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cs.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Ns.ws(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Ns.ys(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ns.ps(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ns.Ts(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Ns.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n){this.Ms={},this.overlays={},this.Os=new xf(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new Tk(this),this.indexManager=new mk,this.remoteDocumentCache=function(r){return new kk(r)}(r=>this.referenceDelegate.Bs(r)),this.serializer=new hk(n),this.Ls=new _k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ek,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ms[e.toKey()];return r||(r=new Sk(n,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new Ik(this.Os.next());return this.referenceDelegate.qs(),r(i).next(s=>this.referenceDelegate.Us(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ks(e,n){return x.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,n)))}}class Ik extends lS{constructor(e){super(),this.currentSequenceNumber=e}}class Xf{constructor(e){this.persistence=e,this.Gs=new Qf,this.Qs=null}static js(e){return new Xf(e)}get zs(){if(this.Qs)return this.Qs;throw J()}addReference(e,n,r){return this.Gs.addReference(r,n),this.zs.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Gs.removeReference(r,n),this.zs.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.zs.add(n.toString()),x.resolve()}removeTarget(e,n){this.Gs.ps(n.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.zs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}qs(){this.Qs=new Set}Us(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.zs,r=>{const i=Q.fromPath(r);return this.Ws(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Qs=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ws(e,n).next(r=>{r?this.zs.delete(n.toString()):this.zs.add(n.toString())})}Bs(e){return 0}Ws(e,n){return x.or([()=>x.resolve(this.Gs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ks(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Fi=i}static Bi(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.Li=!1}initialize(e,n){this.qi=e,this.indexManager=n,this.Li=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ui(e,n).next(s=>s||this.Ki(e,n,i,r)).next(s=>s||this.Gi(e,n))}Ui(e,n){if(gm(n))return x.resolve(null);let r=fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rd(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.qi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Qi(n,u);return this.ji(n,c,o,l.readTime)?this.Ui(e,rd(n,null,"F")):this.zi(e,c,n,l)}))})))}Ki(e,n,r,i){return gm(n)||i.isEqual(ee.min())?this.Gi(e,n):this.qi.getDocuments(e,r).next(s=>{const o=this.Qi(n,s);return this.ji(n,o,r,i)?this.Gi(e,n):(am()<=ce.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),id(n)),this.zi(e,o,n,sS(i,-1)))})}Qi(e,n){let r=new it(Ey(e));return n.forEach((i,s)=>{Hu(e,s)&&(r=r.add(s))}),r}ji(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Gi(e,n){return am()<=ce.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",id(n)),this.qi.getDocumentsMatchingQuery(e,n,jn.min())}zi(e,n,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n,r,i){this.persistence=e,this.Wi=n,this.serializer=i,this.Hi=new ke(le),this.Ji=new ki(s=>Bf(s),Uf),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wk(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Hi))}}function Nk(t,e,n,r){return new Pk(t,e,n,r)}async function Uy(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=oe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){u.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({tr:c,removedBatchIds:o,addedBatchIds:u}))})})}function Dk(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(o,u,l,c){const h=l.batch,_=h.keys();let v=x.resolve();return _.forEach(b=>{v=v.next(()=>c.getEntry(u,b)).next(I=>{const C=l.docVersions.get(b);ve(C!==null),I.version.compareTo(C)<0&&(h.applyToRemoteDocument(I,l),I.isValidDocument()&&(I.setReadTime(l.commitVersion),c.addEntry(I)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=oe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(u=u.add(o.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Vy(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Fs.getLastRemoteSnapshotVersion(n))}function Mk(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;const u=[];e.targetChanges.forEach((h,_)=>{const v=i.get(_);if(!v)return;u.push(n.Fs.removeMatchingKeys(s,h.removedDocuments,_).next(()=>n.Fs.addMatchingKeys(s,h.addedDocuments,_)));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(ot.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,r)),i=i.insert(_,b),function(I,C,y){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(v,b,h)&&u.push(n.Fs.updateTargetData(s,b))});let l=hn(),c=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),u.push(Ok(s,o,e.documentUpdates).next(h=>{l=h.er,c=h.nr})),!r.isEqual(ee.min())){const h=n.Fs.getLastRemoteSnapshotVersion(s).next(_=>n.Fs.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(h)}return x.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Hi=i,s))}function Ok(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=hn();return n.forEach((u,l)=>{const c=s.get(u);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):W("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),{er:o,nr:i}})}function $k(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Lk(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Fs.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Fs.allocateTargetId(r).next(o=>(i=new En(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Hi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(r.targetId,r),n.Ji.set(e,r.targetId)),r})}async function ld(t,e,n){const r=ne(t),i=r.Hi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!fo(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}function Im(t,e,n){const r=ne(t);let i=ee.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,l,c){const h=ne(u),_=h.Ji.get(c);return _!==void 0?x.resolve(h.Hi.get(_)):h.Fs.getTargetData(l,c)}(r,o,fn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.Wi.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:oe())).next(u=>(Rk(r,AS(e),u),{documents:u,sr:s})))}function Rk(t,e,n){let r=t.Yi.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Yi.set(e,r)}class Am{constructor(){this.activeTargetIds=$S()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xk{constructor(){this.Wr=new Am,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,n,r){this.Hr[e]=n}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Am,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{Jr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo=null;function ql(){return Vo===null?Vo=268435456+Math.round(2147483648*Math.random()):Vo++,"0x"+Vo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class Bk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.wo=n+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,n,r,i,s){const o=ql(),u=this.Io(e,n);W("RestConnection",`Sending RPC '${e}' ${o}:`,u,r);const l={};return this.To(l,i,s),this.Eo(e,u,l,r).then(c=>(W("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ri("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",u,"request:",r),c})}Ao(e,n,r,i,s,o){return this.po(e,n,r,i,s)}To(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ei,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Io(e,n){const r=jk[e];return`${this.wo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,n,r,i){const s=ql();return new Promise((o,u)=>{const l=new GE;l.setWithCredentials(!0),l.listenOnce(qE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vl.NO_ERROR:const h=l.getResponseJson();W(Qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Vl.TIMEOUT:W(Qe,`RPC '${e}' ${s} timed out`),u(new X(R.DEADLINE_EXCEEDED,"Request time out"));break;case Vl.HTTP_ERROR:const _=l.getStatus();if(W(Qe,`RPC '${e}' ${s} failed with status:`,_,"response text:",l.getResponseText()),_>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const I=function(C){const y=C.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(y)>=0?y:R.UNKNOWN}(b.status);u(new X(I,b.message))}else u(new X(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new X(R.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{W(Qe,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);W(Qe,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=ql(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VE(),u=HE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new WE({})),this.To(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");W(Qe,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let _=!1,v=!1;const b=new Fk({io:C=>{v?W(Qe,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(W(Qe,`Opening RPC '${e}' stream ${i} transport.`),h.open(),_=!0),W(Qe,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},ro:()=>h.close()}),I=(C,y,m)=>{C.listen(y,g=>{try{m(g)}catch(T){setTimeout(()=>{throw T},0)}})};return I(h,jo.EventType.OPEN,()=>{v||W(Qe,`RPC '${e}' stream ${i} transport opened.`)}),I(h,jo.EventType.CLOSE,()=>{v||(v=!0,W(Qe,`RPC '${e}' stream ${i} transport closed`),b.fo())}),I(h,jo.EventType.ERROR,C=>{v||(v=!0,ri(Qe,`RPC '${e}' stream ${i} transport errored:`,C),b.fo(new X(R.UNAVAILABLE,"The operation could not be completed")))}),I(h,jo.EventType.MESSAGE,C=>{var y;if(!v){const m=C.data[0];ve(!!m);const g=m,T=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(T){W(Qe,`RPC '${e}' stream ${i} received error:`,T);const a=T.status;let f=function(p){const w=Ne[p];if(w!==void 0)return Oy(w)}(a),d=T.message;f===void 0&&(f=R.INTERNAL,d="Unknown error status: "+a+" with message "+T.message),v=!0,b.fo(new X(f,d)),h.close()}else W(Qe,`RPC '${e}' stream ${i} received:`,m),b._o(m)}}),I(u,KE.STAT_EVENT,C=>{C.stat===sm.PROXY?W(Qe,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===sm.NOPROXY&&W(Qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.lo()},0),b}}function Kl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){return new ZS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.vo=r,this.Po=i,this.bo=s,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){this.So!==null&&(this.So.skipDelay(),this.So=null)}cancel(){this.So!==null&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,i,s,o,u,l){this.si=e,this.Mo=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Hy(e,n)}qo(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&this.Fo===null&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(e,n){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,e!==4?this.Lo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(dn(n.toString()),dn("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Jo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===n&&this.Xo(r,i)},r=>{e(()=>{const i=new X(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,n){const r=this.Yo(this.$o);this.stream=this.tu(e,n),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return n=>{this.si.enqueueAndForget(()=>this.$o===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uk extends qy{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}tu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.Lo.reset();const n=nk(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Qt(s.readTime):ee.min()}(e);return this.listener.eu(n,r)}nu(e){const n={};n.database=ud(this.serializer),n.addTarget=function(i,s){let o;const u=s.target;if(o=nd(u)?{documents:sk(i,u)}:{query:ok(i,u)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Ry(i,s.resumeToken);const l=sd(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){o.readTime=qa(i,s.snapshotVersion.toTimestamp());const l=sd(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=uk(this.serializer,e);r&&(n.labels=r),this.zo(n)}su(e){const n={};n.database=ud(this.serializer),n.removeTarget=e,this.zo(n)}}class Vk extends qy{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const n=ik(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.uu(r,n)}return ve(!e.writeResults||e.writeResults.length===0),this.iu=!0,this.listener.cu()}au(){const e={};e.database=ud(this.serializer),this.zo(e)}ou(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rk(this.serializer,r))};this.zo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new X(R.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,n,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.po(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(R.UNKNOWN,i.toString())})}Ao(e,n,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ao(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(R.UNKNOWN,s.toString())})}terminate(){this.hu=!0}}class qk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){this.du===0&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){this.state==="Online"?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,e==="Online"&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(dn(n),this.wu=!1):W("OnlineStateTracker",n)}Iu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=s,this.vu.Jr(o=>{r.enqueueAndForget(async()=>{_r(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ne(u);l.Au.add(4),await mo(l),l.Pu.set("Unknown"),l.Au.delete(4),await Qu(l)}(this))})}),this.Pu=new qk(r,i)}}async function Qu(t){if(_r(t))for(const e of t.Ru)await e(!0)}async function mo(t){for(const e of t.Ru)await e(!1)}function Ky(t,e){const n=ne(t);n.Eu.has(e.targetId)||(n.Eu.set(e.targetId,e),eh(n)?Zf(n):Ci(n).Uo()&&Jf(n,e))}function Wy(t,e){const n=ne(t),r=Ci(n);n.Eu.delete(e),r.Uo()&&Gy(n,e),n.Eu.size===0&&(r.Uo()?r.Qo():_r(n)&&n.Pu.set("Unknown"))}function Jf(t,e){if(t.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ci(t).nu(e)}function Gy(t,e){t.bu.Lt(e),Ci(t).su(e)}function Zf(t){t.bu=new QS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),he:e=>t.Eu.get(e)||null,oe:()=>t.datastore.serializer.databaseId}),Ci(t).start(),t.Pu.mu()}function eh(t){return _r(t)&&!Ci(t).qo()&&t.Eu.size>0}function _r(t){return ne(t).Au.size===0}function Qy(t){t.bu=void 0}async function Wk(t){t.Eu.forEach((e,n)=>{Jf(t,e)})}async function Gk(t,e){Qy(t),eh(t)?(t.Pu.pu(e),Zf(t)):t.Pu.set("Unknown")}async function Qk(t,e,n){if(t.Pu.set("Online"),e instanceof Ly&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Eu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Eu.delete(o),r.bu.removeTarget(o))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ka(t,r)}else if(e instanceof ra?t.bu.Wt(e):e instanceof $y?t.bu.ee(e):t.bu.Yt(e),!n.isEqual(ee.min()))try{const r=await Vy(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.bu.ue(s);return o.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=i.Eu.get(l);c&&i.Eu.set(l,c.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,l)=>{const c=i.Eu.get(u);if(!c)return;i.Eu.set(u,c.withResumeToken(ot.EMPTY_BYTE_STRING,c.snapshotVersion)),Gy(i,u);const h=new En(c.target,u,l,c.sequenceNumber);Jf(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await Ka(t,r)}}async function Ka(t,e,n){if(!fo(e))throw e;t.Au.add(1),await mo(t),t.Pu.set("Offline"),n||(n=()=>Vy(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.Au.delete(1),await Qu(t)})}function Xy(t,e){return e().catch(n=>Ka(t,n,e))}async function Xu(t){const e=ne(t),n=Bn(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;Xk(e);)try{const i=await $k(e.localStore,r);if(i===null){e.Tu.length===0&&n.Qo();break}r=i.batchId,Yk(e,i)}catch(i){await Ka(e,i)}Yy(e)&&Jy(e)}function Xk(t){return _r(t)&&t.Tu.length<10}function Yk(t,e){t.Tu.push(e);const n=Bn(t);n.Uo()&&n.ru&&n.ou(e.mutations)}function Yy(t){return _r(t)&&!Bn(t).qo()&&t.Tu.length>0}function Jy(t){Bn(t).start()}async function Jk(t){Bn(t).au()}async function Zk(t){const e=Bn(t);for(const n of t.Tu)e.ou(n.mutations)}async function e6(t,e,n){const r=t.Tu.shift(),i=qf.from(r,e,n);await Xy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xu(t)}async function t6(t,e){e&&Bn(t).ru&&await async function(n,r){if(i=r.code,KS(i)&&i!==R.ABORTED){const s=n.Tu.shift();Bn(n).Go(),await Xy(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Xu(n)}var i}(t,e),Yy(t)&&Jy(t)}async function Nm(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=_r(n);n.Au.add(3),await mo(n),r&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Au.delete(3),await Qu(n)}async function n6(t,e){const n=ne(t);e?(n.Au.delete(2),await Qu(n)):e||(n.Au.add(2),await mo(n),n.Pu.set("Unknown"))}function Ci(t){return t.Vu||(t.Vu=function(e,n,r){const i=ne(e);return i.lu(),new Uk(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:Wk.bind(null,t),co:Gk.bind(null,t),eu:Qk.bind(null,t)}),t.Ru.push(async e=>{e?(t.Vu.Go(),eh(t)?Zf(t):t.Pu.set("Unknown")):(await t.Vu.stop(),Qy(t))})),t.Vu}function Bn(t){return t.Su||(t.Su=function(e,n,r){const i=ne(e);return i.lu(),new Vk(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:Jk.bind(null,t),co:t6.bind(null,t),cu:Zk.bind(null,t),uu:e6.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Go(),await Xu(t)):(await t.Su.stop(),t.Tu.length>0&&(W("RemoteStore",`Stopping write stream with ${t.Tu.length} pending writes`),t.Tu=[]))})),t.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new th(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nh(t,e){if(dn("AsyncQueue",`${e}: ${t}`),fo(t))return new X(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Gi(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new Xr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.Du=new ke(Q.comparator)}track(e){const n=e.doc.key,r=this.Du.get(n);r?e.type!==0&&r.type===3?this.Du=this.Du.insert(n,e):e.type===3&&r.type!==1?this.Du=this.Du.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Du=this.Du.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Du=this.Du.remove(n):e.type===1&&r.type===2?this.Du=this.Du.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):J():this.Du=this.Du.insert(n,e)}Cu(){const e=[];return this.Du.inorderTraversal((n,r)=>{e.push(r)}),e}}class ui{constructor(e,n,r,i,s,o,u,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new ui(e,n,Xr.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.xu=void 0,this.listeners=[]}}class i6{constructor(){this.queries=new ki(e=>_y(e),Vu),this.onlineState="Unknown",this.Nu=new Set}}async function s6(t,e){const n=ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new r6),i)try{s.xu=await n.onListen(r)}catch(o){const u=nh(o,`Initialization of query '${id(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.ku(n.onlineState),s.xu&&e.Mu(s.xu)&&rh(n)}async function o6(t,e){const n=ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function a6(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.Mu(i)&&(r=!0);o.xu=i}}r&&rh(n)}function u6(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function rh(t){t.Nu.forEach(e=>{e.next()})}class l6{constructor(e,n,r){this.query=e,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ui(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),n=!0):this.Lu(e,this.onlineState)&&(this.qu(e),n=!0),this.Fu=e,n}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let n=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),n=!0),n}Lu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Uu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Bu(e){if(e.docChanges.length>0)return!0;const n=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qu(e){e=ui.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.key=e}}class e1{constructor(e){this.key=e}}class c6{constructor(e,n){this.query=e,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=oe(),this.mutatedKeys=oe(),this.Zu=Ey(e),this.tc=new Xr(this.Zu)}get ec(){return this.Ju}nc(e,n){const r=n?n.sc:new Dm,i=n?n.tc:this.tc;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,_)=>{const v=i.get(h),b=Hu(this.query,_)?_:null,I=!!v&&this.mutatedKeys.has(v.key),C=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let y=!1;v&&b?v.data.isEqual(b.data)?I!==C&&(r.track({type:3,doc:b}),y=!0):this.ic(v,b)||(r.track({type:2,doc:b}),y=!0,(l&&this.Zu(b,l)>0||c&&this.Zu(b,c)<0)&&(u=!0)):!v&&b?(r.track({type:0,doc:b}),y=!0):v&&!b&&(r.track({type:1,doc:v}),y=!0,(l||c)&&(u=!0)),y&&(b?(o=o.add(b),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tc:o,sc:r,ji:u,mutatedKeys:s}}ic(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const s=e.sc.Cu();s.sort((c,h)=>function(_,v){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return b(_)-b(v)}(c.type,h.type)||this.Zu(c.doc,h.doc)),this.rc(r);const o=n?this.oc():[],u=this.Xu.size===0&&this.current?1:0,l=u!==this.Yu;return this.Yu=u,s.length!==0||l?{snapshot:new ui(this.query,e.tc,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}ku(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tc:this.tc,sc:new Dm,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(n=>this.Ju=this.Ju.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ju=this.Ju.delete(n)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=oe(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const n=[];return e.forEach(r=>{this.Xu.has(r)||n.push(new e1(r))}),this.Xu.forEach(r=>{e.has(r)||n.push(new Zy(r))}),n}ac(e){this.Ju=e.sr,this.Xu=oe();const n=this.nc(e.documents);return this.applyChanges(n,!0)}hc(){return ui.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,this.Yu===0,this.hasCachedResults)}}class d6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f6{constructor(e){this.key=e,this.lc=!1}}class h6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new ki(u=>_y(u),Vu),this._c=new Map,this.wc=new Set,this.mc=new ke(Q.comparator),this.gc=new Map,this.yc=new Qf,this.Ic={},this.Tc=new Map,this.Ec=ai.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return this.Ac===!0}}async function p6(t,e){const n=C6(t);let r,i;const s=n.dc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.hc();else{const o=await Lk(n.localStore,fn(e)),u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await m6(n,e,r,u==="current",o.resumeToken),n.isPrimaryClient&&Ky(n.remoteStore,o)}return i}async function m6(t,e,n,r,i){t.Rc=(_,v,b)=>async function(I,C,y,m){let g=C.view.nc(y);g.ji&&(g=await Im(I.localStore,C.query,!1).then(({documents:f})=>C.view.nc(f,g)));const T=m&&m.targetChanges.get(C.targetId),a=C.view.applyChanges(g,I.isPrimaryClient,T);return Om(I,C.targetId,a.uc),a.snapshot}(t,_,v,b);const s=await Im(t.localStore,e,!0),o=new c6(e,s.sr),u=o.nc(s.documents),l=po.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(u,t.isPrimaryClient,l);Om(t,n,c.uc);const h=new d6(e,n,o);return t.dc.set(e,h),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function g6(t,e){const n=ne(t),r=n.dc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Vu(s,e))),void n.dc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ld(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Wy(n.remoteStore,r.targetId),cd(n,r.targetId)}).catch(co)):(cd(n,r.targetId),await ld(n.localStore,r.targetId,!0))}async function v6(t,e,n){const r=T6(t);try{const i=await function(s,o){const u=ne(s),l=Re.now(),c=o.reduce((v,b)=>v.add(b.key),oe());let h,_;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=hn(),I=oe();return u.Xi.getEntries(v,c).next(C=>{b=C,b.forEach((y,m)=>{m.isValidDocument()||(I=I.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,b)).next(C=>{h=C;const y=[];for(const m of o){const g=BS(m,h.get(m.key).overlayedDocument);g!=null&&y.push(new wr(m.key,g,hy(g.value.mapValue),zt.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,y,o)}).next(C=>{_=C;const y=C.applyToLocalDocumentSet(h,I);return u.documentOverlayCache.saveOverlays(v,C.batchId,y)})}).then(()=>({batchId:_.batchId,changes:ky(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let l=s.Ic[s.currentUser.toKey()];l||(l=new ke(le)),l=l.insert(o,u),s.Ic[s.currentUser.toKey()]=l}(r,i.batchId,n),await go(r,i.changes),await Xu(r.remoteStore)}catch(i){const s=nh(i,"Failed to persist write");n.reject(s)}}async function t1(t,e){const n=ne(t);try{const r=await Mk(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.gc.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.lc=!0:i.modifiedDocuments.size>0?ve(o.lc):i.removedDocuments.size>0&&(ve(o.lc),o.lc=!1))}),await go(n,r,e)}catch(r){await co(r)}}function Mm(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.dc.forEach((s,o)=>{const u=o.view.ku(e);u.snapshot&&i.push(u.snapshot)}),function(s,o){const u=ne(s);u.onlineState=o;let l=!1;u.queries.forEach((c,h)=>{for(const _ of h.listeners)_.ku(o)&&(l=!0)}),l&&rh(u)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y6(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.gc.get(e),s=i&&i.key;if(s){let o=new ke(Q.comparator);o=o.insert(s,Je.newNoDocument(s,ee.min()));const u=oe().add(s),l=new Wu(ee.min(),new Map,new ke(le),o,u);await t1(r,l),r.mc=r.mc.remove(s),r.gc.delete(e),ih(r)}else await ld(r.localStore,e,!1).then(()=>cd(r,e,n)).catch(co)}async function w6(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await Dk(n.localStore,e);r1(n,r,null),n1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await go(n,i)}catch(i){await co(i)}}async function _6(t,e,n){const r=ne(t);try{const i=await function(s,o){const u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,o).next(h=>(ve(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);r1(r,e,n),n1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await go(r,i)}catch(i){await co(i)}}function n1(t,e){(t.Tc.get(e)||[]).forEach(n=>{n.resolve()}),t.Tc.delete(e)}function r1(t,e,n){const r=ne(t);let i=r.Ic[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function cd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.dc.delete(r),n&&t.fc.vc(r,n);t._c.delete(e),t.isPrimaryClient&&t.yc.ps(e).forEach(r=>{t.yc.containsKey(r)||i1(t,r)})}function i1(t,e){t.wc.delete(e.path.canonicalString());const n=t.mc.get(e);n!==null&&(Wy(t.remoteStore,n),t.mc=t.mc.remove(e),t.gc.delete(n),ih(t))}function Om(t,e,n){for(const r of n)r instanceof Zy?(t.yc.addReference(r.key,e),E6(t,r)):r instanceof e1?(W("SyncEngine","Document no longer in limbo: "+r.key),t.yc.removeReference(r.key,e),t.yc.containsKey(r.key)||i1(t,r.key)):J()}function E6(t,e){const n=e.key,r=n.path.canonicalString();t.mc.get(n)||t.wc.has(r)||(W("SyncEngine","New document in limbo: "+n),t.wc.add(r),ih(t))}function ih(t){for(;t.wc.size>0&&t.mc.size<t.maxConcurrentLimboResolutions;){const e=t.wc.values().next().value;t.wc.delete(e);const n=new Q(we.fromString(e)),r=t.Ec.next();t.gc.set(r,new f6(n)),t.mc=t.mc.insert(n,r),Ky(t.remoteStore,new En(fn(Vf(n.path)),r,"TargetPurposeLimboResolution",xf.ct))}}async function go(t,e,n){const r=ne(t),i=[],s=[],o=[];r.dc.isEmpty()||(r.dc.forEach((u,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const h=Yf.Bi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.fc.eu(i),await async function(u,l){const c=ne(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>x.forEach(l,_=>x.forEach(_.$i,v=>c.persistence.referenceDelegate.addReference(h,_.targetId,v)).next(()=>x.forEach(_.Fi,v=>c.persistence.referenceDelegate.removeReference(h,_.targetId,v)))))}catch(h){if(!fo(h))throw h;W("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const _=h.targetId;if(!h.fromCache){const v=c.Hi.get(_),b=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(b);c.Hi=c.Hi.insert(_,I)}}}(r.localStore,s))}async function S6(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await Uy(n.localStore,e);n.currentUser=e,function(i,s){i.Tc.forEach(o=>{o.forEach(u=>{u.reject(new X(R.CANCELLED,s))})}),i.Tc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await go(n,r.tr)}}function k6(t,e){const n=ne(t),r=n.gc.get(e);if(r&&r.lc)return oe().add(r.key);{let i=oe();const s=n._c.get(e);if(!s)return i;for(const o of s){const u=n.dc.get(o);i=i.unionWith(u.view.ec)}return i}}function C6(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y6.bind(null,e),e.fc.eu=a6.bind(null,e.eventManager),e.fc.vc=u6.bind(null,e.eventManager),e}function T6(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_6.bind(null,e),e}class $m{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Nk(this.persistence,new Ak,e.initialUser,this.serializer)}createPersistence(e){return new bk(Xf.js,this.serializer)}createSharedClientState(e){return new xk}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class b6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S6.bind(null,this.syncEngine),await n6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new i6}createDatastore(e){const n=Gu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new Bk(i));var i;return function(s,o,u,l){return new Hk(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>Mm(this.syncEngine,u,0),o=Pm.D()?new Pm:new zk,new Kk(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,u,l,c){const h=new h6(r,i,s,o,u,l);return c&&(h.Ac=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ne(e);W("RemoteStore","RemoteStore shutting down."),n.Au.add(5),await mo(n),n.vu.shutdown(),n.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):dn("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=cy.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wl(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Uy(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N6(t);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Nm(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Nm(e.remoteStore,s)),t._onlineComponents=e}function P6(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function N6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!P6(n))throw n;ri("Error using user provided cache. Falling back to memory cache: "+n),await Wl(t,new $m)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await Wl(t,new $m);return t._offlineComponents}async function s1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await Lm(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await Lm(t,new b6))),t._onlineComponents}function D6(t){return s1(t).then(e=>e.syncEngine)}async function Rm(t){const e=await s1(t),n=e.eventManager;return n.onListen=p6.bind(null,e.syncEngine),n.onUnlisten=g6.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t,e,n){if(!n)throw new X(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M6(t,e,n,r){if(e===!0&&r===!0)throw new X(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zm(t){if(!Q.isDocumentKey(t))throw new X(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jm(t){if(Q.isDocumentKey(t))throw new X(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sh(t);throw new X(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new X(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fm(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new XE;switch(n.type){case"firstParty":return new eS(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new X(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=xm.get(e);n&&(W("ComponentProvider","Removing Datastore"),xm.delete(e),n.terminate())}(this),Promise.resolve()}}function O6(t,e,n,r={}){var i;const s=(t=Mn(t,Yu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&ri("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,u;if(typeof r.mockUserToken=="string")o=r.mockUserToken,u=Ye.MOCK_USER;else{o=M2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new X(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ye(l)}t._authCredentials=new YE(new ly(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new On(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}}class Ju{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ju(this.firestore,e,this._query)}}class On extends Ju{constructor(e,n,r){super(e,n,Vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new Q(e))}withConverter(e){return new On(this.firestore,e,this._path)}}function $6(t,e,...n){if(t=ti(t),o1("collection","path",e),t instanceof Yu){const r=we.fromString(e,...n);return jm(r),new On(t,null,r)}{if(!(t instanceof vt||t instanceof On))throw new X(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return jm(r),new On(t.firestore,null,r)}}function dd(t,e,...n){if(t=ti(t),arguments.length===1&&(e=cy.A()),o1("doc","path",e),t instanceof Yu){const r=we.fromString(e,...n);return zm(r),new vt(t,null,new Q(r))}{if(!(t instanceof vt||t instanceof On))throw new X(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return zm(r),new vt(t.firestore,t instanceof On?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Hy(this,"async_queue_retry"),this.Yc=()=>{const n=Kl();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Lo.ko()};const e=Kl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const n=Kl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const n=new or;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}async ta(){if(this.Gc.length!==0){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(e){if(!fo(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(e){const n=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{this.zc=r,this.Wc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw dn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Wc=!1,r))));return this.Kc=n,n}enqueueAfterDelay(e,n,r){this.Xc(),this.Jc.indexOf(e)>-1&&(n=0);const i=th.createAndSchedule(this,e,n,r,s=>this.ea(s));return this.jc.push(i),i}Xc(){this.zc&&J()}verifyOperationInProgress(){}async na(){let e;do e=this.Kc,await e;while(e!==this.Kc)}sa(e){for(const n of this.jc)if(n.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.jc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const n=this.jc.indexOf(e);this.jc.splice(n,1)}}function Bm(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class li extends Yu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new L6,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||u1(this),this._firestoreClient.terminate()}}function R6(t,e){const n=typeof t=="object"?t:R8(),r=typeof t=="string"?t:e||"(default)",i=M8(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=P2("firestore");s&&O6(i,...s)}return i}function a1(t){return t._firestoreClient||u1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function u1(t){var e,n,r;const i=t._freezeSettings(),s=function(o,u,l,c){return new fS(o,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new A6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(ot.fromBase64String(e))}catch(n){throw new X(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=/^__.*__$/;class z6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ho(e,this.data,n,this.fieldTransforms)}}function c1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class uh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.oa(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new uh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Wa(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(e.length===0)throw this._a("Document fields must not be empty");if(c1(this.ua)&&x6.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class j6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gu(e)}ga(e,n,r,i=!1){return new uh({ua:e,methodName:n,ma:r,path:Ze.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d1(t){const e=t._freezeSettings(),n=Gu(t._databaseId);return new j6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f1(t,e,n,r,i,s={}){const o=t.ga(s.merge||s.mergeFields?2:0,e,n,i);g1("Data must be an object, but it was:",o,r);const u=p1(r,o);let l,c;if(s.merge)l=new xt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const _ of s.mergeFields){const v=F6(e,_,n);if(!o.contains(v))throw new X(R.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);U6(h,v)||h.push(v)}l=new xt(h),c=o.fieldTransforms.filter(_=>l.covers(_.field))}else l=null,c=o.fieldTransforms;return new z6(new Ct(u),l,c)}function h1(t,e){if(m1(t=ti(t)))return g1("Unsupported field value:",e,t),p1(t,e);if(t instanceof l1)return function(n,r){if(!c1(r.ua))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ha&&e.ua!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let u=h1(o,r.da(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ti(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return LS(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Re.fromDate(n);return{timestampValue:qa(r.serializer,i)}}if(n instanceof Re){const i=new Re(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qa(r.serializer,i)}}if(n instanceof ah)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ci)return{bytesValue:Ry(r.serializer,n._byteString)};if(n instanceof vt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Gf(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${sh(n)}`)}(t,e)}function p1(t,e){const n={};return dy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(r,i)=>{const s=h1(i,e.aa(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function m1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof ah||t instanceof ci||t instanceof vt||t instanceof l1)}function g1(t,e,n){if(!m1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=sh(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function F6(t,e,n){if((e=ti(e))instanceof oh)return e._internalPath;if(typeof e=="string")return v1(t,e);throw Wa("Field path arguments must be of type string or ",t,!1,void 0,n)}const B6=new RegExp("[~\\*/\\[\\]]");function v1(t,e,n){if(e.search(B6)>=0)throw Wa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oh(...e.split("."))._internalPath}catch{throw Wa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wa(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(R.INVALID_ARGUMENT,u+t+l)}function U6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V6 extends y1{data(){return super.data()}}function w1(t,e){return typeof e=="string"?v1(t,e):e instanceof oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q6{convertValue(e,n="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Si(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ah(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xs(e));default:return null}}convertTimestamp(e){const n=Fn(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);ve(By(r));const i=new zs(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||dn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E1 extends y1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ia(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(w1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ia extends E1{data(e={}){return super.data(e)}}class K6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ia(this._firestore,this._userDataWriter,r.key,r,new Xi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const u=new ia(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Xi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const u=new ia(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Xi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:W6(o.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function W6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class S1 extends q6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function G6(t,e,n){t=Mn(t,vt);const r=Mn(t.firestore,li),i=_1(t.converter,e,n);return lh(r,[f1(d1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zt.none())])}function Q6(t){return lh(Mn(t.firestore,li),[new Hf(t._key,zt.none())])}function X6(t,e){const n=Mn(t.firestore,li),r=dd(t),i=_1(t.converter,e);return lh(n,[f1(d1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zt.exists(!1))]).then(()=>r)}function Y6(t,...e){var n,r,i;t=ti(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Bm(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(Bm(e[o])){const _=e[o];e[o]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[o+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[o+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let l,c,h;if(t instanceof vt)c=Mn(t.firestore,li),h=Vf(t._key.path),l={next:_=>{e[o]&&e[o](J6(c,t,_))},error:e[o+1],complete:e[o+2]};else{const _=Mn(t,Ju);c=Mn(_.firestore,li),h=_._query;const v=new S1(c);l={next:b=>{e[o]&&e[o](new K6(c,v,_,b))},error:e[o+1],complete:e[o+2]},H6(t._query)}return function(_,v,b,I){const C=new I6(I),y=new l6(v,C,b);return _.asyncQueue.enqueueAndForget(async()=>s6(await Rm(_),y)),()=>{C.Sc(),_.asyncQueue.enqueueAndForget(async()=>o6(await Rm(_),y))}}(a1(c),h,u,l)}function lh(t,e){return function(n,r){const i=new or;return n.asyncQueue.enqueueAndForget(async()=>v6(await D6(n),r,i)),i.promise}(a1(t),e)}function J6(t,e,n){const r=n.docs.get(e._key),i=new S1(t);return new E1(t,i,e._key,r,new Xi(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Ei=n})(L8),Na(new Ps("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new li(new JE(n.getProvider("auth-internal")),new nS(n.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zs(u.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Kr(om,"3.11.0",t),Kr(om,"3.11.0","esm2017")})();var Z6="firebase",e4="9.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(Z6,e4,"app");const t4={apiKey:"AIzaSyC0SV4h02si538fw40ylJrix3wZNUEDxuk",authDomain:"react-notes-2959c.firebaseapp.com",projectId:"react-notes-2959c",storageBucket:"react-notes-2959c.appspot.com",messagingSenderId:"608729515472",appId:"1:608729515472:web:8a9a6f8c5efac0abce65d5"},n4=n0(t4),fd=R6(n4),Um=$6(fd,"notes");function r4(){const[t,e]=Ft.useState([]),[n,r]=Ft.useState(""),[i,s]=Ft.useState(""),o=t.find(_=>_.id===n)||t[0],u=t.sort((_,v)=>v.updatedAt-_.updatedAt);Ft.useEffect(()=>Y6(Um,function(v){const b=v.docs.map(I=>({...I.data(),id:I.id}));e(b)}),[]),Ft.useEffect(()=>{var _;n||r((_=t[0])==null?void 0:_.id)},[t]),Ft.useEffect(()=>{o&&s(o.body)},[o]),Ft.useEffect(()=>{const _=setTimeout(()=>{i!==o.body&&c(i)},500);return()=>clearTimeout(_)},[i]);async function l(){const _={body:"# Type your markdown note's title here",createdAt:Date.now(),updatedAt:Date.now()},v=await X6(Um,_);r(v.id)}async function c(_){const v=dd(fd,"notes",n);await G6(v,{body:_,updatedAt:Date.now()},{merge:!0})}async function h(_){const v=dd(fd,"notes",_);await Q6(v)}return Oe.jsx("main",{children:t.length>0?Oe.jsxs(ff,{sizes:[30,70],direction:"horizontal",className:"split",children:[Oe.jsx(O3,{notes:u,currentNote:o,setCurrentNoteId:r,newNote:l,deleteNote:h}),Oe.jsx(c2,{tempNoteText:i,setTempNoteText:s})]}):Oe.jsxs("div",{className:"no-notes",children:[Oe.jsx("h1",{children:"You have no notes"}),Oe.jsx("button",{className:"first-note",onClick:l,children:"Create one now"})]})})}M3.render(Oe.jsx(r4,{}),document.getElementById("root"));
